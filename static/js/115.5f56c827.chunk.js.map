{"version":3,"file":"static/js/115.5f56c827.chunk.js","mappings":"0RAgBQA,EAASC,OAATD,KAUO,SAASE,IACtB,OAAiBC,EAAAA,EAAAA,MAAVC,GAAP,eAEMC,EAAMC,EAAAA,WAA2BC,EAAAA,IACvC,EAA4EF,EAApEG,SAAAA,OAAR,MAAmB,GAAnB,IAA4EH,EAArDI,WAAAA,OAAvB,MAAoC,CAAC,EAArC,IAA4EJ,EAApCK,OAAAA,OAAxC,MAAiD,GAAjD,EAAqDC,EAAuBN,EAAvBM,WAAYC,EAAWP,EAAXO,OAEjE,OAAKP,EAAIQ,UAAaF,GAGpB,UAAC,UAAD,CACEG,MAAOd,EAAKe,EAAAA,EAAM,kBAClBC,KAAK,gBACLC,SACE,SAAC,UAAD,CAAYC,GAAG,OAAOC,cAAe,CAAC,qBAAsBC,UAAU,oBAAtE,SACGpB,EAAKe,EAAAA,EAAM,8BAGhBI,cAAe,CAAC,sBARlB,UAUkB,aAAfd,EAAIgB,SAAyB,SAAC,KAAD,IAE7BV,IACC,gBAAKS,UAAU,qBAAf,UACE,SAAC,IAAD,CACET,WAAYA,EACZW,MAAOjB,EAAIiB,MAEXC,OAAQ,CAAC,WAAY,OAAQ,YAAa,OAAQ,UAAW,SAAU,SAAU,WAKtFlB,EAAIQ,WAAa,GAAD,OAAIT,KAAaI,IAChC,iBAAKY,UAAU,2CAAf,WACE,cAAGA,UAAU,mBAAb,SAAiCpB,EAAKe,EAAAA,EAAM,0BAC5C,gBAAKK,UAAU,OAAf,UACE,SAAC,UAAD,CAAYF,GAAG,OAAOC,cAAe,CAAC,qBAAsBC,UAAU,yBAAtE,SACGpB,EAAKe,EAAAA,EAAM,uCAKnBV,EAAIQ,UAAJ,UAAmBT,IAAYI,GAAiC,KAAb,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAUgB,UACpD,+BACE,gBAAKJ,UAAU,2CAAf,kCAGHZ,GAAYA,EAASgB,OAAS,IAC7B,iBAAKJ,UAAU,gBAAf,iBACGZ,QADH,IACGA,OADH,EACGA,EAAUiB,KAAI,SAACC,GAAD,OACb,mBAAC,KAAD,CAAuBA,KAAAA,EAAMtB,OAAAA,EAAQM,OAAAA,EAAUiB,SAAU,kBAAMf,EAAO,CAAER,OAAAA,GAAf,EAA0BwB,IAAKF,EAAKG,MADhF,IAIdpB,IACC,0BACE,SAAC,MAAD,kBAAgBA,GAAhB,IAA4BqB,UAAWC,EAAAA,GAAAA,KAAYb,IAAE,aAjDxB,IAwD1C,C,qBCtFD,KAEE,gBAAiB,CAAEc,GAAI,aAAWC,GAAI,WACtC,eAAgB,CAAED,GAAI,0CAA2CC,GAAI,yBAGrE,eAAgB,CAAED,GAAI,MAAOC,GAAI,OAGjC,qBAAsB,CAAED,GAAI,aAAcC,GAAI,aAG9C,iBAAkB,CAAED,GAAI,WAASC,GAAI,SAGrC,oBAAqB,CAAED,GAAI,gBAAcC,GAAI,YAC7C,iCAAkC,CAAED,GAAI,uBAAwBC,GAAI,kBAGpE,mBAAoB,CAAED,GAAI,qBAAsBC,GAAI,eAGpD,iBAAkB,CAAED,GAAI,WAAYC,GAAI,YACxC,2BAA4B,CAAED,GAAI,UAAWC,GAAI,eACjD,sBAAuB,CAAED,GAAI,oCAAqCC,GAAI,4CACtE,+BAAgC,CAAED,GAAI,qBAAsBC,GAAI,qBAGhE,gBAAiB,CAAED,GAAI,cAAeC,GAAI,Q","sources":["../../../../shopy/shopy-storejs/src/product/views.List.tsx","../../../../shopy/shopy-storejs/src/product/views.lang.ts"],"sourcesContent":["import * as React from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport lang from './views.lang';\n\nimport Staff from '@miq/staffjs';\n\nimport type { TSDState } from '@miq/contextjs';\nimport type { CategoryChoicesType, TProduct, TProductStageData } from '../types';\n\nimport { Loading, Pagination } from '@miq/componentjs';\nimport { SharedDataCtx } from '@miq/contextjs';\n\nimport { ProductListItem } from './components';\nimport { ProductListFilterForm } from './forms/form.PListFilter';\n\nconst { i18n } = window;\n\ntype TContext = TSDState<{\n  products: TProduct[];\n  sizes: string[];\n  stages: TProductStageData[];\n  categories: CategoryChoicesType;\n  pagination: any;\n}>;\n\nexport default function ProductListView() {\n  const [params] = useSearchParams();\n\n  const ctx = React.useContext<TContext>(SharedDataCtx);\n  const { products = [], pagination = {}, stages = [], categories, reload } = ctx;\n\n  if (!ctx.isLoaded || !categories) return null;\n\n  return (\n    <Staff.View\n      title={i18n(lang, 'ListView.title')}\n      back=\"/staff/store/\"\n      actions={\n        <Staff.Link to=\"new/\" requiredPerms={['store.add_product']} className=\"btn btn-primary-3\">\n          {i18n(lang, 'ListView.actionLinkLabel')}\n        </Staff.Link>\n      }\n      requiredPerms={['store.view_product']}\n    >\n      {ctx.status === 'fetching' && <Loading />}\n\n      {categories && (\n        <div className=\"miq-container mb-1\">\n          <ProductListFilterForm\n            categories={categories}\n            sizes={ctx.sizes}\n            // fields={['category', 'published', 'sale', 'presale', 'nodesc', 'nosize', 'oos']}\n            fields={['category', 'size', 'published', 'sale', 'presale', 'nodesc', 'nosize', 'oos']}\n          />\n        </div>\n      )}\n\n      {ctx.isLoaded && !`${params}` && !products && (\n        <div className=\"text-center p-staff-list-empty py-3 my-3\">\n          <p className=\"fw-light text-md\">{i18n(lang, 'ListView.noItemText')}</p>\n          <div className=\"my-4\">\n            <Staff.Link to=\"new/\" requiredPerms={['store.add_product']} className=\"btn btn-primary btn-md\">\n              {i18n(lang, 'ListView.addProductLinkLabel')}\n            </Staff.Link>\n          </div>\n        </div>\n      )}\n      {ctx.isLoaded && `${params}` && products && products?.length === 0 && (\n        <>\n          <div className=\"text-center p-staff-list-empty py-3 my-3\">Pas de résultat</div>\n        </>\n      )}\n      {products && products.length > 0 && (\n        <div className=\"miq-container\">\n          {products?.map((item) => (\n            <ProductListItem {...{ item, params, stages }} onUpdate={() => reload({ params })} key={item.slug} />\n          ))}\n\n          {pagination && (\n            <div>\n              <Pagination {...pagination} component={Staff.Link} to />\n            </div>\n          )}\n        </div>\n      )}\n    </Staff.View>\n  );\n}\n","import type { TLang } from '@miq/utiljs';\n\nexport default {\n  //\n  'InfoTab.title': { fr: 'Détails', en: 'Details' },\n  'InfoTab.text': { fr: 'Modifier les informations de ce produit', en: \"Update product's info\" },\n\n  //\n  'SeoTab.title': { fr: 'Seo', en: 'Seo' },\n\n  //\n  'InventoryTab.title': { fr: 'Inventaire', en: 'Inventory' },\n\n  //\n  'MediaTab.title': { fr: 'Média', en: 'Media' },\n\n  //\n  'SettingsTab.title': { fr: 'Paramètres', en: 'Settings' },\n  'SettingsTab.deleteSectionTitle': { fr: 'Supprimer ce produit', en: 'Delete product' },\n\n  //\n  'CreateView.title': { fr: 'Ajouter un produit', en: 'Add product' },\n\n  //\n  'ListView.title': { fr: 'Produits', en: 'Products' },\n  'ListView.actionLinkLabel': { fr: 'Ajouter', en: 'Add product' },\n  'ListView.noItemText': { fr: 'Ajouter un produit pour commencer', en: 'Add products to your shop to get started' },\n  'ListView.addProductLinkLabel': { fr: 'Ajouter un produit', en: 'Add a new product' },\n  //\n\n  'Btn.saveLabel': { fr: 'Sauvegarder', en: 'Save' },\n\n  //\n} as TLang;\n"],"names":["i18n","window","ProductListView","useSearchParams","params","ctx","React","SharedDataCtx","products","pagination","stages","categories","reload","isLoaded","title","lang","back","actions","to","requiredPerms","className","status","sizes","fields","length","map","item","onUpdate","key","slug","component","Staff","fr","en"],"sourceRoot":""}