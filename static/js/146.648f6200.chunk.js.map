{"version":3,"file":"static/js/146.648f6200.chunk.js","mappings":"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","sources":["../../../../shopy/shopy-storejs/src/Product/views.Index.tsx","../../../../shopy/shopy-storejs/src/Product/views.lang.ts"],"sourcesContent":["import * as React from 'react';\nimport { Routes, Route, useSearchParams } from 'react-router-dom';\n\nimport './views.index.scss';\nimport lang from './views.lang';\n\nimport Staff from '@miq/staffjs';\nimport { Response } from '@miq/utiljs';\nimport { useDocumentTitle } from '@miq/hookjs';\nimport { Pagination, Viewports } from '@miq/componentjs';\n\nimport { TProduct } from '../types';\nimport { useCrudEmitter } from '../events';\n\nimport { ProductListFilterForm } from './forms/form.PListFilter';\nimport { useProductListRequest } from './utils';\nimport { ProductCardList, ProductListItem } from './components';\n\nconst { i18n } = window;\nconst ProductCreateView = React.lazy(() => import('./views.Create'));\nconst ProductStaffUpdateView = React.lazy(() => import('./views.Update'));\n\nconst UpdateRoute = ({ r }: { r: Response; params?: URLSearchParams }) => (\n  <div className=\"p-update-route d-grid grid-lg-4 gap-2\">\n    <div className=\"col main span-lg-3\">\n      <ProductStaffUpdateView back=\"/staff/store/products/\" />\n    </div>\n\n    <Viewports.LGUp className=\"\">\n      <div className=\"col aside\">\n        <div className=\"mb-1 mt-2\">\n          <ProductCardList items={r.items} itempath=\"../\" />\n        </div>\n\n        <div className=\"pb-4\" style={{ position: 'sticky', bottom: 3, overflowX: 'auto' }}>\n          <Pagination {...r.data} component={Staff.Link} to />\n        </div>\n      </div>\n    </Viewports.LGUp>\n  </div>\n);\n\nconst IndexRoute = ({ r, params }: { r: Response; params: URLSearchParams }) => {\n  useDocumentTitle('Products - Store');\n\n  return (\n    <Staff.View\n      title={i18n(lang, 'IndexRoute.title')}\n      back=\"/staff/store/\"\n      actions={\n        <Staff.Link to=\"new/\" requiredPerms={['store.add_product']} className=\"btn btn-primary-3\">\n          {i18n(lang, 'IndexRoute.actionLinkLabel')}\n        </Staff.Link>\n      }\n      requiredPerms={['store.view_product']}\n    >\n      {r.items.length === 0 ? (\n        <div className=\"text-center p-staff-list-empty py-3 my-3\">\n          <p className=\"fw-light text-md\">{i18n(lang, 'IndexRoute.noItemText')}</p>\n          <div className=\"my-4\">\n            <Staff.Link to=\"new/\" requiredPerms={['store.add_product']} className=\"btn btn-primary btn-md\">\n              {i18n(lang, 'IndexRoute.addProductLinkLabel')}\n            </Staff.Link>\n          </div>\n        </div>\n      ) : (\n        <>\n          <ProductListFilterForm\n            categories={r.data?.categories}\n            fields={['category', 'published', 'sale', 'presale', 'nodesc', 'nosize', 'oos']}\n          />\n\n          {r.items.map((item: TProduct) => (\n            <ProductListItem item={item} {...{ params, stages: r.data?.stages }} key={item.slug} />\n          ))}\n\n          <div>\n            <Pagination {...r.data} component={Staff.Link} to />\n          </div>\n        </>\n      )}\n    </Staff.View>\n  );\n};\n\nexport default function ProductStaffIndexView() {\n  const { res, ...rest } = useProductListRequest();\n  const [params] = useSearchParams();\n\n  useCrudEmitter({ onUpdate: rest.updateItem, onDestroy: rest.removeItem });\n\n  const r = new Response(res);\n  if (!r.isSuccess) return null;\n\n  return (\n    <Routes>\n      <Route path=\":prodSlug/\" element={<UpdateRoute {...{ r, params }} />} />\n      <Route path=\"new\" element={<ProductCreateView />} />\n      <Route index element={<IndexRoute {...{ r, params }} />} />\n    </Routes>\n  );\n}\n","import { TLang } from '@miq/utiljs';\n\nexport default {\n  //\n  'InfoTab.title': { fr: 'Détails', en: 'Details' },\n  'InfoTab.text': { fr: 'Modifier les informations de ce produit', en: \"Update product's info\" },\n\n  //\n  'SeoTab.title': { fr: 'Seo', en: 'Seo' },\n\n  //\n  'InventoryTab.title': { fr: 'Inventaire', en: 'Inventory' },\n\n  //\n  'MediaTab.title': { fr: 'Média', en: 'Media' },\n\n  //\n  'SettingsTab.title': { fr: 'Paramètres', en: 'Settings' },\n  'SettingsTab.deleteSectionTitle': { fr: 'Supprimer ce produit', en: 'Delete product' },\n\n  //\n  'CreateView.title': { fr: 'Ajouter un produit', en: 'Add product' },\n\n  //\n  'IndexRoute.title': { fr: 'Produits', en: 'Products' },\n  'IndexRoute.actionLinkLabel': { fr: 'Ajouter', en: 'Add product' },\n  'IndexRoute.noItemText': { fr: 'Ajouter un produit pour commencer', en: 'Add products to your shop to get started' },\n  'IndexRoute.addProductLinkLabel': { fr: 'Ajouter un produit', en: 'Add a new product' },\n  //\n\n  'Btn.saveLabel': { fr: 'Sauvegarder', en: 'Save' },\n\n  //\n} as TLang;\n"],"names":["i18n","window","ProductCreateView","React","ProductStaffUpdateView","UpdateRoute","r","className","back","items","itempath","style","position","bottom","overflowX","data","component","Staff","to","IndexRoute","params","useDocumentTitle","title","lang","actions","requiredPerms","length","categories","fields","map","item","stages","key","slug","ProductStaffIndexView","useProductListRequest","res","rest","useSearchParams","useCrudEmitter","onUpdate","updateItem","onDestroy","removeItem","Response","isSuccess","path","element","index","fr","en"],"sourceRoot":""}