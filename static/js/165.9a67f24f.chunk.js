"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[165],{7150:function(e,t,n){n.d(t,{a:function(){return d},y:function(){return o}});var i=n(3872),r=n(4384),s=(n(7406),n(5789)),a=n(2050),l=n(7457),c=["instance"],d=function(e){var t=e.instance,n=(0,r.Z)(e,c);return(0,l.jsxs)(a.pu,{renderHeader:function(){return(0,l.jsx)("div",{className:"text-md p-1",children:"Le client a t'il re\xe7u le produit?"})},renderFooter:function(e){var i=e.setOpen;return(0,l.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,l.jsx)(a.zx,{onClick:function(){return i(!1)},children:"Pas encore"}),(0,l.jsx)(a.zx,{onClick:function(){return t.mark_delivered().then((function(e){var t;null===n||void 0===n||null===(t=n.onSuccess)||void 0===t||t.call(n,e)})).catch((function(e){var t;null===n||void 0===n||null===(t=n.onFailure)||void 0===t||t.call(n,e)}))},className:"btn-primary fw-bold",children:"Oui"})]})},render:function(){return(0,l.jsx)("div",{className:"p-3"})},className:"btn-primary btn-md fw-bold w-50 d-flex align-items-center justify-content-center",children:[null!==t&&void 0!==t&&t.is_delivered?(0,l.jsx)(a.PJ._D,{}):(0,l.jsx)(a.PJ.NW,{}),!(null!==n&&void 0!==n&&n.icon)&&(0,l.jsx)("span",{className:"ms-1",children:"Confirmer la livraison"})]})},o=function(e){return(0,l.jsx)(s.ZP.Link,(0,i.Z)((0,i.Z)({title:"Modifier cette commande"},e),{},{to:"/staff/sales/orders/".concat(e.instance.slug,"/"),requiredPerms:["sales.change_order"],children:e.children}))}},4034:function(e,t,n){n.d(t,{K:function(){return d}});var i=n(5561),r=n(1253),s=n(4733),a=n(2562),l=n(5789),c=function(e){(0,s.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"mark_delivered",value:function(){var e;return null!==(e=this.data)&&void 0!==e&&e.is_delivered?Promise.resolve({data:this.data}):this.post("".concat(this._path,"deliver/"),{},{timeout:5e3})}},{key:"deliveredDt",get:function(){var e;return this.formatDt(null===(e=this.data)||void 0===e?void 0:e.dt_delivered)}},{key:"updatedDt",get:function(){var e;return this.formatDt(null===(e=this.data)||void 0===e?void 0:e.updated)}},{key:"createdDt",get:function(){var e;return this.formatDt(null===(e=this.data)||void 0===e?void 0:e.created)}},{key:"formatDt",value:function(e){return e?new Date(e).toLocaleDateString(void 0,{day:"2-digit",weekday:"short",month:"short",year:"2-digit"}):null}}]),n}(l.x5),d=(0,l.QY)("orders",c)},1165:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var i=n(3872),r=n(7406),s=n(5789),a=n(3088),l=n(2050),c=n(9474),d=n(4034),o=n(9450),u=n(7150),m=n(7457);function v(){(0,c.jr)("Orders - Sales");var e=r.useContext(o.h2),t=e.orders,n=e.pagination;return(0,m.jsx)(s.ZP.View,{title:"Commandes",back:"/staff/sales/",footer:n&&(0,m.jsx)("div",{children:(0,m.jsx)(l.tl,(0,i.Z)((0,i.Z)({},n),{},{component:s.ZP.Link,to:!0}))}),className:"sales-orders-view miq-container",headerCN:"miq-container",children:null===t||void 0===t?void 0:t.map((function(e){var t=(0,d.K)(e);return(0,m.jsx)(l.Zb,{style:{marginBottom:12},actions:(0,m.jsx)("div",{className:"d-flex",children:(0,m.jsx)(u.y,{instance:t,className:"btn btn-round btn-primary-3 ms-1",children:(0,m.jsx)(l.PJ.I8,{})})}),title:(0,m.jsx)("div",{className:"",children:"".concat(t.customer_name)}),className:"cart-list-item-card mb-1",children:(0,m.jsxs)("ul",{className:"text-sm",children:[(0,m.jsxs)("li",{className:"d-flex align-items-center justify-content-between",children:[(0,m.jsxs)("span",{className:"",children:[t.items_count," produit(s)"]}),(0,m.jsx)("span",{className:"fw-bold",children:(0,m.jsx)(a._S,{retail_price_data:(null===e||void 0===e?void 0:e.total)||(null===e||void 0===e?void 0:e.subtotal)})})]}),(0,m.jsx)("li",{className:"text-sm text-muted",children:t.createdDt})]})},e.slug)}))})}}}]);
//# sourceMappingURL=165.9a67f24f.chunk.js.map