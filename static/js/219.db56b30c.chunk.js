"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[219],{8744:function(e,t,n){n.d(t,{gm:function(){return o},pE:function(){return l}});var r=n(1135),a=n(7411),i=n(2518),s=n(2485),c=n(4116),u=function(e){(0,i.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"updatePages",value:function(e){return this.patch("".concat(this._path,"pages/"),e)}},{key:"updateSite",value:function(e){return this.patch("".concat(this._path,"site/"),e)}}]),n}(c.x5);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.eR)(e,"settings/",u)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.eR)(e,"index/")}},6219:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(8519),a=n(8312),i=n(6113),s=n(7497),c=n(4390),u=n(265),l=n(4124),o=n(34),d=n(9309),h=n(9514),v=n(1187),f=n(8744),p=n(9009),x=["children"],b=["instance","fields","preview"];function j(e){var t=(0,c.lr)(),n=(0,i.Z)(t,1)[0],r=s.useState(!0),a=(0,i.Z)(r,2),l=a[0],h=a[1],x=s.useContext(o.h2).site.settings,b=(0,u.QT)((function(){return(0,f.pE)({slug:x}).retrieve()}),{refreshDeps:[x]}),j=b.res;b.updateData;if(!j||!j.data)return null;var Z=(0,f.pE)(j.data),w=n.get("tab"),y=(0,p.jsx)(d.zx,{onClick:function(){return h(!l)},children:"Preview"});switch(w){case"privacy":return(0,p.jsx)(m,{back:"../",children:(0,p.jsx)(v.wX,{title:"Privacy policy"})});case"terms":return(0,p.jsx)(m,{back:"../",children:(0,p.jsx)(v.wX,{title:"Terms and conditions"})});default:return(0,p.jsx)(m,{back:"../",children:(0,p.jsx)(v.wX,{title:"About",actions:y,children:(0,p.jsx)(g,{instance:Z,preview:l,fields:["about"]})})})}}var m=function(e){var t=e.children,n=(0,a.Z)(e,x);return(0,p.jsx)(h.Z,(0,r.Z)((0,r.Z)({title:"Pages"},n),{},{children:(0,p.jsx)(v.wX,{children:t,header:(0,p.jsxs)("div",{className:"d-flex align-items-center border-bottom pb-2 mb-2",children:[(0,p.jsx)(d.$Q,{index:!0,target:"tab",className:"me-1",children:"About"}),(0,p.jsx)(d.$Q,{target:"tab",value:"privacy",className:"me-1",children:"Privacy"}),(0,p.jsx)(d.$Q,{target:"tab",value:"terms",className:"me-1",children:"Terms"}),(0,p.jsx)(d.$Q,{target:"tab",value:"faq",children:"Faq"})]})})}))},g=function(e){var t=e.instance,n=e.fields,r=e.preview,i=((0,a.Z)(e,b),(0,l.cI)({about:(null===t||void 0===t?void 0:t.about)||""}));if(r)return(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:i.values.about||"Nothing to preview ..."}});var s;return(0,p.jsxs)(l.ZP,{context:i,onSubmit:function(e){return e.preventDefault(),t.updatePages(i.values).then((function(e){})).catch((function(e){}))},children:[(s="about",n.includes("".concat(s))&&(0,p.jsx)(l.ZP.Field,{children:(0,p.jsx)(l.ZP.TextAreaX,{name:"about",mirror:i.values.about})})),(0,p.jsx)("div",{className:"my-3",children:(0,p.jsx)(l.ZP.Submit,{value:"Update"})})]})}}}]);
//# sourceMappingURL=219.db56b30c.chunk.js.map