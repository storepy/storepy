{"version":3,"file":"static/js/221.37397281.chunk.js","mappings":"mUAuBe,SAAS,EAAT,GAA2D,IAAD,MAA9CA,EAA8C,EAA9CA,KAAmBC,GAA2B,EAAxCC,UAAwC,cACvEC,EAAAA,EAAAA,IAAiB,0BAEjB,MAA0BC,EAAAA,SAAuB,IAAjD,eAAOC,EAAP,KAAcC,EAAd,KAEA,OACE,SAAC,UAAD,CACEC,MAAM,qBACNC,KAAK,yEACLC,KAAK,qBACLC,SAAS,uBAJX,UAME,iBAAKC,UAAU,uBAAf,UACGN,IAAS,gBAAKM,UAAU,4CAAf,SAA4DN,KAEtE,UAAC,aAAD,CACEO,QAAM,EACNL,MAAM,WACNM,QACE,4BACE,gBAAKF,UAAU,iCAAf,UACE,SAAC,KAAD,CAAmBG,MAAO,aAAcC,OAAM,OAAEf,QAAF,IAAEA,OAAF,EAAEA,EAAMgB,aAGvDhB,EAAKiB,WACJjB,EAAKiB,UAAUC,OAAS,IADzB,OAEClB,QAFD,IAECA,GAFD,UAECA,EAAMiB,iBAFP,aAEC,EAAiBE,KAAI,SAACC,GACpB,OACE,gBAAKT,UAAU,iCAAf,UACE,SAAC,KAAD,CAAsBU,KAAMD,KADuBA,EAAEE,KAI1D,MAEH,gBAAKX,UAAU,iCAAf,UACE,SAAC,KAAD,CAAmBY,MAAI,EAACT,MAAO,QAASC,OAAM,OAAEf,QAAF,IAAEA,OAAF,EAAEA,EAAMwB,aApB9D,WAyBE,SAAC,aAAD,CACEjB,OACE,iBAAKI,UAAU,4BAAf,WACE,SAAC,QAAD,KACA,gBAAKA,UAAU,OAAf,uBAJN,UAQE,SAAC,EAAAc,aAAD,CAAcC,KAAM1B,EAAK2B,mBAG3B,SAAC,aAAD,CACEpB,OACE,iBAAKI,UAAU,4BAAf,WACE,SAAC,QAAD,KACA,gBAAKA,UAAU,OAAf,kCAAkCX,QAAlC,IAAkCA,GAAlC,UAAkCA,EAAM4B,gBAAxC,aAAkC,EAAgBV,OAAlD,mBAJN,mBAQGlB,EAAK6B,aARR,aAQG,EAAYV,KAAI,SAACW,GAChB,OACE,gBAAkBnB,UAAU,oDAA5B,UACE,SAAC,MAAD,kBAAqBmB,GAArB,IAAwBC,KAAMD,EAAEE,eADxBC,EAAAA,EAAAA,MAIb,UAIL,gBAAKtB,UAAU,cAAf,UACE,SAAC,KAAD,CACEG,MAAM,qBACNoB,SAAUlC,EACVmC,UAAS,OAAElC,QAAF,IAAEA,OAAF,EAAEA,EAAOkC,UAClBC,QAAS,SAACC,GACR,GAAIpC,EAAMmC,QAAS,OAAOnC,EAAMmC,QAAQC,GACxC/B,EAAS,oBACV,UAMZ,C","sources":["../../../../shopy/shopy-salejs/src/cart/views.UpdatePay.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport type { TDiscount } from '../discount/types';\n\nimport Staff from '@miq/staffjs';\nimport { uuid } from '@miq/utiljs';\nimport { useDocumentTitle } from '@miq/hookjs';\nimport { Icons } from '@miq/componentjs';\n\nimport { CustomerCard } from '../customer';\nimport { CartDiscountListItem } from '../discount';\n\nimport { TCartInstance } from './utils';\nimport { CartPayButton } from './buttons';\nimport { CartPriceListItem, ItemProductCard } from './components';\n\ntype CartPayViewProps = {\n  cart: TCartInstance;\n  onUpdate?: (r: any) => void;\n  onSuccess?: (r: any) => void;\n  onError?: (r: any) => void;\n};\n\nexport default function ({ cart, onUpdate, ...props }: CartPayViewProps) {\n  useDocumentTitle('Mark cart paid - Sales');\n\n  const [error, setError] = React.useState<string>('');\n\n  return (\n    <Staff.View\n      title=\"Placer la commande\"\n      text=\"Ne placez la commande que quand le paiement a été éffectué\"\n      back=\"/staff/sales/carts\"\n      headerCN=\"miq-container center\"\n    >\n      <div className=\"miq-container center\">\n        {error && <div className=\"text-danger p-4 rounded mb-3 text-center \">{error}</div>}\n\n        <Staff.Section\n          border\n          title=\"Commande\"\n          footer={\n            <div>\n              <div className=\"d-flex justify-content-between\">\n                <CartPriceListItem label={'Sous-total'} amount={cart?.subtotal!} />\n              </div>\n\n              {cart.discounts &&\n                cart.discounts.length > 0 &&\n                cart?.discounts?.map((d: TDiscount) => {\n                  return (\n                    <div className=\"d-flex justify-content-between\" key={d.slug}>\n                      <CartDiscountListItem item={d} />\n                    </div>\n                  );\n                })}\n\n              <div className=\"d-flex justify-content-between\">\n                <CartPriceListItem bold label={'Total'} amount={cart?.total!} />\n              </div>\n            </div>\n          }\n        >\n          <Staff.Section\n            title={\n              <div className=\"d-flex align-items-center\">\n                <Icons.UserCircle />\n                <div className=\"ms-1\">Client</div>\n              </div>\n            }\n          >\n            <CustomerCard data={cart.customer_data!} />\n          </Staff.Section>\n\n          <Staff.Section\n            title={\n              <div className=\"d-flex align-items-center\">\n                <Icons.BrandAppGallery />\n                <div className=\"ms-1\">{`Panier (${cart?.products?.length} produits)`}</div>\n              </div>\n            }\n          >\n            {cart.items?.map((i) => {\n              return (\n                <div key={uuid()} className=\"d-flex justify-content-between align-items-center\">\n                  <ItemProductCard {...i} size={i.size_data} />\n                </div>\n              );\n            })}\n          </Staff.Section>\n        </Staff.Section>\n\n        <div className=\"text-center\">\n          <CartPayButton\n            label=\"Placer la commande\"\n            instance={cart}\n            onSuccess={props?.onSuccess}\n            onError={(err) => {\n              if (props.onError) return props.onError(err);\n              setError('An error occurred');\n            }}\n          />\n        </div>\n      </div>\n    </Staff.View>\n  );\n}\n"],"names":["cart","props","onUpdate","useDocumentTitle","React","error","setError","title","text","back","headerCN","className","border","footer","label","amount","subtotal","discounts","length","map","d","item","slug","bold","total","CustomerCard","data","customer_data","products","items","i","size","size_data","uuid","instance","onSuccess","onError","err"],"sourceRoot":""}