{"version":3,"file":"static/js/221.8f52c809.chunk.js","mappings":"8SAkBe,SAAS,EAAT,GAAiD,IAAD,IAApCA,EAAoC,EAApCA,KAASC,GAA2B,aAC7DC,EAAAA,EAAAA,IAAiB,0BAEjB,MAA0BC,EAAAA,SAAuB,IAAjD,eAAOC,EAAP,KAAcC,EAAd,KAEA,OACE,SAAC,UAAD,CACEC,MAAM,qBACNC,KAAK,yEACLC,KAAK,qBACLC,SAAS,uBAJX,UAME,iBAAKC,UAAU,uBAAf,UACGN,IAAS,gBAAKM,UAAU,4CAAf,SAA4DN,KAEtE,SAAC,aAAD,CAAeO,QAAM,EAACL,MAAM,SAA5B,UACE,SAAC,EAAAM,aAAD,CAAcC,KAAMb,EAAKc,mBAG3B,SAAC,aAAD,CACEH,QAAM,EACNL,MAAK,yBAAaN,QAAb,IAAaA,GAAb,UAAaA,EAAMe,gBAAnB,aAAa,EAAgBC,OAA7B,cACLC,SAAS,wBACTC,QACE,iBAAKR,UAAU,GAAf,WACE,iBAAKA,UAAU,iCAAf,WACE,iBAAMA,UAAU,GAAhB,uBACA,2BACE,SAAC,KAAD,CAAqBS,kBAAiB,OAAEnB,QAAF,IAAEA,OAAF,EAAEA,EAAMoB,iBAGlD,iBAAKV,UAAU,iCAAf,WACE,iBAAMA,UAAU,GAAhB,oBACA,iBAAMA,UAAU,UAAhB,UACE,SAAC,KAAD,CAAqBS,kBAAiB,OAAEnB,QAAF,IAAEA,OAAF,EAAEA,EAAMoB,mBAfxD,mBAqBGpB,EAAKqB,aArBR,aAqBG,EAAYC,KAAI,SAACC,GAChB,OACE,gBAAkBb,UAAU,oDAA5B,UACE,SAAC,KAAD,kBAAqBa,GAArB,IAAwBC,KAAMD,EAAEE,eADxBC,EAAAA,EAAAA,MAIb,OAGH,gBAAKhB,UAAU,cAAf,UACE,SAAC,KAAD,CACEiB,QAAS,WACP3B,EACG4B,YACAC,MAAK,SAACC,GAAO,IAAD,EACN,OAAL7B,QAAK,IAALA,GAAA,UAAAA,EAAO8B,iBAAP,cAAA9B,EAAmB6B,EACpB,IACAE,OAAM,SAACC,GACN,GAAIhC,EAAMiC,QAAS,OAAOjC,EAAMiC,QAAQD,GACxC5B,EAAS,oBACV,GACJ,EACD8B,SAAUnC,EAAKe,SAAUC,QAAU,EACnCN,UAAU,kCAbZ,6BAqBT,C","sources":["../../../../shopy/shopy-salejs/src/cart/views.UpdatePay.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport Staff from '@miq/staffjs';\nimport { uuid } from '@miq/utiljs';\nimport { Button } from '@miq/componentjs';\nimport { useDocumentTitle } from '@miq/hookjs';\nimport { ProductPriceDisplay } from '@shopy/storejs';\n\nimport { TCartInstance } from './utils';\nimport { ItemProductCard } from './components';\nimport { CustomerCard } from '../customer';\n\ntype CartPayViewProps = {\n  cart: TCartInstance;\n  onSuccess?: (r: any) => void;\n  onError?: (r: any) => void;\n};\n\nexport default function ({ cart, ...props }: CartPayViewProps) {\n  useDocumentTitle('Mark cart paid - Sales');\n\n  const [error, setError] = React.useState<string>('');\n\n  return (\n    <Staff.View\n      title=\"Placer la commande\"\n      text=\"Ne placez la commande que quand le paiement a été éffectué\"\n      back=\"/staff/sales/carts\"\n      headerCN=\"miq-container center\"\n    >\n      <div className=\"miq-container center\">\n        {error && <div className=\"text-danger p-4 rounded mb-3 text-center \">{error}</div>}\n\n        <Staff.Section border title=\"Client\">\n          <CustomerCard data={cart.customer_data!} />\n        </Staff.Section>\n\n        <Staff.Section\n          border\n          title={`Panier (${cart?.products?.length} produits)`}\n          actions={<></>}\n          footer={\n            <div className=\"\">\n              <div className=\"d-flex justify-content-between\">\n                <span className=\"\">Subtotal</span>\n                <span>\n                  <ProductPriceDisplay retail_price_data={cart?.subtotal} />\n                </span>\n              </div>\n              <div className=\"d-flex justify-content-between\">\n                <span className=\"\">Total</span>\n                <span className=\"fw-bold\">\n                  <ProductPriceDisplay retail_price_data={cart?.subtotal} />\n                </span>\n              </div>\n            </div>\n          }\n        >\n          {cart.items?.map((i) => {\n            return (\n              <div key={uuid()} className=\"d-flex justify-content-between align-items-center\">\n                <ItemProductCard {...i} size={i.size_data} />\n              </div>\n            );\n          })}\n        </Staff.Section>\n\n        <div className=\"text-center\">\n          <Button\n            onClick={() => {\n              cart\n                .mark_paid()\n                .then((r) => {\n                  props?.onSuccess?.(r);\n                })\n                .catch((err) => {\n                  if (props.onError) return props.onError(err);\n                  setError('An error occurred');\n                });\n            }}\n            disabled={cart.products!.length <= 0}\n            className=\"btn-primary btn-md fw-bold w-50\"\n          >\n            Commander\n          </Button>\n        </div>\n      </div>\n    </Staff.View>\n  );\n}\n"],"names":["cart","props","useDocumentTitle","React","error","setError","title","text","back","headerCN","className","border","CustomerCard","data","customer_data","products","length","actions","footer","retail_price_data","subtotal","items","map","i","size","size_data","uuid","onClick","mark_paid","then","r","onSuccess","catch","err","onError","disabled"],"sourceRoot":""}