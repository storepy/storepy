"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[221],{8221:function(e,n,s){s.r(n),s.d(n,{CartAddDiscountButton:function(){return p},default:function(){return v}});var t=s(3872),r=s(3251),c=s(4384),i=s(7406),a=s(5789),l=s(810),d=s(2050),o=s(9474),u=s(3088),m=s(7494),x=s(2444),j=s(7532),f=s(7457),h=["cart"];function v(e){var n,s,v=e.cart,N=(0,c.Z)(e,h);(0,o.jr)("Mark cart paid - Sales");var b=i.useState(""),w=(0,r.Z)(b,2),_=w[0],S=w[1];return(0,f.jsx)(a.ZP.View,{title:"Placer la commande",text:"Ne placez la commande que quand le paiement a \xe9t\xe9 \xe9ffectu\xe9",back:"/staff/sales/carts",headerCN:"miq-container center",children:(0,f.jsxs)("div",{className:"miq-container center",children:[_&&(0,f.jsx)("div",{className:"text-danger p-4 rounded mb-3 text-center ",children:_}),(0,f.jsxs)(a.ZP.Section,{border:!0,title:"Commande",actions:(0,f.jsx)(p,{instance:v}),footer:(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsx)("span",{className:"",children:"Subtotal"}),(0,f.jsx)("span",{children:(0,f.jsx)(u._S,{retail_price_data:null===v||void 0===v?void 0:v.subtotal})})]}),(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsx)("span",{className:"",children:"Total"}),(0,f.jsx)("span",{className:"fw-bold",children:(0,f.jsx)(u._S,{retail_price_data:null===v||void 0===v?void 0:v.subtotal})})]})]}),children:[(0,f.jsx)(a.ZP.Section,{title:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)(d.PJ.Ys,{}),(0,f.jsx)("div",{className:"ms-1",children:"Client"})]}),children:(0,f.jsx)(x.CustomerCard,{data:v.customer_data})}),(0,f.jsx)(a.ZP.Section,{title:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)(d.PJ.P2,{}),(0,f.jsx)("div",{className:"ms-1",children:"Panier (".concat(null===v||void 0===v||null===(n=v.products)||void 0===n?void 0:n.length," produits)")})]}),children:null===(s=v.items)||void 0===s?void 0:s.map((function(e){return(0,f.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,f.jsx)(m.n,(0,t.Z)((0,t.Z)({},e),{},{size:e.size_data}))},(0,l.Vj)())}))})]}),(0,f.jsx)("div",{className:"text-center",children:(0,f.jsx)(j.lW,{label:"Placer la commande",instance:v,onSuccess:null===N||void 0===N?void 0:N.onSuccess,onError:function(e){if(N.onError)return N.onError(e);S("An error occurred")}})})]})})}var p=function(e){var n=e.instance;e.onSuccess,e.onError;return(0,f.jsx)(d.pu,{disabled:n.products.length<=0,title:"Add discount",renderHeader:function(){return(0,f.jsx)("div",{className:"fw-bold p-1",children:"Ajouter une r\xe9duction"})},renderFooter:function(e){var n=e.setOpen;return(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center p-2",children:[(0,f.jsx)(d.zx,{onClick:function(){return n(!1)},children:"Annuler"}),(0,f.jsx)(d.zx,{onClick:function(){},className:"btn-primary fw-bold w-50",children:"Ajouter"})]})},render:function(){return(0,f.jsx)("div",{className:"p-3",children:"Une commande plac\xe9e ne peut plus \xeatre supprim\xe9e."})},className:"fw-bold",children:"R\xe9duction"})}}}]);
//# sourceMappingURL=221.a3bdc4b0.chunk.js.map