{"version":3,"file":"static/js/247.ba6ea95a.chunk.js","mappings":"8QASaA,EAAqB,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAASC,GAAZ,mBAChC,SAAC,WAAD,kBACMA,GADN,IAEEC,GAAE,wCAA4BF,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAMG,KAAlC,KACFC,cAAe,CAAC,yBAChBC,WAAWC,EAAAA,EAAAA,IAAM,CAAC,uBAAwBL,EAAMI,YAChDE,MAAM,oBANwB,E,UCCnB,SAASC,KACtBC,EAAAA,EAAAA,IAAiB,qBACjB,OAAyBC,EAAAA,EAAAA,KAAW,kBAAMC,EAAAA,EAAAA,KAAWC,MAAjB,IAA5BC,EAAR,EAAQA,IAER,GAFA,EAAaC,QAEA,OAAO,SAAC,KAAD,IAEpB,IAAMC,EAAI,IAAIC,EAAAA,GAA2BH,GACzC,OAAKE,EAAEE,WAGL,SAAC,UAAD,CAAYZ,UAAU,GAAtB,UACE,gBAAKA,UAAU,SAAf,SACGU,EAAEG,MAAMC,KAAI,SAACnB,GAAD,OACX,SAACoB,EAAD,CAAkBpB,KAAMA,IAAWqB,EAAAA,EAAAA,MADxB,QALM,IAW1B,CAED,IAAMD,EAAmB,SAAC,GAAuD,IAArDpB,EAAoD,EAApDA,KACpBsB,GAAOX,EAAAA,EAAAA,GAASX,GACtB,OACE,SAAC,KAAD,CACEuB,QAAM,EACNhB,OAAO,SAAC,IAAD,CAAcP,KAAMsB,EAAKtB,OAChCwB,SACE,+BACE,SAACzB,EAAD,CAAoBC,KAAMA,EAAMK,UAAU,+BAA1C,UACE,SAAC,QAAD,QAINA,UAAU,kBAGf,C","sources":["../../../../shopy/shopy-salejs/src/customer/links.tsx","../../../../shopy/shopy-salejs/src/customer/views.List.tsx"],"sourcesContent":["import * as React from 'react';\nimport { LinkProps } from 'react-router-dom';\n\nimport { TCustomer, TCustomerInstance } from './utils';\nimport Staff from '@miq/staffjs';\nimport { getCN } from '@miq/utiljs';\n\ntype TCustomerOrInstance = TCustomer | TCustomerInstance;\n\nexport const CustomerUpdateLink = ({ data, ...props }: { data: TCustomerOrInstance } & Omit<LinkProps, 'to'>) => (\n  <Staff.Link\n    {...props}\n    to={`/staff/sales/customers/${data?.slug}/`}\n    requiredPerms={['sales.change_customer']}\n    className={getCN(['customer-update-link', props.className])}\n    title=\"Update customer\"\n  />\n);\n","import * as React from 'react';\n\nimport { ResultsResponse, useDocumentTitle, useRequest } from '@miq/hookjs';\nimport Staff from '@miq/staffjs';\nimport { uuid } from '@miq/utiljs';\nimport { Icons, Loading, ViewSection } from '@miq/componentjs';\nimport { Customer, TCustomer, TCustomerInstance } from './utils';\nimport { CustomerUpdateLink } from './links';\nimport { CustomerCard } from './components';\n\nexport default function CustomerListView() {\n  useDocumentTitle('Customers - Sales');\n  const { res, loading } = useRequest(() => Customer().list());\n\n  if (loading) return <Loading />;\n\n  const r = new ResultsResponse<TCustomer>(res);\n  if (!r.isSuccess) return null;\n\n  return (\n    <Staff.View className=\"\">\n      <div className=\"d-grid\">\n        {r.items.map((data) => (\n          <CustomerListItem data={data} key={uuid()} />\n        ))}\n      </div>\n    </Staff.View>\n  );\n}\n\nconst CustomerListItem = ({ data }: { data: TCustomer | TCustomerInstance }) => {\n  const cust = Customer(data);\n  return (\n    <ViewSection\n      border\n      title={<CustomerCard data={cust.data} />}\n      actions={\n        <>\n          <CustomerUpdateLink data={data} className=\"btn btn-primary-3 btn-square\">\n            <Icons.Edit />\n          </CustomerUpdateLink>\n        </>\n      }\n      className=\"cust-list-item\"\n    />\n  );\n};\n"],"names":["CustomerUpdateLink","data","props","to","slug","requiredPerms","className","getCN","title","CustomerListView","useDocumentTitle","useRequest","Customer","list","res","loading","r","ResultsResponse","isSuccess","items","map","CustomerListItem","uuid","cust","border","actions"],"sourceRoot":""}