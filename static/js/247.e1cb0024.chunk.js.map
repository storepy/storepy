{"version":3,"file":"static/js/247.e1cb0024.chunk.js","mappings":"gRASaA,EAAqB,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAASC,GAAZ,mBAChC,SAAC,WAAD,kBACMA,GADN,IAEEC,GAAE,wCAA4BF,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAMG,KAAlC,KACFC,cAAe,CAAC,yBAChBC,WAAWC,EAAAA,EAAAA,IAAM,CAAC,uBAAwBL,EAAMI,YAChDE,MAAM,oBANwB,ECUnB,SAASC,IACtB,MAIIC,EAAAA,WAA4EC,EAAAA,IAJhF,IACEC,UAAAA,OADF,MACc,GADd,EAEEC,EAFF,EAEEA,WAIF,OANA,EAGEC,UAMA,SAAC,UAAD,CACEN,MAAM,UACNO,KAAK,gBACLT,UAAU,iCACVU,SAAS,gBACTC,OACEJ,IACE,0BACE,SAAC,MAAD,kBAAgBA,GAAhB,IAA4BK,UAAWC,EAAAA,GAAAA,KAAYhB,IAAE,OAR7D,UAaE,gBAAKG,UAAU,SAAf,gBACGM,QADH,IACGA,OADH,EACGA,EAAWQ,KAAI,SAACnB,GAAD,OACd,SAACoB,EAAD,CAAkBpB,KAAMA,IAAWqB,EAAAA,EAAAA,MADrB,SAjBA,SAAC,KAAD,GAuBvB,CAED,IAAMD,EAAmB,SAAC,GAAuC,IAArCpB,EAAoC,EAApCA,KAC1B,OACE,SAAC,KAAD,CACEsB,QAAM,EACNf,OACE,4BACE,SAAC,IAAD,CAAcP,KAAMA,KACpB,iBAAMK,UAAU,UAAhB,SAA2BL,EAAKuB,kBAGpCC,SACE,+BACE,SAACzB,EAAD,CAAoBC,KAAMA,EAAMK,UAAU,+BAA1C,UACE,SAAC,QAAD,QAINA,UAAU,kBAGf,C","sources":["../../../../shopy/shopy-salejs/src/customer/links.tsx","../../../../shopy/shopy-salejs/src/customer/views.List.tsx"],"sourcesContent":["import * as React from 'react';\nimport { LinkProps } from 'react-router-dom';\n\nimport { TCustomer, TCustomerInstance } from './utils';\nimport Staff from '@miq/staffjs';\nimport { getCN } from '@miq/utiljs';\n\ntype TCustomerOrInstance = TCustomer | TCustomerInstance;\n\nexport const CustomerUpdateLink = ({ data, ...props }: { data: TCustomerOrInstance } & Omit<LinkProps, 'to'>) => (\n  <Staff.Link\n    {...props}\n    to={`/staff/sales/customers/${data?.slug}/`}\n    requiredPerms={['sales.change_customer']}\n    className={getCN(['customer-update-link', props.className])}\n    title=\"Update customer\"\n  />\n);\n","import * as React from 'react';\n\nimport type { TCustomer } from './utils';\nimport type { TSDState } from '@miq/contextjs';\n\nimport Staff from '@miq/staffjs';\nimport { uuid } from '@miq/utiljs';\nimport { SharedDataCtx } from '@miq/contextjs';\nimport { Icons, Loading, Pagination, ViewSection } from '@miq/componentjs';\n\nimport { CustomerCard } from './components';\nimport { CustomerUpdateLink } from './links';\n\ntype TCustomerItem = {\n  slug: TCustomer['slug'];\n  name: TCustomer['name'];\n  orders_count: TCustomer['orders_count'];\n};\n\nexport default function CustomerListView() {\n  const {\n    customers = [],\n    pagination,\n    isLoaded,\n  } = React.useContext<TSDState<{ customers: TCustomerItem[]; pagination: any }>>(SharedDataCtx);\n\n  if (!isLoaded) return <Loading />;\n\n  return (\n    <Staff.View\n      title=\"Clients\"\n      back=\"/staff/sales/\"\n      className=\"sales-index-view miq-container\"\n      headerCN=\"miq-container\"\n      footer={\n        pagination && (\n          <div>\n            <Pagination {...pagination} component={Staff.Link} to />\n          </div>\n        )\n      }\n    >\n      <div className=\"d-grid\">\n        {customers?.map((data) => (\n          <CustomerListItem data={data} key={uuid()} />\n        ))}\n      </div>\n    </Staff.View>\n  );\n}\n\nconst CustomerListItem = ({ data }: { data: TCustomerItem }) => {\n  return (\n    <ViewSection\n      border\n      title={\n        <div>\n          <CustomerCard data={data} />\n          <span className=\"text-sm\">{data.orders_count}</span>\n        </div>\n      }\n      actions={\n        <>\n          <CustomerUpdateLink data={data} className=\"btn btn-primary-3 btn-square\">\n            <Icons.Edit />\n          </CustomerUpdateLink>\n        </>\n      }\n      className=\"cust-list-item\"\n    />\n  );\n};\n"],"names":["CustomerUpdateLink","data","props","to","slug","requiredPerms","className","getCN","title","CustomerListView","React","SharedDataCtx","customers","pagination","isLoaded","back","headerCN","footer","component","Staff","map","CustomerListItem","uuid","border","orders_count","actions"],"sourceRoot":""}