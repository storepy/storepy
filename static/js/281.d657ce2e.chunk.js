"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[281],{281:function(e,t,s){s.r(t),s.d(t,{Hit:function(){return r._},HitListItem:function(){return l.HitListItem},default:function(){return u},useHitListRequest:function(){return r.j}});var n=s(2411),a=s(6520),i=s(8136),r=s(3137),l=s(7450),c=n.lazy((function(){return Promise.resolve().then(s.bind(s,7450))}));function u(){return(0,i.jsx)(a.Z5,{children:(0,i.jsx)(a.AW,{index:!0,element:(0,i.jsx)(c,{})})})}},3137:function(e,t,s){s.d(t,{_:function(){return m},j:function(){return d}});var n=s(1135),a=s(7411),i=s(2518),r=s(2485),l=s(6009),c=s(9110),u=s(1408),o=s(4636),d=function(e){var t=(0,u.lr)(e),s=(0,l.Z)(t,1)[0],n=s.get("__public"),a=s.get("__starts_with"),i=s.get("__q"),r=s.get("__path"),o=s.get("__url"),d=s.get("__ref"),h=s.get("__ip"),v=s.get("__bot"),_=s.get("__ua"),f=s.get("__status"),x=s.get("__dt"),j=s.get("page");return(0,c.QT)((function(){return m({}).list({params:s})}),{refreshDeps:[i,r,o,d,h,v,_,f,x,n,a,j]})},h=function(e){(0,i.Z)(s,e);var t=(0,r.Z)(s);function s(){return(0,n.Z)(this,s),t.apply(this,arguments)}return(0,a.Z)(s,[{key:"img",get:function(){var e,t;return null===(e=this.data)||void 0===e||null===(t=e.session_data)||void 0===t?void 0:t.img}},{key:"deleteSlugs",value:function(e){return this.post("".concat(this._endpoint,"batch/"),{slugs:e,action:"destroy"})}},{key:"getSummary",value:function(e){return this.get("".concat(this._endpoint,"summary/"),{params:e})}}]),s}(o.x5),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.eR)(e,"hits",h)}},7450:function(e,t,s){s.r(t),s.d(t,{HitListItem:function(){return R},default:function(){return P}});var n=s(8312),a=s(8519),i=s(2411),r=s(9650),l=s(9110),c=s(3896),u=s(6676),o=s(3137),d=s(6009),h=s(1408),m=s(8136),v=["name","value","children"],_=["hit"],f=["hit","search"],x=["hit","search"],j=["hit","search","children"],N=["hit","search"],p=["hit","search"],g=["hit","search"],b=["hit"],Z=["hit"],k=function(e){var t=(0,h.lr)(),s=(0,d.Z)(t,2),r=s[0],l=s[1],u=e.name,o=e.value,m=e.children,_=(0,n.Z)(e,v);return(0,i.createElement)("button",(0,a.Z)((0,a.Z)({},_),{},{className:(0,c.UT)(["btn-link",r.has(u)&&"bg-red-100",null===e||void 0===e?void 0:e.className]),key:u,onClick:function(){r.has(u)?r.delete(u):o&&r.set(u,o),l(r)}}),m||"".concat(r.has(u)?"[x] ".concat(u):u," x"))},y=function(e){var t,s=e.hit,n=null===s||void 0===s||null===(t=s.session_data)||void 0===t?void 0:t.img;return n?(0,m.jsx)(u.Ei.Square,{src:"".concat(n),className:"rounded"}):null},w=function(e){var t=e.hit,s=(0,n.Z)(e,_);return t.created?(0,m.jsx)("span",{className:null===s||void 0===s?void 0:s.className,title:"Date created",children:new Date(null===t||void 0===t?void 0:t.created).format({dateStyle:"medium",timeStyle:"medium"})}):null},H=function(e){var t=e.hit,s=e.search,a=(0,n.Z)(e,f),i=t.referrer;if(!i)return null;var r="Referrer: ".concat(i);return s?(0,m.jsx)(k,{name:"__ref",value:i,className:null===a||void 0===a?void 0:a.className,title:r,children:(0,c.bI)(i)}):(0,m.jsx)("span",{className:null===a||void 0===a?void 0:a.className,title:r,children:i})},I=function(e){var t=e.hit,s=e.search,a=(0,n.Z)(e,x),i=t.user_agent;if(!i)return null;var r="user agent: ".concat(i);return s?(0,m.jsx)(k,{name:"__ua",value:i,className:null===a||void 0===a?void 0:a.className,title:r,children:(0,c.bI)(i,0,45)}):(0,m.jsx)("span",{className:null===a||void 0===a?void 0:a.className,title:r,children:i})},L=function(e){var t=e.hit,s=e.search,a=e.children,i=(0,n.Z)(e,j),r=t.url;if(!r)return null;var l="url: ".concat(r);return s?(0,m.jsx)(k,{name:"__url",value:"".concat(r),className:null===i||void 0===i?void 0:i.className,title:l,children:a||r}):(0,m.jsx)("span",{className:(0,c.UT)([null===i||void 0===i?void 0:i.className]),title:l,children:a||r})},S=function(e){var t=e.hit,s=e.search,a=(0,n.Z)(e,N),i=t.path;if(!i)return null;var r="path: ".concat(i);return s?(0,m.jsx)(k,{name:"__path",value:"".concat(i),className:null===a||void 0===a?void 0:a.className,title:r,children:i}):(0,m.jsx)("span",{className:(0,c.UT)([null===a||void 0===a?void 0:a.className]),title:r,children:i})},T=function(e){var t=e.hit,s=e.search,a=(0,n.Z)(e,p),i=t.response_status;if(!i)return null;var r="response status",l=(0,c.UT)([i>299?"text-danger":"text-success","bg-white",null===a||void 0===a?void 0:a.className]);return s?(0,m.jsx)(k,{name:"__status",value:"".concat(i),className:l,title:r,children:i}):(0,m.jsx)("span",{className:l,title:r,children:i})},U=function(e){var t=e.hit,s=e.search,a=(0,n.Z)(e,g),i=t.ip,r=t.session_data,l=void 0===r?{}:r,c=t.customer_data,u=void 0===c?{}:c,o=l||{},d=o.username,h=o._cus,v=null!==u&&void 0!==u&&u.first_name?"".concat(null===u||void 0===u?void 0:u.first_name," ").concat(null===u||void 0===u?void 0:u.last_name):null;d&&(d="@".concat(d));var _=v||h||d||i,f="user: ".concat(_);return s?(0,m.jsx)(k,{name:"__ip",value:i,className:null===a||void 0===a?void 0:a.className,title:f,children:_}):(0,m.jsx)("span",{className:null===a||void 0===a?void 0:a.className,title:f,children:_})},C=function(e){var t=e.hit,s=(0,n.Z)(e,b),a=((null===t||void 0===t?void 0:t.session_data)||{})._cart;return a?(0,m.jsx)("a",{href:"/staff/sales/cart/".concat(a,"/"),className:null===s||void 0===s?void 0:s.className,target:"_blank",children:"view cart"}):null},V=function(e){var t=e.hit,s=((0,n.Z)(e,Z),t.parsed_data),a=void 0===s?{}:s,i=["path","url","sdt","atc"];return(0,m.jsx)(m.Fragment,{children:Object.entries(a).map((function(e){var t=(0,d.Z)(e,2),s=t[0],n=t[1],a=void 0===n?"":n;return s&&a?i.includes(s)?null:(0,m.jsxs)("span",{className:"text-sm text-muted me-1 bg-blue-50 rounded",title:a,children:[s,": ",(0,c.bI)(a)]},(0,c.Vj)()):null}))})},q=s(5525),D=["hit"],E=[{label:"Views",link:{to:"."}},{label:"Bots",link:{to:"./?__bot=1"}},{label:"Errors",link:{to:"./?__err=1"}}];function P(){(0,l.jr)("Hits - Analytics");var e=u.Zv.useView(),t=(0,o.j)({__public:"1"}),s=t.res;if(t.loading)return(0,m.jsx)(u.gb,{});var n=new c.HM(s);return n.isSuccess?(0,m.jsx)(u.Zv,{context:e,children:(0,m.jsx)(r.ZP.View,{title:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(q.f9,{navLinks:E})}),footer:(0,m.jsx)(u.tl,(0,a.Z)((0,a.Z)({},n.data),{},{component:r.ZP.Link,to:!0})),children:(0,m.jsx)(u.Zv.List,{className:"text-sm",itemCN:"border-1 rounded p-1 mb-1",items:n.items,renderItem:function(e){var t=e.data;return(0,m.jsx)(R,{hit:t})}})})}):null}var R=function(e){var t=e.hit,s=(0,n.Z)(e,D);return(0,m.jsxs)("div",{className:(0,c.UT)(["d-flex",null===s||void 0===s?void 0:s.className]),children:[(0,m.jsx)("div",{style:{width:48,minWidth:48},children:(0,m.jsx)(y,{hit:t})}),(0,m.jsxs)("div",{className:"d-grid ms-1",children:[(0,m.jsxs)("div",{className:"text-ellipsis",children:[(0,m.jsx)(U,{search:!0,hit:t,className:"me-1"}),(0,m.jsx)(C,{hit:t,className:"me-1 bg-green-100"})," | ",(0,m.jsx)(w,{time:!0,hit:t,className:"me-1"})]}),(0,m.jsxs)("div",{className:"text-ellipsis",children:[(0,m.jsx)(T,{search:!0,hit:t,className:"me-1"}),(0,m.jsx)(S,{search:!0,hit:t,className:"me-1"}),(0,m.jsx)(L,{search:!0,hit:t,className:"bg-white color-blue-400",children:" \xab url \xbb "}),(0,m.jsxs)("div",{className:"text-muted",title:t.user_agent,children:[(0,m.jsx)(I,{search:!0,hit:t,className:"me-1"}),(0,m.jsx)(H,{search:!0,hit:t})]})]}),(0,m.jsx)("div",{className:"",children:(0,m.jsx)(V,{hit:t})})]})]})}}}]);
//# sourceMappingURL=281.d657ce2e.chunk.js.map