{"version":3,"file":"static/js/380.cf302f50.chunk.js","mappings":"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","sources":["../../../../shopy/shopy-storejs/src/Product/views.Index.tsx","../../../../shopy/shopy-storejs/src/Product/views.lang.ts"],"sourcesContent":["import * as React from 'react';\nimport { Routes, Route, useSearchParams } from 'react-router-dom';\n\nimport './views.index.scss';\nimport lang from './views.lang';\n\nimport Staff from '@miq/staffjs';\nimport { Response } from '@miq/utiljs';\nimport { Pagination, Viewports } from '@miq/componentjs';\n\nimport { TProduct } from '../types';\nimport { useCrudEmitter } from '../events';\n\nimport { ProductListFilterForm } from './forms';\nimport { useProductListRequest } from './utils';\nimport { ProductCardList, ProductListItem } from './components';\n\nconst { i18n } = window;\nconst ProductCreateView = React.lazy(() => import('./views.Create'));\nconst ProductStaffUpdateView = React.lazy(() => import('./views.Update'));\n\nconst UpdateRoute = ({ r }: { r: Response; params?: URLSearchParams }) => (\n  <div className=\"d-grid grid-xl-4 gap-2\">\n    <Viewports.XLUp>\n      <div style={{ position: 'relative' }}>\n        <div style={{ height: '100%', overflowY: 'auto', position: 'absolute', width: '100%' }}>\n          <div className=\"mb-1 mt-2\">\n            <ProductCardList items={r.items} itempath=\"../\" />\n          </div>\n\n          <div className=\"pb-3\" style={{ position: 'sticky', bottom: 0 }}>\n            <Pagination {...r.data} component={Staff.Link} to />\n          </div>\n        </div>\n      </div>\n    </Viewports.XLUp>\n\n    <div className=\"span-xl-3\">\n      <ProductStaffUpdateView back=\"/staff/store/products/\" />\n    </div>\n  </div>\n);\n\nconst IndexRoute = ({ r, params }: { r: Response; params: URLSearchParams }) => {\n  return (\n    <Staff.View\n      title={i18n(lang, 'IndexRoute.title')}\n      back=\"/staff/store/\"\n      actions={\n        <Staff.Link to=\"new/\" requiredPerms={['store.add_product']} className=\"btn btn-primary-3\">\n          {i18n(lang, 'IndexRoute.actionLinkLabel')}\n        </Staff.Link>\n      }\n      requiredPerms={['store.view_product']}\n    >\n      {r.items.length === 0 ? (\n        <div className=\"text-center p-staff-list-empty py-3 my-3\">\n          <p className=\"fw-light text-md\">{i18n(lang, 'IndexRoute.noItemText')}</p>\n          <div className=\"my-4\">\n            <Staff.Link to=\"new/\" requiredPerms={['store.add_product']} className=\"btn btn-primary btn-md\">\n              {i18n(lang, 'IndexRoute.addProductLinkLabel')}\n            </Staff.Link>\n          </div>\n        </div>\n      ) : (\n        <>\n          <ProductListFilterForm categories={r.data?.categories} />\n\n          {r.items.map((item: TProduct) => (\n            <ProductListItem item={item} {...{ params, stages: r.data?.stages }} key={item.slug} />\n          ))}\n\n          <div>\n            <Pagination {...r.data} component={Staff.Link} to />\n          </div>\n        </>\n      )}\n    </Staff.View>\n  );\n};\n\nexport default function ProductStaffIndexView() {\n  const { res, ...rest } = useProductListRequest();\n  const [params] = useSearchParams();\n\n  useCrudEmitter({ onUpdate: rest.updateItem, onDestroy: rest.removeItem });\n\n  const r = new Response(res);\n  if (!r.isSuccess) return null;\n\n  return (\n    <Routes>\n      <Route path=\":prodSlug/\" element={<UpdateRoute {...{ r, params }} />} />\n      <Route path=\"new\" element={<ProductCreateView />} />\n      <Route index element={<IndexRoute {...{ r, params }} />} />\n    </Routes>\n  );\n}\n","import { TLang } from '@miq/utiljs';\n\nexport default {\n  //\n  'InfoTab.title': { fr: 'Détails', en: 'Details' },\n  'InfoTab.text': { fr: 'Modifier les informations de ce produit', en: \"Update product's info\" },\n\n  //\n  'SeoTab.title': { fr: 'Seo', en: 'Seo' },\n\n  //\n  'InventoryTab.title': { fr: 'Inventaire', en: 'Inventory' },\n\n  //\n  'MediaTab.title': { fr: 'Média', en: 'Media' },\n\n  //\n  'SettingsTab.title': { fr: 'Paramètres', en: 'Settings' },\n  'SettingsTab.deleteSectionTitle': { fr: 'Supprimer ce produit', en: 'Delete product' },\n\n  //\n  'CreateView.title': { fr: 'Ajouter un produit', en: 'Add product' },\n\n  //\n  'IndexRoute.title': { fr: 'Produits', en: 'Products' },\n  'IndexRoute.actionLinkLabel': { fr: 'Ajouter', en: 'Add product' },\n  'IndexRoute.noItemText': { fr: 'Ajouter un produit pour commencer', en: 'Add products to your shop to get started' },\n  'IndexRoute.addProductLinkLabel': { fr: 'Ajouter un produit', en: 'Add a new product' },\n  //\n\n  'Btn.saveLabel': { fr: 'Sauvegarder', en: 'Save' },\n\n  //\n} as TLang;\n"],"names":["i18n","window","ProductCreateView","React","ProductStaffUpdateView","UpdateRoute","r","className","style","position","height","overflowY","width","items","itempath","bottom","data","component","Staff","to","back","IndexRoute","params","title","lang","actions","requiredPerms","length","categories","map","item","stages","key","slug","ProductStaffIndexView","useProductListRequest","res","rest","useSearchParams","useCrudEmitter","onUpdate","updateItem","onDestroy","removeItem","Response","isSuccess","path","element","index","fr","en"],"sourceRoot":""}