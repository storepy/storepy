"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[46,990],{5511:function(e,n,t){t.d(n,{A:function(){return l}});var s=t(8519),r=t(1135),i=t(7411),c=t(2518),a=t(2485),o=t(2887),u=function(e){(0,c.Z)(t,e);var n=(0,a.Z)(t);function t(){return(0,r.Z)(this,t),n.apply(this,arguments)}return(0,i.Z)(t,[{key:"addItems",value:function(e){return this.post("".concat(this._path,"items/"),{sizeSlug:e})}},{key:"addItem",value:function(e,n,t){return this.post("".concat(this._path,"item/").concat(e,"/"),{size:n,qty:t})}},{key:"updateItem",value:function(e,n){return this.post("".concat(this._path,"item/").concat(e,"/"),(0,s.Z)({},n),{timeout:5e3})}},{key:"destroyItem",value:function(e){return this.delete("".concat(this._path,"item/").concat(e,"/"),{timeout:5e3})}}]),t}(o.x5),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.eR)(e,"carts",u)}},9046:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var s=t(6009),r=t(2411),i=t(6520),c=t(2887),a=t(5511),o=t(7498),u=t(990),l=t(8136);function d(){var e=(0,i.s0)(),n=r.useState(),t=(0,s.Z)(n,2),d=t[0],m=t[1];return(0,l.jsx)(c.ZP.View,{title:"Ajouter une commande",back:"/staff/sales/",children:(0,l.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,l.jsx)("div",{className:"w-md-65",children:(0,l.jsx)(c.ZP.Section,{title:"Client",text:"Selectionez ou ajoutez un noubeau client",headerCN:"mb-4",children:d&&d.slug?(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)(u.CustomerCard,{data:d}),(0,l.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[(0,l.jsx)(o.zx,{className:"btn btn-round",onClick:function(){return m(void 0)},children:(0,l.jsx)(o.PJ.Xd,{})}),(0,l.jsx)(o.zx,{onClick:function(){!function(n){(0,a.A)().create({customer:n.slug}).then((function(n){var t=n.data;return e("".concat(t.slug,"/"))})).catch((function(e){console.log(e)}))}(d)},className:"btn btn-primary-3",children:"Continuer \xbb"})]})]}):(0,l.jsx)(u.CustomerForm,{fields:["first_name","last_name","phone","email"],onSuccess:function(e){e.data},onCustomerSelect:m,children:(0,l.jsx)("div",{className:"d-flex justify-content-center my-4",children:(0,l.jsx)(o.zx,{type:"submit",className:"btn btn-md btn-primary fw-bold",children:"Continuer \xbb"})})})})})})})}},4706:function(e,n,t){t.d(n,{u:function(){return c}});var s=t(8312),r=(t(2411),t(8136)),i=["data"],c=function(e){var n=e.data;(0,s.Z)(e,i);if(!n||!n.slug)return null;var t=n.first_name,c=n.last_name,a=n.email,o=n.phone;return(0,r.jsxs)("div",{className:"customer-card",children:[(0,r.jsx)("div",{className:"fw-bold",children:"".concat(t," ").concat(c)}),(0,r.jsx)("div",{className:"",children:o}),(0,r.jsx)("div",{className:"text-muted text-sm",children:a})]})}},7866:function(e,n,t){t.d(n,{A:function(){return u}});var s=t(8519),r=t(8312),i=(t(2411),t(3308)),c=t(4387),a=t(8136),o=["children","instance","onSuccess","onError","onCustomerSelect"],u=function(e){var n=e.children,t=e.instance,u=(e.onSuccess,e.onError,e.onCustomerSelect),d=(0,r.Z)(e,o),m=d.fields,f=(0,i.cI)(l(null===t||void 0===t?void 0:t.export(),m)),h=f.errors,x={className:"span-md-3",fieldCN:"d-grid grid-md-5"};return(0,a.jsxs)(i.ZP,(0,s.Z)((0,s.Z)({},d),{},{context:f,className:"customer-form",children:[(0,a.jsxs)("div",{className:"base-fields",children:[(null===m||void 0===m?void 0:m.includes("last_name"))&&(0,a.jsx)(c.Pg,(0,s.Z)((0,s.Z)({allowSuggestions:!0,error:h.last_name},x),{},{onCustomerSelect:u,className:""})),(null===m||void 0===m?void 0:m.includes("first_name"))&&(0,a.jsx)(c.jF,(0,s.Z)({error:h.first_name},x)),(null===m||void 0===m?void 0:m.includes("phone"))&&(0,a.jsx)(c.xx,(0,s.Z)({error:h.phone},x)),(null===m||void 0===m?void 0:m.includes("email"))&&(0,a.jsx)(c.ey,(0,s.Z)({error:h.email},x))]}),n]}))},l=function(e,n){e||(e={first_name:"",last_name:"",email:"",phone:""});var t={};return null===n||void 0===n||n.forEach((function(n){t[n]=e[n]})),t}},990:function(e,n,t){t.r(n),t.d(n,{CustomerCard:function(){return c.u},CustomerForm:function(){return a.A},default:function(){return d}});var s=t(2411),r=t(6520),i=t(8136),c=t(4706),a=t(7866),o=s.lazy((function(){return t.e(788).then(t.bind(t,5788))})),u=s.lazy((function(){return t.e(272).then(t.bind(t,5272))})),l=s.lazy((function(){return t.e(538).then(t.bind(t,6538))}));function d(){return(0,i.jsxs)(r.Z5,{children:[(0,i.jsx)(r.AW,{path:":custSlug/",element:(0,i.jsx)(u,{})}),(0,i.jsx)(r.AW,{path:"new/",element:(0,i.jsx)(o,{})}),(0,i.jsx)(r.AW,{index:!0,element:(0,i.jsx)(l,{})})]})}}}]);
//# sourceMappingURL=46.075b642d.chunk.js.map