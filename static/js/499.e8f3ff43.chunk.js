"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[499,351],{8365:function(e,n,t){t.d(n,{A:function(){return l}});var r=t(8519),s=t(1135),i=t(7411),c=t(2518),o=t(2485),u=t(715),a=function(e){(0,c.Z)(t,e);var n=(0,o.Z)(t);function t(){return(0,s.Z)(this,t),n.apply(this,arguments)}return(0,i.Z)(t,[{key:"canDestroy",get:function(){var e,n;return 0===(null===this||void 0===this||null===(e=this.data)||void 0===e||null===(n=e.products)||void 0===n?void 0:n.length)}},{key:"addItems",value:function(e){return this.post("".concat(this._path,"products/"),e)}},{key:"addItem",value:function(e,n){return this.post("".concat(this._path,"product/").concat(e,"/"),n)}},{key:"updateItem",value:function(e,n){return this.post("".concat(this._path,"item/").concat(e,"/"),(0,r.Z)({},n),{timeout:5e3})}},{key:"destroyItem",value:function(e){return this.delete("".concat(this._path,"item/").concat(e,"/"),{timeout:5e3})}}]),t}(u.x5),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.eR)(e,"carts",a)}},8499:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(6113),s=t(7497),i=t(866),c=t(715),o=t(8365),u=t(9544),a=t(3351),l=t(265),d=t(9009);function m(){(0,l.jr)("Add cart - Sales");var e=(0,i.s0)(),n=s.useState(),t=(0,r.Z)(n,2),m=t[0],f=t[1];return(0,d.jsx)(c.ZP.View,{title:"Ajouter une commande",back:"/staff/sales/",children:(0,d.jsx)("div",{className:"d-flex justify-content-center my-3",children:(0,d.jsx)("div",{className:"w-md-65",children:(0,d.jsx)(c.ZP.Section,{title:"Client",text:"Selectionez ou ajoutez un noubeau client",headerCN:"mb-4",children:m&&m.slug?(0,d.jsxs)("div",{className:"",children:[(0,d.jsx)(a.CustomerCard,{data:m}),(0,d.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[(0,d.jsx)(u.zx,{className:"btn btn-round",onClick:function(){return f(void 0)},children:(0,d.jsx)(u.PJ.Xd,{})}),(0,d.jsx)(u.zx,{onClick:function(){!function(n){(0,o.A)().create({customer:n.slug}).then((function(n){var t=n.data;return e("".concat(t.slug,"/"))})).catch((function(e){console.log(e)}))}(m)},className:"btn btn-primary-3",children:"Continuer \xbb"})]})]}):(0,d.jsx)(a.CustomerForm,{fields:["first_name","last_name","phone","email"],onSuccess:function(e){e.data},onCustomerSelect:f,children:(0,d.jsx)("div",{className:"d-flex justify-content-center my-4",children:(0,d.jsx)(u.zx,{type:"submit",className:"btn btn-md btn-primary fw-bold",children:"Continuer \xbb"})})})})})})})}},6433:function(e,n,t){t.d(n,{u:function(){return s}});t(7497);var r=t(9009),s=function(e){var n=e.data;if(!n||!n.slug)return null;var t=n.first_name,s=n.last_name,i=n.email,c=n.phone;return(0,r.jsxs)("div",{className:"customer-card",children:[(0,r.jsx)("div",{className:"fw-bold",children:"".concat(t," ").concat(s)}),(0,r.jsx)("div",{className:"",children:c}),(0,r.jsx)("div",{className:"text-muted text-sm",children:i})]})}},2598:function(e,n,t){t.d(n,{A:function(){return a}});var r=t(8519),s=t(8312),i=(t(7497),t(4089)),c=t(8920),o=t(9009),u=["children","instance","onSuccess","onError","onCustomerSelect"],a=function(e){var n=e.children,t=e.instance,a=(e.onSuccess,e.onError,e.onCustomerSelect),d=(0,s.Z)(e,u),m=d.fields,f=(0,i.cI)(l(null===t||void 0===t?void 0:t.export(),m)),h=f.errors,v={className:"span-md-3",fieldCN:"d-grid grid-md-5"};return(0,o.jsxs)(i.ZP,(0,r.Z)((0,r.Z)({},d),{},{context:f,className:"customer-form",children:[(0,o.jsxs)("div",{className:"base-fields",children:[(null===m||void 0===m?void 0:m.includes("last_name"))&&(0,o.jsx)(c.Pg,(0,r.Z)((0,r.Z)({allowSuggestions:!0,error:h.last_name},v),{},{onCustomerSelect:a,className:""})),(null===m||void 0===m?void 0:m.includes("first_name"))&&(0,o.jsx)(c.jF,(0,r.Z)({error:h.first_name},v)),(null===m||void 0===m?void 0:m.includes("phone"))&&(0,o.jsx)(c.xx,(0,r.Z)({error:h.phone},v)),(null===m||void 0===m?void 0:m.includes("email"))&&(0,o.jsx)(c.ey,(0,r.Z)({error:h.email},v))]}),n]}))},l=function(e,n){e||(e={first_name:"",last_name:"",email:"",phone:""});var t={};return null===n||void 0===n||n.forEach((function(n){t[n]=e[n]})),t}},3351:function(e,n,t){t.r(n),t.d(n,{Customer:function(){return c.O},CustomerCard:function(){return o.u},CustomerForm:function(){return u.A},default:function(){return m}});var r=t(7497),s=t(866),i=t(9009),c=t(2823),o=t(6433),u=t(2598),a=r.lazy((function(){return t.e(610).then(t.bind(t,1610))})),l=r.lazy((function(){return t.e(794).then(t.bind(t,7794))})),d=r.lazy((function(){return t.e(336).then(t.bind(t,6336))}));function m(){return(0,i.jsxs)(s.Z5,{children:[(0,i.jsx)(s.AW,{path:":custSlug/",element:(0,i.jsx)(l,{})}),(0,i.jsx)(s.AW,{path:"new/",element:(0,i.jsx)(a,{})}),(0,i.jsx)(s.AW,{index:!0,element:(0,i.jsx)(d,{})})]})}}}]);
//# sourceMappingURL=499.e8f3ff43.chunk.js.map