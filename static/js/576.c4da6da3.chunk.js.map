{"version":3,"file":"static/js/576.c4da6da3.chunk.js","mappings":"0OAGaA,EAAb,+IACE,SAAYC,GACV,OAAOC,KAAKC,MAAL,UAAcD,KAAKE,MAAnB,UAAkCH,KAF7C,wBAKE,SAAWA,GACT,OAAOC,KAAKC,MAAL,UAAcD,KAAKE,MAAnB,SAAiCH,OAN5C,GAAoCI,EAAAA,IAU7B,SAASC,IAA8B,IAAtBC,EAAqB,uDAAJ,GACvC,OAAOC,EAAAA,EAAAA,IAAqCD,EAAM,YAAaP,GAK1D,SAASS,IAA0B,IAApBF,EAAmB,uDAAJ,GACnC,OAAOC,EAAAA,EAAAA,IAAmBD,EAAM,Y,wICJnB,SAASG,IACtB,IAAMC,GAAOC,EAAAA,EAAAA,IAAQ,CAAEC,MAAO,KAC9B,GAAkCC,EAAAA,EAAAA,KAAW,kBAAML,EAAAA,EAAAA,IAAM,CAAEM,KAAM,YAAaC,aAAY,CACxFC,YAAa,GACbC,UAAW,gBAAGX,EAAH,EAAGA,KAAH,OAAmBI,EAAKQ,UAAU,CAAEN,MAAON,EAAKM,OAAS,QAF9DO,EAAR,EAAQA,IAAKC,EAAb,EAAaA,OAAQC,EAArB,EAAqBA,SAKfC,EAAI,IAAIC,EAAAA,GAASJ,GACvB,IAAKG,EAAEE,UAAW,OAAO,KAEzB,IAAMC,GAAWjB,EAAAA,EAAAA,IAAMc,EAAEhB,MAWzB,OACE,SAAC,UAAD,CAAYM,MAAM,yBAAyBc,KAAK,MAAhD,UACE,SAAC,KAAD,CAAMC,QAASjB,EAAMkB,SAXJ,SAACC,GAGpB,OAFAA,EAAEC,iBAEKL,EACJM,OAAOrB,EAAKV,QACZgC,MAAK,gBAAG1B,EAAH,EAAGA,KAAH,OAAmBc,EAAOd,MAC/B2B,OAAM,gBAAGC,EAAH,EAAGA,SAAH,OAAuBb,EAASa,OAKvC,UACE,UAAC,aAAD,CAAetB,MAAM,qBAArB,WACE,SAAC,WAAD,CAAYuB,MAAM,aAAaC,MAAO1B,EAAK2B,OAAOzB,MAAlD,UACE,SAAC,UAAD,CAAW0B,UAAQ,EAACC,KAAK,QAAQC,UAAW,QAG9C,gBAAKC,UAAU,GAAf,UACE,SAAC,YAAD,CAAaC,MAAM,OAAOD,UAAU","sources":["../../../../packages/miq-staffjs/src/setting/models.tsx","../../../../packages/miq-staffjs/src/setting/views.IndexUpdate.tsx"],"sourcesContent":["import { StaffModel, StaffService } from '../service';\nimport { TIndex, TSetting } from './types';\n\nexport class SettingService extends StaffService<TSetting> {\n  updatePages(values: any) {\n    return this.patch(`${this._path}pages/`, values);\n  }\n\n  updateSite(values: any) {\n    return this.patch(`${this._path}site/`, values);\n  }\n}\n\nexport function Setting(data: TSetting = {}) {\n  return StaffModel<TSetting, SettingService>(data, 'settings/', SettingService);\n}\n\nexport type TSettingInstance = ReturnType<typeof Setting>;\n\nexport function Index(data: TIndex = {}) {\n  return StaffModel<TIndex>(data, 'index/');\n}\n\nexport type TIndexInstance = ReturnType<typeof Index>;\n","import * as React from 'react';\n\nimport { Response } from '@miq/utiljs';\nimport { useRequest } from '@miq/hookjs';\nimport Form, { useForm } from '@miq/formjs';\n\nimport Staff from '..';\n\nimport { Index } from './models';\n\n//#region IndexModel\n\n//#endregion IndexModel\n\n//#region IndexUpdateView\n\nexport default function IndexUpdateView() {\n  const form = useForm({ title: '' });\n  const { res, setRes, setError } = useRequest(() => Index({ slug: 'current' }).retrieve(), {\n    refreshDeps: [],\n    onSuccess: ({ data }: any) => form.setValues({ title: data.title || '' }),\n  });\n\n  const r = new Response(res);\n  if (!r.isSuccess) return null;\n\n  const instance = Index(r.data);\n\n  const handleSubmit = (e: any) => {\n    e.preventDefault();\n\n    return instance\n      .update(form.values)\n      .then(({ data }: any) => setRes(data))\n      .catch(({ response }: any) => setError(response));\n  };\n\n  return (\n    <Staff.View title=\"Site HomePage Settings\" back=\"../\">\n      <Form context={form} onSubmit={handleSubmit}>\n        <Staff.Section title=\"Index Page Details\">\n          <Form.Field label=\"Meta title\" error={form.errors.title}>\n            <Form.Text required name=\"title\" maxLength={99} />\n          </Form.Field>\n\n          <div className=\"\">\n            <Form.Submit value=\"Save\" className=\"btn-primary-2\" />\n          </div>\n        </Staff.Section>\n      </Form>\n    </Staff.View>\n  );\n}\n\n//#endregion IndexUpdateView\n"],"names":["SettingService","values","this","patch","_path","StaffService","Setting","data","StaffModel","Index","IndexUpdateView","form","useForm","title","useRequest","slug","retrieve","refreshDeps","onSuccess","setValues","res","setRes","setError","r","Response","isSuccess","instance","back","context","onSubmit","e","preventDefault","update","then","catch","response","label","error","errors","required","name","maxLength","className","value"],"sourceRoot":""}