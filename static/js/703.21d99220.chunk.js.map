{"version":3,"file":"static/js/703.21d99220.chunk.js","mappings":"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","sources":["../../../../packages/miq-formjs/src/Inputs.tsx","../../../../packages/miq-formjs/src/context.tsx","../../../../packages/miq-formjs/src/components.tsx","../../../../packages/miq-formjs/src/Fields.tsx","../../../../packages/miq-formjs/src/Form.tsx","../../../../packages/miq-formjs/src/index.tsx","../../../../packages/miq-staffjs/src/Img/index.tsx","../../../../packages/miq-staffjs/src/Setting/index.tsx","../../../../packages/miq-staffjs/src/Account/index.tsx","../../../../packages/miq-staffjs/src/Layout.tsx","../../../../packages/miq-staffjs/src/utils.tsx","../../../../packages/miq-staffjs/src/Views.tsx","../../../../packages/miq-staffjs/src/components.tsx","../../../../packages/miq-calendarjs/src/components.tsx","../../../../packages/miq-calendarjs/src/datepicker.tsx","../../../../packages/miq-calendarjs/src/index.tsx","../../../../packages/miq-staffjs/src/index.tsx","../../../../.yarn/cache/@babel-runtime-npm-7.17.2-ec60bc114d-a48702d271.zip/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../../../.yarn/cache/@babel-runtime-npm-7.17.2-ec60bc114d-a48702d271.zip/node_modules/@babel/runtime/helpers/esm/get.js","../../../../packages/miq-staffjs/src/models.tsx","../../../../packages/miq-staffjs/src/service.tsx","../../../../shopy/shopy-storejs/src/types.ts","../../../../shopy/shopy-storejs/src/index.tsx","staff/index.tsx","../../../../shopy/shopy-storejs/src/Product/components.tsx","../../../../shopy/shopy-storejs/src/Product/forms.tsx","../../../../shopy/shopy-storejs/src/Product/models.tsx","../../../../shopy/shopy-storejs/src/Product/utils.ts","../../../../shopy/shopy-storejs/src/Supplier/forms.tsx","../../../../shopy/shopy-storejs/src/Supplier/SupplierProductList.tsx","../../../../shopy/shopy-storejs/src/Supplier/OrderUpdateView.tsx","../../../../shopy/shopy-storejs/src/Supplier/components.tsx","../../../../shopy/shopy-storejs/src/Supplier/index.tsx","../../../../shopy/shopy-storejs/src/Supplier/models.tsx","../../../../shopy/shopy-storejs/src/components.tsx","../../../../shopy/shopy-storejs/src/events/index.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { Icons } from '@miq/componentjs';\nimport { getCN, isRequired } from '@miq/utiljs';\nimport FormCtx from './context';\n\nexport interface InputProps extends React.ComponentPropsWithoutRef<'input'> {}\n\nexport interface InputRefProps extends React.ComponentPropsWithRef<'input'> {}\n\nexport type FormInputProps = InputProps & {\n  error?: any;\n  mirror?: string;\n};\n\nconst withFormTextInput = (Component: any, args: any = {}) =>\n  React.forwardRef<HTMLInputElement, FormInputProps>((props, ref) => {\n    const ctx = React.useContext(FormCtx) || isRequired('FormCtx');\n    let { name, error, ...rest } = props;\n\n    const onChange = (e: React.SyntheticEvent) => {\n      ctx.handleChange(e);\n    };\n\n    error = error || ctx.errors[name];\n    const className = getCN([args.className, props.className, error && 'is-invalid']);\n\n    return (\n      <Component\n        value={ctx.values[name]}\n        onChange={onChange}\n        {...args.input}\n        {...rest}\n        name={name}\n        className={className}\n        ref={ref}\n      />\n    );\n  });\n\nexport const FormTextInput = withFormTextInput('input', { className: 'miq-form-input' });\nexport const FormTextArea = withFormTextInput('textarea', { className: 'miq-form-textarea' });\n\nexport type SearchInputProps = InputProps & {\n  inputClassName?: string;\n};\n\nexport const SearchInput = React.forwardRef<HTMLInputElement, SearchInputProps>((props, ref) => {\n  const { id, className, inputClassName, ...rest } = props;\n  return (\n    <div {...{ id }} className={getCN(['miq-search-input-wrapper d-flex align-items-center', className])}>\n      <div className=\"icon-wrapper\">\n        <Icons.Search className=\"miq-search-icon\" />\n      </div>\n\n      <input\n        name=\"q\"\n        placeholder=\"Search ...\"\n        minLength={3}\n        maxLength={99}\n        className={getCN(['miq-form-input miq-search-input', inputClassName])}\n        {...rest}\n        type=\"search\"\n        ref={ref}\n      />\n    </div>\n  );\n});\n\n//#region PhoneInput\n\n/**\n * Phone input\n * Usage:\n * ```js\n * <PhoneInput onchange={(e)=>setState(e.target.value)} minLength={7} maxLength={16} pattern=\"[0-9]*\"/>\n * ```\n */\n\nexport const FormPhoneInput = withFormTextInput('input', {\n  className: 'miq-form-input',\n  input: {\n    minLength: 7,\n    maxLength: 16,\n    pattern: '[0-9]*',\n    type: 'tel',\n    onKeyPress: (e: React.KeyboardEvent) => !/[0-9]/.test(e.key) && e.preventDefault(),\n  },\n});\n\n//#endregion PhoneInput\n\nexport type TextAreaXProps = InputProps & {\n  clearFocus?: string | boolean;\n  mirror?: string;\n};\n\nexport const TextAreaX = React.forwardRef<HTMLTextAreaElement, TextAreaXProps>((props, ref) => {\n  const { id, clearFocus, value, onChange, placeholder = 'Start typing ...', mirror, ...rest } = props;\n  const style = props.style;\n\n  return (\n    <div id={id} className={getCN(['miq-textareax', clearFocus && 'clear-focus'])}>\n      {mirror ? (\n        <span\n          className=\"miq-textareax-input-mirror\"\n          {...{ style }}\n          dangerouslySetInnerHTML={{ __html: `${mirror}\\n` }}\n        />\n      ) : (\n        <span className=\"miq-textareax-input-mirror\" {...{ style }}>{`${value}\\n`}</span>\n      )}\n\n      <div className=\"miq-textareax-input-wrapper\">\n        <textarea {...rest} {...{ value, onChange, placeholder, style }} ref={ref} />\n      </div>\n    </div>\n  );\n});\n\nexport const FormTextAreaX = withFormTextInput(TextAreaX);\n\n//#region SelectInput\n\nexport type FormSelectInputProps = FormInputProps & {\n  clearFocus?: string | boolean;\n  nullValue?: any;\n};\n\nexport const FormSelectInput = React.forwardRef<HTMLInputElement, FormSelectInputProps>(\n  ({ children, ...props }, ref) => {\n    const ctx = React.useContext(FormCtx) || isRequired('FormCtx');\n    let { name, error, nullValue, ...rest } = props;\n\n    error = error || ctx?.errors?.[name];\n\n    return (\n      <select\n        value={ctx?.values?.[name]}\n        onChange={ctx.handleChange}\n        {...rest}\n        name={name}\n        className={getCN(['miq-form-select', error && 'is-invalid', rest.className])}\n        ref={ref}\n      >\n        {nullValue?.label && <Option {...nullValue} value={nullValue?.value || ''} />}\n        {children}\n      </select>\n    );\n  }\n);\n\ninterface OptionProps extends React.ComponentPropsWithoutRef<'option'> {\n  value: string | number;\n  // label?: string | any;\n}\n\nexport const Option = ({ label, children, ...props }: OptionProps) => (\n  <option {...props} value={props.value}>\n    {children || label}\n  </option>\n);\n\n//#endregion SelectInput\n\n//#region CheckboxInput\n\nexport type FormCheckboxInputProps = FormInputProps & {};\n\nexport const FormCheckboxInput = React.forwardRef<HTMLInputElement, FormCheckboxInputProps>((props, ref) => {\n  const ctx = React.useContext(FormCtx) || isRequired('FormCtx');\n  let { name = isRequired('Name prop'), error } = props;\n\n  error = error || ctx?.errors?.[name];\n\n  return (\n    <input\n      onChange={ctx.toggleCheck}\n      checked={ctx.values[name]}\n      {...props}\n      type=\"checkbox\"\n      className={getCN(['miq-form-checkbox', error && 'is-invalid', props.className])}\n      ref={ref}\n    />\n  );\n});\n\n//#endregion CheckboxInput\n","import React, { createContext, useState, useMemo } from 'react';\n\nimport { IS_DEV } from '@miq/utiljs';\n\nexport const FormCtx = createContext(null);\n\nexport const FormProvider = FormCtx.Provider;\n\nexport default FormCtx;\n\nexport interface useFormState {\n  values: any;\n  setValue: (key: string, val: any) => void;\n  setValues: React.Dispatch<any>;\n  handleChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  toggleCheck: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  errors: any;\n  setError: (key: string, val: any) => void;\n  setErrors: React.Dispatch<any>;\n  handleError: (err: any, log?: boolean) => void;\n  hasErrors: () => boolean;\n}\n\nexport function useForm<T = any>(defaultValues: any = {}): useFormState {\n  const [values, setValues] = useState<T>({ ...defaultValues });\n  const [errors, setErrors] = useState<any>({});\n\n  const context = useMemo(() => {\n    const handleError = (err: any, log = true) => {\n      if (!err || !err.response) {\n        return;\n      }\n\n      const { response } = err;\n      if (response.status !== 400) {\n        IS_DEV && log && console.error(`Request error status: ${response.status}`);\n        return err;\n      }\n\n      let newData = {};\n      const { data } = response;\n\n      if (IS_DEV && log) {\n        console.error('ERROR=>', data);\n      }\n\n      Object.keys(data).forEach((key) => {\n        let e = data[key];\n        if (Array.isArray(e) && e.length > 0) {\n          e = e[0];\n        }\n        newData = { ...newData, [key]: e.message || e };\n      });\n\n      setErrors({ ...newData });\n    };\n\n    const setError = (key: string, value: any) => {\n      setErrors({ ...errors, [key]: value });\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      const { name, type, value } = e.target;\n\n      if (Object.keys(errors).includes(name)) {\n        setErrors({ ...errors, [name]: null });\n      }\n\n      switch (type) {\n        case 'checkbox':\n          return toggleCheck(e);\n\n        default:\n          return setValue(name, value);\n      }\n    };\n\n    const setValue = (key: string, value: any) => {\n      setValues({ ...values, [key]: value });\n    };\n\n    const toggleCheck = ({ target }: React.ChangeEvent<HTMLInputElement>) => {\n      const { name, checked } = target;\n      return setValue(name, checked);\n    };\n\n    return {\n      values,\n      setValue,\n      setValues,\n      handleChange,\n      toggleCheck,\n      errors,\n      setError,\n      setErrors,\n      handleError,\n      hasErrors: () => Object.keys(errors).join() !== '',\n    };\n  }, [values, errors]);\n\n  return context;\n}\n","import * as React from 'react';\n\nexport type FormLabelProps = React.PropsWithChildren<{ value?: React.ReactNode | string }>;\n\nexport const FormLabel = ({ children, value, ...props }: FormLabelProps) => {\n  const Comp = children ? children : typeof value === 'string' ? <label {...props}>{value}</label> : value;\n  return <div className=\"miq-form-label\">{Comp}</div>;\n};\n\nexport type FormErrorProps = { error?: any };\n\nexport const FormError = ({ error }: FormErrorProps) => {\n  if (!error) return null;\n  return <div className=\"miq-form-error\">{error}</div>;\n};\n","import React from 'react';\n\nimport { getCN } from '@miq/utiljs';\n\nimport { FormLabel, FormError, FormErrorProps } from './components';\nimport { FormCheckboxInputProps, FormInputProps, FormSelectInputProps, FormTextAreaX, FormTextInput } from './Inputs';\n\nexport type TextFieldProps = FormFieldProps & FormInputProps;\nexport type SelectFieldProps = FormFieldProps & FormSelectInputProps & {};\nexport type CheckboxFieldProps = FormFieldProps & FormCheckboxInputProps & {};\n\nexport const NameField = (props: TextFieldProps) => {\n  const { label, text, error, ...rest } = props;\n\n  return (\n    <Field {...{ label, text, error }}>\n      <FormTextInput {...rest} name=\"name\" maxLength={99} />\n    </Field>\n  );\n};\n\nexport const DescriptionField = (props: TextFieldProps) => {\n  const { label, text, error, ...rest } = props;\n  return (\n    <Field {...{ label, text, error }}>\n      <FormTextAreaX {...rest} name=\"description\" />\n    </Field>\n  );\n};\n\n/**\n * Meta fields\n */\n\nexport const MetaTitleField = (props: TextFieldProps) => {\n  const { label = 'Meta title', text, error, ...rest } = props;\n\n  return (\n    <Field {...{ label, text, error }}>\n      <FormTextInput required maxLength={99} {...rest} name=\"meta_title\" />\n    </Field>\n  );\n};\n\nexport const MetaSlugField = (props: TextFieldProps) => {\n  const { label = 'Meta slug', text, error, ...rest } = props;\n\n  return (\n    <Field {...{ label, text, error }}>\n      <FormTextInput required maxLength={99} {...rest} name=\"meta_slug\" />\n    </Field>\n  );\n};\n\nexport const MetaDescriptionField = (props: TextFieldProps) => {\n  const { label = 'Meta description', text, error, ...rest } = props;\n  return (\n    <Field {...{ label, text, error }}>\n      <FormTextAreaX {...rest} name=\"meta_description\" />\n    </Field>\n  );\n};\n\nexport type FormFieldProps = FormErrorProps &\n  React.PropsWithChildren<{\n    label?: React.ReactNode | string;\n    text?: React.ReactNode | string;\n    checkbox?: string | boolean;\n    className?: string;\n  }>;\n\nexport default function Field({ children, label, text, error, checkbox, ...props }: FormFieldProps) {\n  const hasLabel = label || text;\n\n  if (checkbox) {\n    return (\n      <div className={getCN(['miq-form-field', props.className])}>\n        <div className=\"d-flex align-items-center\">\n          <div className=\"me-1\">{children}</div>\n          <FormLabel value={label} />\n        </div>\n        {text && <div className=\"miq-form-field-text\">{text}</div>}\n        <FormError error={error} />\n      </div>\n    );\n  }\n\n  return (\n    <div className={getCN(['miq-form-field', props.className])}>\n      {hasLabel && (\n        <div className=\"miq-form-field-header\">\n          {label && <FormLabel value={label} />}\n          {text && <div className=\"miq-form-field-text\">{text}</div>}\n        </div>\n      )}\n      {children}\n      <FormError error={error} />\n    </div>\n  );\n}\n","import * as React from 'react';\n\nimport { getCN } from '@miq/utiljs';\nimport { ButtonProps, Button } from '@miq/componentjs';\n\nimport Field from './Fields';\nimport * as Inputs from './Inputs';\nimport * as Comps from './components';\nimport { FormProvider } from './context';\nimport { FormProps, IFormCallbackProps } from './types';\n\ntype FormStatic = {\n  Provider: typeof FormProvider;\n\n  Error: typeof Comps.FormError;\n  Label: typeof Comps.FormLabel;\n\n  Field: typeof Field;\n  Text: typeof Inputs.FormTextInput;\n  TextArea: typeof Inputs.FormTextArea;\n  TextAreaX: typeof Inputs.FormTextAreaX;\n  Phone: typeof Inputs.FormPhoneInput;\n  Checkbox: typeof Inputs.FormCheckboxInput;\n  Option: typeof Inputs.Option;\n  Select: typeof Inputs.FormSelectInput;\n\n  Submit: typeof Button;\n};\n\nexport type FormType = React.ForwardRefExoticComponent<FormProps> & FormStatic;\n\nconst Form = React.forwardRef<HTMLFormElement, FormProps & IFormCallbackProps>(\n  ({ children, context, ...props }, ref) => {\n    return (\n      <form {...props} ref={ref} className={getCN(['miq-form', props.className])}>\n        <FormProvider value={context}>{children}</FormProvider>\n      </form>\n    );\n  }\n) as FormType;\n\nForm.Provider = FormProvider;\n\nForm.Error = Comps.FormError;\nForm.Label = Comps.FormLabel;\n\nForm.Field = Field;\n\n//#region Inputs\n\nForm.Submit = ({ children, value, ...props }: ButtonProps) => (\n  <Button {...props} type=\"submit\">\n    {children || value}\n  </Button>\n);\nForm.Text = Inputs.FormTextInput;\nForm.TextArea = Inputs.FormTextArea;\nForm.TextAreaX = Inputs.FormTextAreaX;\nForm.Phone = Inputs.FormPhoneInput;\nForm.Checkbox = Inputs.FormCheckboxInput;\nForm.Option = Inputs.Option;\nForm.Select = Inputs.FormSelectInput;\n\nexport default Form;\nexport * from './types';\n","// import * as React from 'react';\n\nimport './form.scss';\n\nimport Form from './Form';\nexport * from './Form';\nexport * from './Fields';\nexport * as Inputs from './Inputs';\n\n// export { Inputs };\n\nexport default Form;\nexport { useForm } from './context';\n\n//\n\nexport type TextChoicesType = { key: string; value: string }[];\n","import * as React from 'react';\nimport * as Axios from 'axios';\n\nimport Form from '@miq/formjs';\nimport { getCN } from '@miq/utiljs';\nimport { FileInput, Button, ButtonProps } from '@miq/componentjs';\nimport { StaffImg } from '../models';\n\n//#region COMPONENTS\n\nconst ACCEPT = 'image/*';\nconst MAX_UPLOAD_COUNT = 10;\n\ntype ImgCrudProps = ButtonProps & {\n  accept?: string;\n  onUpload?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  onSuccess?: (r?: Axios.AxiosResponse) => void;\n  onError?: (r?: Axios.AxiosResponse) => void;\n};\n\nexport interface ImgAddButtonProps extends ImgCrudProps {\n  label?: string;\n  multiple?: boolean;\n  onSuccessMulti?: (rs: Promise<Axios.AxiosResponse>[]) => void;\n  onErrorMulti?: (rs: Promise<Axios.AxiosResponse>[]) => void;\n}\n\nexport const StaffImgAddButton = React.forwardRef<HTMLButtonElement, ImgAddButtonProps>(\n  ({ children, ...props }, ref) => {\n    let uploadRef = React.useRef<HTMLInputElement | null>(null);\n\n    const instance = StaffImg();\n\n    const { label, multiple, accept = ACCEPT, ...func } = props;\n    const { onUpload, onSuccess, onSuccessMulti, onError, onErrorMulti, ...rest } = func;\n\n    const uploadFile = (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (onUpload) return onUpload(e);\n\n      const { files } = e.target;\n      if (!files) return;\n\n      const file = Array.from(files)[0];\n      return instance\n        .create(file)\n        .then((res: any) => onSuccess?.(res))\n        .catch((err: any) => onError?.(err));\n    };\n\n    const uploadFiles = (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (onUpload) return onUpload(e);\n\n      const { files } = e.target;\n      if (!files) return;\n\n      const promises: Promise<Axios.AxiosResponse | number>[] = [];\n      const errors: Promise<Axios.AxiosResponse>[] = [];\n\n      Array.from(files)\n        .splice(0, MAX_UPLOAD_COUNT)\n        .forEach((file, i) => {\n          promises.push(instance.create(file).catch((err: any) => errors.push(err)));\n        });\n\n      if (errors && onErrorMulti) onErrorMulti(errors);\n\n      Promise.all(promises).then((responses: any) => {\n        if (onSuccessMulti) return onSuccessMulti(responses);\n      });\n    };\n\n    return (\n      <>\n        <Button className=\"miq-img-create-btn\" {...rest} onClick={() => uploadRef?.current?.click()} ref={ref}>\n          {children || label || `Upload image${multiple ? 's' : ''}`}\n        </Button>\n        <FileInput\n          accept={accept}\n          multiple={multiple}\n          onChange={multiple ? uploadFiles : uploadFile}\n          ref={(file) => (uploadRef.current = file)}\n        />\n      </>\n    );\n  }\n);\n\nexport type StaffImgUpdateButtonProps = ImgAddButtonProps & {\n  instance: ReturnType<typeof StaffImg>;\n  field?: string;\n};\n\nexport const StaffImgUpdateButton = React.forwardRef<HTMLButtonElement, StaffImgUpdateButtonProps>((props, ref) => {\n  let uploadRef = React.useRef<HTMLInputElement | null>(null);\n\n  const { instance, accept = ACCEPT, ...func } = props;\n  let { field = 'src', onUpload, onSuccess, onError, ...rest } = func;\n\n  if (field === 'picture') return <div className=\"miq-img-update-btn\" children={props.children} />;\n\n  const uploadFile = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (field === 'picture') return null;\n    if (onUpload) return onUpload(e);\n\n    const { files } = e.target;\n    if (!files) return;\n\n    const file = Array.from(files)[0];\n    return instance\n      .update(file, undefined, field)\n      .then((res) => onSuccess?.(res))\n      .catch((err) => onError?.(err));\n  };\n\n  return (\n    <>\n      <Button className=\"miq-img-update-btn\" {...rest} onClick={() => uploadRef?.current?.click()} ref={ref} />\n      <FileInput accept={accept} onChange={uploadFile} ref={(file) => (uploadRef.current = file)} />\n    </>\n  );\n});\n\nexport type StaffImgDeleteButtonProps = StaffImgUpdateButtonProps & {};\n\nexport const StaffImgDeleteButton = React.forwardRef<HTMLButtonElement, StaffImgDeleteButtonProps>(\n  ({ children, ...props }, ref) => {\n    const { instance, label, ...func } = props;\n    const { onSuccess, onError, ...rest } = func;\n\n    const handleDelete = () =>\n      instance\n        .destroy()\n        .then((res) => onSuccess?.(res))\n        .catch((err) => onError?.(err));\n    return (\n      <Button {...rest} onClick={handleDelete} className={getCN(['miq-img-delete-btn', props.className])} ref={ref}>\n        {children || label || `Delete Image`}\n      </Button>\n    );\n  }\n);\n\n//#endregion COMPONENTS\n\n//#region EXPORTS\n\nexport const StaffImgViewSelect = React.forwardRef<HTMLInputElement, any>((props, ref) => (\n  <Form.Select name=\"view\" {...props} ref={ref}>\n    <Form.Option value=\"src\" label=\"Desktop\" />\n    <Form.Option value=\"mobile\" label=\"Mobile\" />\n    <Form.Option value=\"thumb\" label=\"Thumbnail\" />\n    <Form.Option value=\"square\" label=\"Square\" />\n    <Form.Option value=\"picture\" label=\"Picture\" />\n  </Form.Select>\n));\n\n//#endregion EXPORTS\n","import * as React from 'react';\nimport { Routes, Route } from 'react-router-dom';\n\nimport Staff from '..';\n\nconst GeneralSettingUpdateView = React.lazy(() => import('./GeneralUpdateView'));\nconst IndexSettingUpdateView = React.lazy(() => import('./IndexUpdateView'));\nconst PagesSettingUpdateView = React.lazy(() => import('./PagesUpdateView'));\n\nexport default function SettingLayout() {\n  return (\n    <Routes>\n      <Route path=\"pages/\" element={<PagesSettingUpdateView />} />\n      <Route path=\"general/\" element={<GeneralSettingUpdateView />} />\n      <Route path=\"index/\" element={<IndexSettingUpdateView />} />\n\n      <Route\n        path=\"/\"\n        element={\n          <Staff.View title=\"Settings\" back=\"/staff/\" requiredPerms={['core.view_sitesetting']}>\n            <div className=\"d-grid grid-sm-3 grid-md-4\">\n              <SettingLink to=\"general/\" label=\"General\" text=\"Site settings and branding\" />\n              <SettingLink to=\"index/\" label=\"Index\" text=\"Homepage settings\" />\n              <SettingLink to=\"pages/\" label=\"Pages\" text=\"Site pages settings\" />\n            </div>\n          </Staff.View>\n        }\n      />\n    </Routes>\n  );\n}\n\nconst SettingLink = ({ label, text, ...rest }: any) => {\n  return (\n    <Staff.Link {...rest} className=\"d-block\">\n      <span className=\"text-md\">{label}</span>\n      <p className=\"text-muted text-sm pb-3\">{text}</p>\n    </Staff.Link>\n  );\n};\n","import * as React from 'react';\nimport * as Axios from 'axios';\nimport { Routes, Route } from 'react-router-dom';\n\nimport './account.scss';\n\nimport Form, { useForm } from '@miq/formjs';\n\nimport { SharedDataCtx, SharedDataState } from '@miq/contextjs';\n\nimport Staff from '..';\nimport { StaffModel, StaffService } from '../service';\nimport { StaffUser } from '../models';\n\nexport default function AccountStaffLayout() {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<ProfileUpdateView />} />\n    </Routes>\n  );\n}\n\n//#region UserModel\n\n//#endregion UserModel\n\n//#region ProfileUpdateView\n\nconst ProfileUpdateView = () => {\n  const { user, updateUser, apps } = React.useContext<SharedDataState>(SharedDataCtx);\n  const { employee } = user;\n\n  const formInitData: any = { first_name: user.first_name, last_name: user.last_name, gender: user.gender };\n  if (employee) formInitData.position = employee.position;\n\n  const form = useForm(formInitData);\n\n  if (!user) return null;\n\n  const instance = StaffUser(user);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    return instance\n      .update(form.values)\n      .then(({ data }: Axios.AxiosResponse) => updateUser(data))\n      .catch((err: Axios.AxiosResponse) => form.handleError(err));\n  };\n\n  return (\n    <Staff.View title=\"Account\">\n      <Form context={form} onSubmit={handleSubmit}>\n        <div className=\"d-grid grid-md-4 gap-2\">\n          <Staff.Section\n            title=\"Profile information\"\n            text=\"Update your profile information.\"\n            className=\"span-md-3\"\n            footer={<Form.Submit value=\"Save\" />}\n          >\n            <Form.Field label=\"First name\" error={form.errors.first_name} className=\"d-grid grid-md-5\">\n              <Form.Text\n                required\n                name=\"first_name\"\n                // onSave={saveAccount}\n                // isValid={validate}\n                placeholder=\"First name\"\n                className=\"span-md-3\"\n                minLength={2}\n              />\n            </Form.Field>\n\n            <Form.Field label=\"Last name\" error={form.errors.last_name} className=\"d-grid grid-md-5\">\n              <Form.Text\n                required\n                name=\"last_name\"\n                // onSave={saveAccount}\n                // isValid={validate}\n                placeholder=\"Last name\"\n                className=\"span-md-3\"\n                minLength={2}\n              />\n            </Form.Field>\n\n            <Form.Field label=\"Gender\" className=\"d-grid grid-md-5\">\n              <Form.Select\n                required\n                name=\"gender\"\n                nullValue={{ label: 'Select gender' }}\n                // onChange={({ target }) => saveAccount(target)}\n                className=\"span-md-3\"\n              >\n                <option value=\"OTHER\">Other</option>\n                <option value=\"MALE\">Male</option>\n                <option value=\"FEMALE\">Female</option>\n              </Form.Select>\n            </Form.Field>\n\n            {\n              //#region HRM\n            }\n            {Object.keys(apps).includes('miq_hrm') && (\n              <Form.Field label=\"Role\" error={form.errors.position} className=\"d-grid grid-md-5 mb-1\">\n                <Form.Text\n                  required\n                  name=\"position\"\n                  // onSave={({ value }) =>\n                  //   services\n                  //     .patch(\n                  //       'account/current/position/',\n                  //       { position: value }\n                  //       // { position: employee.position }\n                  //     )\n                  //     .catch((err) => {\n                  //       form.handleError(err);\n                  //     })\n                  // }\n                  // isValid={validate}\n                  placeholder=\"Role\"\n                  className=\"span-md-3\"\n                  minLength={2}\n                />\n              </Form.Field>\n            )}\n            {\n              //#endregion HRM\n            }\n          </Staff.Section>\n\n          <Staff.Section\n            title=\"Avatar\"\n            text=\"Update your profile picture. Images must be .png, .jpg or .gif format.\"\n            // actions={\n            //   <ImgDeleteIconButton\n            //     slug={user.img}\n            //     onSuccess={() => updateUser({ img: null, img_data: null })}\n            //     // onError={() => toast.error({ message: 'Something went wrong.' })}\n            //     label=\"\"\n            //     className=\"btn-danger-3\"\n            //   />\n            // }\n            className=\"avatar-section\"\n          >\n            {/* <div className=\"d-flex\">{user.img ? <Avatar {...user.img_data} /> : <AvatarUploadButton />}</div> */}\n          </Staff.Section>\n        </div>\n\n        <Staff.Section title=\"Email\" text=\"Please contact support to change your email.\">\n          <p className=\"text-muted text-sm\">{user.email}</p>\n        </Staff.Section>\n\n        <Staff.Section\n          title=\"Password\"\n          text=\"Please contact support to change your password. Password must be at least 6 characters long.\"\n        />\n      </Form>\n    </Staff.View>\n  );\n};\n\n//#endregion ProfileUpdateView\n","import * as React from 'react';\nimport { Route, Routes } from 'react-router-dom';\n\nimport './layout.scss';\n\nimport { SharedDataCtx } from '@miq/contextjs';\nimport { addForwardSlash, getCN } from '@miq/utiljs';\nimport { BaseLayout, IBaseLayoutProps, Icons, Loading } from '@miq/componentjs';\n\nimport SettingLayout from './Setting';\nimport AccountStaffLayout from './Account';\n\nexport interface IStaffBaseLayoutProps extends Omit<IBaseLayoutProps, 'children'> {\n  links: TSidebarLinkProps<{ element: React.ReactNode; mobile?: boolean }>[];\n  sidebarCN?: string;\n  mainCN?: string;\n  mobileNavCN?: string;\n}\n\nconst StaffBaseLayout: React.FC<IStaffBaseLayoutProps> = (props) => {\n  const ctx = React.useContext(SharedDataCtx);\n\n  if (!ctx) return null;\n\n  const { className, fallback = <Loading />, ...viewProps } = props;\n\n  if (!ctx.isLoaded) return fallback;\n\n  const { user, site } = ctx;\n  if (!user || !user.is_staff) return fallback;\n\n  let { links, sidebarCN, children, mainCN, mobileNavCN, ...rest } = viewProps;\n\n  const sidebarLinks = links.filter((i) => i.href && i);\n  const mobileLinks = sidebarLinks.filter((i) => i.mobile && i);\n  const routes = links.filter((i) => i.element && i);\n\n  return (\n    <BaseLayout {...rest} className={getCN([className, prefix])}>\n      <nav className={getCN([`${prefix}-sidebar`, sidebarCN])}>\n        <header className={`${prefix}-sidebar-header`}>\n          <div className=\"text-md text-ellipsis p-1\">{site.name}</div>\n        </header>\n\n        <section className={`${prefix}-sidebar-body`}>\n          {sidebarLinks && (\n            <div className={`${prefix}-sidebar-body-content`}>\n              {sidebarLinks.map((i, v) => (\n                <SidebarLink {...i} key={v} />\n              ))}\n            </div>\n          )}\n\n          <div className={`${prefix}-sidebar-body-footer`}>\n            <SidebarLink href=\"account/\" label={user.first_name} icon={<Icons.Person />} />\n            <SidebarLink href=\"settings/\" label=\"Settings\" icon={<Icons.Gear />} />\n          </div>\n        </section>\n      </nav>\n\n      <div className={getCN([`${prefix}-main`, mainCN])} role=\"main\">\n        <div className=\"miq-container-fluid\">\n          <Routes>\n            {routes.map((i, v) => (\n              <Route path={`${addForwardSlash(i.href)}/*`} element={i.element} key={v} />\n            ))}\n\n            <Route path=\"account/*\" element={<AccountStaffLayout />} />\n            <Route path=\"settings/*\" element={<SettingLayout />} />\n          </Routes>\n        </div>\n      </div>\n\n      {mobileLinks && (\n        <nav className={getCN([`${prefix}-mobile-nav`, mobileNavCN])}>\n          {mobileLinks.map((i, v) => (\n            <SidebarLink {...i} key={v} />\n          ))}\n        </nav>\n      )}\n    </BaseLayout>\n  );\n};\n\n//#region StaffLayout\n\ntype TSidebarLinkProps<T = any> = {\n  href: string;\n  label: string;\n  icon?: ReturnType<typeof Icons.Gear>;\n} & T;\n\nconst SidebarLink = (props: TSidebarLinkProps) => {\n  return (\n    <a href={`/staff/${addForwardSlash(props.href)}`} className=\"miq-staff-nav-link\">\n      {props?.icon}\n      <span className=\"label\">{props.label}</span>\n    </a>\n  );\n};\n\nexport default StaffBaseLayout;\n\n//#endregion StaffLayout\n\nconst prefix = 'miq-staff-layout';\n","import * as React from 'react';\n\nimport { SharedDataCtx } from '@miq/contextjs';\nimport { getCN } from '@miq/utiljs';\n\nconst isArray = Array.isArray;\n\nexport function withHasPerms<Props = void>(Component: React.ComponentType | any, args: any = {}) {\n  return function ({\n    requiredPerms,\n    fallback,\n    ...props\n  }: Props & { requiredPerms?: string[]; fallback?: React.ReactNode; className?: string }) {\n    const { user, perms } = React.useContext(SharedDataCtx);\n    if (!user || !user.is_staff || (requiredPerms && !hasPerms(perms.perms, requiredPerms))) {\n      return fallback || args.fallback || null;\n    }\n    return <Component {...props} className={getCN([args.className, props?.className])} />;\n  };\n}\n\nexport const hasPerms = (perms: any, requiredPerms: string[]) => {\n  if (!isArray(perms) || !isArray(requiredPerms)) return false;\n  return perms.filter((perm) => requiredPerms.includes(perm)).length === requiredPerms.length;\n};\n","import * as React from 'react';\n\nimport './view.scss';\n\nimport { getCN } from '@miq/utiljs';\nimport { withHasPerms } from './utils';\nimport { IViewProps, View } from '@miq/componentjs';\n\nconst SView = (props: IViewProps) => (\n  <View\n    {...props}\n    className={getCN(['miq-staff-view', props.className])}\n    mainCN=\"miq-staff-view-main\"\n    footerCN=\"miq-staff-view-footer\"\n  />\n);\n\nconst StaffView = withHasPerms<IViewProps>(SView);\n\nexport default StaffView;\n","import { Button, ButtonProps, IViewSectionProps, ViewSection } from '@miq/componentjs';\nimport { Link, LinkProps, NavLink, NavLinkProps } from 'react-router-dom';\nimport { withHasPerms } from './utils';\n\nexport const StaffNavLink = withHasPerms<NavLinkProps>(NavLink, { className: 'miq-staff-nav-link' });\nexport const StaffLink = withHasPerms<LinkProps>(Link, { className: 'miq-staff-link' });\nexport const StaffButton = withHasPerms<ButtonProps>(Button, { className: 'miq-staff-btn' });\nexport const StaffSection = withHasPerms<IViewSectionProps>(ViewSection);\n","import * as React from 'react';\n\nimport { uuid, getCN } from '@miq/utiljs';\n\ntype CommonProps = {\n  id?: string;\n  className?: string;\n};\n\ntype DtProps = {\n  dt: Date;\n  /** Display Week days: short(Mon) long(Monday) */\n  short?: string | boolean;\n};\n\nexport type RenderDayProps = { renderDay?: (props: DayProps) => JSX.Element };\n\nexport type MonthProps = DtProps &\n  RenderDayProps & {\n    activeDt?: Date;\n    endDate?: Date;\n    children?: React.ReactNode;\n    showWeekDay?: string | boolean;\n  };\n\nexport const Month: React.FC<MonthProps> = (props) => {\n  const { dt = new Date(), showWeekDay = true, short, ...rest } = props;\n\n  let monthWeeks = dt.getMonthWeeks();\n\n  return (\n    <div className=\"miq-month\">\n      {showWeekDay && <WeekDays short={short} />}\n      <div id=\"Weeks\" className=\"miq-month-weeks\">\n        {monthWeeks.map((w: Date[]) => (\n          <Week {...rest} dt={w[0]} showWeekDay={false} key={uuid()} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport type WeekProps = DtProps &\n  RenderDayProps & {\n    activeDt?: Date;\n    children?: React.ReactNode;\n    showWeekDay?: string | boolean;\n    endDate?: Date;\n  };\n\nexport const Week: React.FC<WeekProps> = (props: WeekProps) => {\n  const { dt = new Date(), endDate, renderDay, ...rest } = props;\n\n  let weekDates: Date[] = dt.getWeekDates();\n  if (endDate) weekDates = weekDates.filter((d) => d <= endDate);\n\n  return (\n    <div className=\"miq-week\" id=\"Week\">\n      <div id=\"Dates\" className=\"miq-week-dates d-grid grid-md-7\">\n        {weekDates.map((d: Date) => (\n          <Day {...rest} dt={d} render={renderDay} key={uuid()} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport type DayProps = CommonProps &\n  DtProps & {\n    activeDt?: Date;\n    showWeekDay?: string | boolean;\n  };\n\nexport const Day = (props: DayProps & { render?: (props: DayProps) => JSX.Element }) => {\n  const { render, ...rest } = props;\n\n  if (render) return render(rest);\n\n  const { dt, short, showWeekDay = true } = rest;\n\n  return (\n    <div className={getCN(['miq-day', props.className])}>\n      {showWeekDay && <WeekDay dt={dt} short={short} />}\n      <DateNum dt={dt} />\n    </div>\n  );\n};\n\nexport type WeekDayProps = DtProps & {};\n\nexport const WeekDay = ({ dt, short }: WeekDayProps) => {\n  const wd = WEEKDAYS.find((i) => i.index === dt.getDay());\n  return <div className=\"miq-weekday\">{short ? wd?.short : wd?.long}</div>;\n};\n\nexport const WeekDays = ({ short, ...props }: any) => (\n  <div className=\"miq-weekdays d-grid grid-md-7\">\n    {WEEKDAYS.map((wd) => {\n      return (\n        <div className=\"miq-weekday\" key={wd.index}>\n          {short ? wd?.short : wd?.long}\n        </div>\n      );\n    })}\n  </div>\n);\n\nexport type DateNumProps = CommonProps & DtProps & {};\n\n/** Display Date Number equivalent to date.getDate() */\nexport const DateNum = ({ dt, className }: DateNumProps) => (\n  <div className={getCN(['miq-day-date-num', dt.isToday() && 'today', className])}>{dt?.getDate?.()}</div>\n);\n\nexport type YearNumProps = DtProps & {};\n\nexport const YearNum = ({ dt }: YearNumProps) => {\n  return <div className=\"miq-year-num\">{dt.getFullYear()}</div>;\n};\n\nexport const WEEKDAYS: { index: number; short: string; long: string }[] = [\n  { short: 'Sun', long: 'Sunday' },\n  { short: 'Mon', long: 'Monday' },\n  { short: 'Tue', long: 'Tuesday' },\n  { short: 'Wed', long: 'Wednesday' },\n  { short: 'Thu', long: 'Thursday' },\n  { short: 'Fri', long: 'Friday' },\n  { short: 'Sat', long: 'Saturday' },\n].map((d, i) => ({ ...d, index: i }));\n","import * as React from 'react';\n\nimport { Button } from '@miq/componentjs';\nimport { getCN } from '@miq/utiljs';\n\nimport { Month, DayProps, DateNum } from './components';\n\nexport type DatepickerProps = {\n  activeDt?: Date;\n  onDateClick?: (dt?: Date) => void;\n  dt: Date;\n  id?: string;\n  className?: string;\n};\n\nexport default function DatePicker(props: DatepickerProps) {\n  const { onDateClick, ...rest } = props;\n  const { dt } = rest;\n\n  return (\n    <div className={getCN(['miq-datepicker', props.className])}>\n      <Month\n        {...props}\n        short\n        dt={dt}\n        renderDay={(args) => <DatePickerDay {...args} onClick={onDateClick} />}\n        endDate={dt.getMonthLastDt()}\n      />\n    </div>\n  );\n}\n\ntype DatePickerDayProps = DayProps & {\n  onClick?: (dt?: Date) => void;\n};\n\nconst DatePickerDay = (props: DatePickerDayProps) => {\n  const { dt, activeDt, onClick } = props;\n  const isToday = dt.isToday();\n  const isActive = dt.isSameDay(activeDt);\n\n  const handleClick = () => {\n    if (!onClick) return;\n    return onClick(dt);\n  };\n\n  return (\n    <div className={getCN(['miq-day miq-datepicker-day'])}>\n      <Button onClick={handleClick} className={getCN(['miq-datepicker-btn', isToday && 'today', isActive && 'active'])}>\n        <DateNum dt={dt} />\n      </Button>\n    </div>\n  );\n};\n","import * as React from 'react';\n\nimport './calendar.scss';\n\nimport { Button } from '@miq/componentjs';\nimport { DateNum, Day, Week, WeekDays, WeekDay, YearNum } from './components';\nimport DatePicker from './datepicker';\n\n//#region Calendar\n\ntype CalendarProps = {\n  currentDate?: Date;\n};\n\nexport default function Calendar(props?: CalendarProps) {\n  const currentDate: Date = props?.currentDate || new Date();\n\n  return Object.assign({}, props, { currentDate });\n}\n\nCalendar.DatePicker = DatePicker;\n\nCalendar.Week = Week;\nCalendar.WeekDay = WeekDay;\nCalendar.WeekDays = WeekDays;\nCalendar.Day = Day;\n\nCalendar.DateNum = DateNum;\nCalendar.YearNum = YearNum;\n\n//#endregion Calendar\n\n//#region BUTTONS\n\nexport type CalendarButtonProps = {\n  children: React.ReactNode;\n  dt: Date;\n  onClick: (dt: Date) => void;\n};\n\nCalendar.PrevWeekButton = ({ children, dt, ...props }: CalendarButtonProps) => {\n  return (\n    <Button {...props} onClick={() => props?.onClick(dt.subDays(7))}>\n      {children}\n    </Button>\n  );\n};\nCalendar.NextWeekButton = ({ children, dt, ...props }: CalendarButtonProps) => {\n  return (\n    <Button {...props} onClick={() => props?.onClick(dt.addDays(7))}>\n      {children}\n    </Button>\n  );\n};\n\n//#endregion BUTTONS\n","// import * as React from 'react';\n\nimport './staff.scss';\n\nimport Layout from './Layout';\nimport StaffView from './Views';\n\nimport { StaffButton, StaffLink, StaffNavLink, StaffSection } from './components';\nimport { StaffImg } from './models';\n\nexport type StaffType = {};\n\nconst Staff = (args: any) => {\n  return Object.assign({}, args);\n};\n\nStaff.Layout = Layout;\n\nStaff.View = StaffView;\nStaff.Section = StaffSection;\n\nStaff.Button = StaffButton;\nStaff.Link = StaffLink;\nStaff.NavLink = StaffNavLink;\n\nStaff.Img = StaffImg;\n\nexport default Staff;\n\nexport { default as DashboardView } from './DashboardView';\nexport * from './service';\nexport * from './models';\nexport * from './Img';\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","import * as Axios from 'axios';\n\nimport { Img, ImgType } from '@miq/componentjs';\nimport { StaffModel, StaffService } from './service';\n\nexport type UserType = { first_name?: string; last_name?: string; gender?: string; employee?: any };\n\nexport class StaffUserService extends StaffService<UserType> {}\n\nexport const StaffUser = (data: UserType = {}) =>\n  StaffModel<UserType, StaffUserService>(data, 'account/', StaffUserService);\n\nclass StaffImgService extends StaffService<ImgType> {\n  createFromUrl(url: string, alt_text: string = '') {\n    return super.create({ src: url, alt_text });\n  }\n\n  // @ts-ignore\n  create(\n    file: File,\n    alt_text?: string,\n    config: Axios.AxiosRequestConfig<any> = {}\n  ): Promise<Axios.AxiosResponse<any, any>> {\n    if (file.name.length > 499) {\n      return Promise.reject('Filename too long');\n    }\n    const fd = new FormData();\n    fd.append('src', file, file.name);\n    if (alt_text) fd.append('alt_text', alt_text);\n\n    return super.create(fd, { ...config, headers: { 'content-type': 'multipart/form-data' } });\n  }\n\n  updateMobile(file: File) {\n    return this.update(file, undefined, 'mobile');\n  }\n  updateSquare(file: File) {\n    return this.update(file, undefined, 'square');\n  }\n  updateThumb(file: File) {\n    const { name } = file;\n    return this.update(file, undefined, 'thumb');\n  }\n  updateValues(values: any) {\n    return super.update(values);\n  }\n\n  // @ts-ignore\n  update(file: File, alt_text?: string, field?: string) {\n    if (file.name.length > 499) {\n      return Promise.reject('Filename too long');\n    }\n\n    const fd = new FormData();\n\n    if (!field) field = 'src';\n    switch (field) {\n      case 'mobile':\n        fd.append('src_mobile', file, file.name);\n        break;\n      case 'thumb':\n        fd.append('thumb', file, file.name);\n        break;\n      case 'square':\n        fd.append('thumb_sq', file, file.name);\n        break;\n      default:\n        fd.append('src', file, file.name);\n        break;\n    }\n\n    if (alt_text) fd.append('alt_text', alt_text);\n\n    return super.update(fd, { headers: { 'content-type': 'multipart/form-data' } });\n  }\n}\n\nexport const StaffImg = (data: ImgType = {}) => {\n  // @ts-ignore\n  return StaffModel<ImgType, StaffImgService>(data, 'staffimages', StaffImgService);\n};\n\nStaffImg.HorizontalGallery = Img.HorizontalGallery;\nStaffImg.VerticalGallery = Img.VerticalGallery;\nStaffImg.Mobile = Img.Mobile;\nStaffImg.Thumb = Img.Thumb;\nStaffImg.Square = Img.Square;\nStaffImg.Picture = Img.Picture;\nStaffImg.Image = Img.Image;\n","import axios, { AxiosInstance } from 'axios';\n\nimport { DOMAIN, CrudService } from '@miq/utiljs';\n\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFTOKEN';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nexport const API_ENDPOINT: string = `${DOMAIN}${process.env.REACT_APP_API_ENDPOINT}`;\nexport const STAFF_PATH: string = process.env.REACT_STAFF_PATH || '/staff/';\n\nexport const API = axios.create({\n  baseURL: API_ENDPOINT,\n  timeout: 3000,\n  withCredentials: true,\n  headers: { 'Content-type': 'application/json' },\n});\n\nexport class StaffService<T> extends CrudService<T> {\n  constructor(public data: T, endpoint: string, s: AxiosInstance = API) {\n    super(data, endpoint, s);\n    Object.assign(this, data);\n  }\n}\n\nexport function StaffModel<T, V = StaffService<T>>(\n  data: T,\n  endpoint: string,\n  TargetServiceClass: new (...args: any[]) => StaffService<T> = StaffService\n) {\n  const instance = new TargetServiceClass(data, endpoint);\n  return instance as T & typeof instance & V;\n}\n","import { ImgType } from '@miq/componentjs';\nimport { TextChoicesType } from '@miq/formjs';\nimport { WithMetaFields } from '@miq/utiljs';\n\nexport type PriceDataType = { currency: string; amount: string; amountWithSymbol: string };\nexport type PriceType = number | PriceDataType;\n\nexport type ProductType = WithMetaFields<{\n  slug?: string;\n\n  category?: string;\n  category_data?: CategoryType;\n  name?: string;\n\n  cover?: string;\n  cover_data?: ImgType;\n  images?: string[];\n  images_data?: ImgType[];\n\n  readonly name_truncated?: string;\n  description?: string;\n  retail_price?: PriceType;\n  retail_price_data?: PriceDataType;\n  is_on_sale?: boolean;\n  sale_price?: PriceType;\n  sale_price_data?: PriceDataType;\n  is_pre_sale?: boolean;\n  is_pre_sale_text?: string;\n  is_pre_sale_dt?: string | Date;\n  url?: string;\n\n  has_attributes?: boolean;\n  attributes?: any[];\n  sizes?: any[];\n  size_count?: number;\n\n  is_published?: boolean;\n  dt_published?: string | Date;\n\n  supplier_item: SupplierItemType;\n  position?: number;\n  color_group_pk?: string;\n  stage?: string;\n  is_oos: boolean | undefined;\n\n  readonly detail_path?: string;\n\n  created?: string | Date;\n  updated?: string | Date;\n}>;\n\nexport type CategoryChoicesType = {\n  items: TextChoicesType;\n};\n\nexport type CategoryType = WithMetaFields<{\n  slug?: string;\n  supplier_item_id?: string;\n  name?: string;\n  description?: string;\n  cover?: ImgType;\n  position?: number;\n\n  is_published?: boolean;\n  dt_published?: string | Date;\n\n  cover_data?: ImgType;\n  products_count?: number;\n  published_count?: number;\n  draft_count?: number;\n  readonly detail_path?: string;\n\n  created?: string | Date;\n  updated?: string | Date;\n}>;\n\nexport type SupplierItemType = {\n  slug?: string;\n  item_id?: string;\n  item_sn?: string;\n  category?: string;\n  url?: string;\n  cost?: number;\n  created?: string;\n  updated?: string;\n};\n\nexport enum SupplierName {\n  SHEIN = 'SHEIN',\n  PLT = 'PLT',\n  FNOVA = 'FNOVA',\n}\n\nexport type SupplierOrderType = {\n  slug?: string;\n  name?: string;\n  supplier?: string;\n  order_id?: string;\n  products?: ProductType[];\n  items?: any[];\n  items_cost?: number;\n  items_revenue?: number;\n  avg_cost?: number;\n  by_categories: { category__name: string; count: number }[] | undefined;\n\n  currency?: string;\n  is_paid?: boolean;\n  is_paid_dt?: string;\n  is_fulfilled_dt?: string;\n  total_cost?: number;\n  total_cost_data?: PriceDataType;\n};\n\nexport type ProductSizeType = {\n  slug?: string;\n  name?: string;\n  code?: string;\n  quantity?: number;\n};\n","import * as React from 'react';\nimport { Routes, Route } from 'react-router-dom';\n\nimport { SharedDataCtx, SharedDataState } from '@miq/contextjs';\nimport { OrderSettingUpdateView } from './Supplier/OrderUpdateView';\n\nconst ShopStaffIndexView = React.lazy(() => import('./IndexView'));\n\nconst SupplierOrderIndexView = React.lazy(() => import('./Supplier'));\nconst SupplierOrderProductUpdateView = React.lazy(() => import('./Supplier/OrderProductUpdateView'));\nconst SupplierOrderUpdateView = React.lazy(() => import('./Supplier/OrderUpdateView'));\n\nconst CategoryIndexView = React.lazy(() => import('./Category'));\nconst CategoryUpdateView = React.lazy(() => import('./Category/UpdateView'));\n\nconst ProductIndexView = React.lazy(() => import('./Product/IndexView'));\nconst ShopSettingUpdateView = React.lazy(() => import('./Setting'));\n\nexport default function ShopStaffRoutes() {\n  const { shopy_settings } = React.useContext(SharedDataCtx) as SharedDataState & { shopy_settings: any | null };\n\n  if (!shopy_settings) return null;\n\n  return (\n    <Routes>\n      <Route\n        path=\"orders/*\"\n        element={\n          <Routes>\n            <Route path={`:ordSlug/:prodSlug/`} element={<SupplierOrderProductUpdateView />} />\n            <Route path={`:ordSlug/settings/`} element={<OrderSettingUpdateView />} />\n            <Route path={`:ordSlug/`} element={<SupplierOrderUpdateView />} />\n            <Route path=\"/*\" element={<SupplierOrderIndexView />} />\n          </Routes>\n        }\n      />\n\n      <Route\n        path=\"products/*\"\n        element={\n          <Routes>\n            <Route path=\"/*\" element={<ProductIndexView />} />\n          </Routes>\n        }\n      />\n\n      <Route\n        path=\"categories/*\"\n        element={\n          <Routes>\n            <Route path=\":catSlug/\" element={<CategoryUpdateView />} />\n            <Route index element={<CategoryIndexView />} />\n          </Routes>\n        }\n      />\n\n      <Route path=\"settings/\" element={<ShopSettingUpdateView />} />\n      <Route path=\"/\" element={<ShopStaffIndexView />} />\n    </Routes>\n  );\n}\n\nexport * from './types';\n","import * as React from 'react';\n\nimport './index.scss';\n\nimport Staff from '@miq/staffjs';\nimport { Icons } from '@miq/componentjs';\nimport ShopStaffRoutes from '@shopy/storejs';\n\n// const OrdersStaffRoutes = React.lazy(() => import('../orders/staff'));\nconst FinanceRoutes = React.lazy(() => import('./finance'));\n\nexport default function StaffLayout() {\n  return (\n    <Staff.Layout\n      links={[\n        { href: 'store/', label: 'Store', icon: <Icons.Shop />, element: <ShopStaffRoutes />, mobile: true },\n        { href: 'finance/', label: 'Finance', icon: <Icons.CashStack />, element: <FinanceRoutes /> },\n      ]}\n    />\n  );\n}\n","import { NavLink, useSearchParams } from 'react-router-dom';\n\nimport { ImgAddButtonProps, StaffImg, StaffImgAddButton } from '@miq/staffjs';\nimport { IFormUpdateProps } from '@miq/formjs';\nimport { getCN } from '@miq/utiljs';\nimport { Button, ConfirmButton, Icons, ImgType } from '@miq/componentjs';\n\nimport { emitter } from '../events';\nimport { ProductType } from '../types';\nimport { ProductPriceDisplay, PublishedIcon } from '../components';\n\nimport { StaffProduct, TStaffProductInstance } from './models';\n\n//#region ============================== BUTTONS\n\nexport type ProductImagesAddButtonProps = Omit<ImgAddButtonProps, 'onSuccessMulti' | 'onErrorMulti'> & {\n  productInstance: TStaffProductInstance;\n};\n\n/**\n * Button component for adding images to a product\n * ```js\n * <ProductImagesAddButton productInstance={instance} onSuccess={(res: any) => onUpdate?.(res.data)} />\n * ```\n */\n\nexport const ProductImagesAddButton = (props: ProductImagesAddButtonProps) => {\n  const { productInstance, onSuccess, onError, ...rest } = props;\n  return (\n    <StaffImgAddButton\n      className=\"btn-primary-3\"\n      {...rest}\n      multiple={true}\n      onSuccessMulti={(resArray) => {\n        const imgsArray = resArray\n          .map(({ data }: any) => data?.slug)\n          .filter((slug) => !productInstance.images?.includes(slug));\n        return productInstance\n          .update({ images: [...productInstance.images!, ...imgsArray] })\n          .then((res) => onSuccess?.(res))\n          .catch((err) => onError?.(err));\n      }}\n    />\n  );\n};\n\nexport const ProductDeleteButton: React.FC<\n  Omit<IFormUpdateProps<TStaffProductInstance>, 'context'> & { label?: string }\n> = (props) => {\n  const { instance, onSuccess, onError, label } = props;\n\n  const handleDelete = (setOpen: any) => {\n    instance\n      .destroy()\n      .then((res: any) => {\n        setOpen?.(false);\n        onSuccess?.(res);\n        emitter.destroy({ slug: instance.slug });\n      })\n      .catch((err: any) => onError?.(err));\n  };\n  return (\n    <ConfirmButton\n      renderHeader={() => <div>Supprimer '{instance.name}'</div>}\n      renderFooter={({ setOpen }) => (\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <Button onClick={() => setOpen(false)}>Annuler</Button>\n\n          <Button onClick={() => handleDelete(setOpen)} className=\"btn-danger\">\n            Supprimer\n          </Button>\n        </div>\n      )}\n      render={() => <div className=\"p-3\">Are you sure you want to delete this</div>}\n      className={getCN(['product-delete-button btn-danger-3', props.className])}\n    >\n      <Icons.Trash />\n      {label && <span className=\"label\">{label}</span>}\n    </ConfirmButton>\n  );\n};\n\n//#endregion ============================== BUTTONS\n\nexport const ProductCardItem = ({ data, ...props }: { data: ProductType }) => {\n  const instance = StaffProduct(data);\n\n  return (\n    <div className=\"p-card-list-item p-1 mb-1\">\n      <div className=\"d-flex align-items-center\">\n        <div className=\"p-name text-ellipsis\">{instance.name_truncated}</div>\n        <div className=\"ms-1\">\n          <PublishedIcon show={instance.is_published} />\n        </div>\n      </div>\n\n      <div className=\"d-flex\">\n        <StaffImg.Square {...instance?.cover_data} />\n        <div className=\"p-info ps-1\">\n          <ProductPriceDisplay {...instance.export()} className=\"d-flex flex-wrap\" />\n          <div className=\"p-category\">{instance.category_data?.name}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport type ProductCardListProps = {\n  items: ProductType[];\n  itempath: string;\n};\nexport const ProductCardList = ({ items, itempath }: ProductCardListProps) => {\n  const [params] = useSearchParams();\n  return (\n    <div className=\"p-card-list-items\">\n      {items.map((item: ProductType) => {\n        // let to = `${itempath}${item.slug}/?${params}`;\n        let to = `${itempath}${item.slug}/?${params}`;\n        return (\n          <NavLink to={to} key={item.slug}>\n            <ProductCardItem data={item} />\n          </NavLink>\n        );\n      })}\n    </div>\n  );\n};\n","import * as React from 'react';\n\nimport Form, {\n  CheckboxFieldProps,\n  DescriptionField,\n  FormProps,\n  IFormCallbackProps,\n  IFormUpdateProps,\n  NameField,\n  SelectFieldProps,\n  TextChoicesType,\n  TextFieldProps,\n  useForm,\n} from '@miq/formjs';\nimport { getCN, isRequired as isR } from '@miq/utiljs';\n\nimport { emitter } from '../events';\nimport { CategoryChoicesType } from '../types';\n\nimport { StaffProduct, TStaffProductInstance } from './models';\nimport { URLSearchParamsInit, useSearchParams } from 'react-router-dom';\nimport { Button } from '@miq/componentjs';\nimport { SupplierOrder } from '../Supplier';\n\n/**\n *\n */\n\ninterface IProductUpdateFormProps extends IFormUpdateProps<TStaffProductInstance> {\n  onWillSubmit?: () => void;\n  fields?: string[];\n}\n\nexport const ProductQuickUpdateForm = (\n  props: Omit<IProductUpdateFormProps, 'context'> & { categories: CategoryChoicesType; orderSlug?: string }\n) => {\n  const { instance, categories, orderSlug, ...rest } = props;\n\n  const form = useForm({\n    name: instance.name || '',\n    category: instance.category || '',\n    description: instance.description || '',\n    retail_price: instance?.retail_price || 0.0,\n    is_pre_sale: instance.is_pre_sale || false,\n    is_pre_sale_text: instance.is_pre_sale_text || '',\n  });\n\n  const { errors } = form;\n  const { fields = ['name', 'category', 'description', 'retail_price', 'is_pre_sale', 'is_pre_sale_text'] } = props;\n\n  return (\n    <ProductUpdateForm {...rest} context={form} instance={instance} fields={fields}>\n      <ProductForm.NameField error={errors.name} />\n\n      <ProductForm.DescriptionField error={errors.description} />\n\n      <div className=\"d-grid grid-md-3 gap-2\">\n        {categories && <ProductForm.CategoryField categories={categories} error={errors.category} />}\n        <ProductForm.RetailPriceField error={errors.retail_price} />\n      </div>\n\n      <ProductForm.PresaleCheckboxField label=\"En pr-vente\" error={errors.is_pre_sale} />\n      {form.values.is_pre_sale && (\n        <ProductForm.PresaleTextField label=\"Pre-sale text\" placeholder=\"Explain ...\" error={errors.is_pre_sale_text} />\n      )}\n\n      <div className=\"d-flex align-items-center justify-content-between\">\n        <div>\n          {orderSlug && instance?.slug && (\n            <Button\n              onClick={() => {\n                SupplierOrder({ slug: orderSlug }).destroyItem(instance.slug!);\n              }}\n            >\n              Remove from order\n            </Button>\n          )}\n        </div>\n\n        <Form.Submit value=\"Sauvegarder\" className=\"btn-primary-3 btn-md\" />\n      </div>\n    </ProductUpdateForm>\n  );\n};\n\nexport function ProductUpdateForm({ children, ...props }: IProductUpdateFormProps) {\n  const {\n    instance = isR('StaffProduct instance'),\n    fields = isR('fields instance'),\n    onSuccess,\n    onError,\n    ...rest\n  } = props;\n\n  const { context } = rest;\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    props?.onWillSubmit?.();\n\n    const fd: any = {};\n    fields.forEach((field) => {\n      const value = context.values[field];\n      if (value == null) return;\n      if (field == 'is_pre_sale_dt' && !value) return;\n\n      fd[field] = value;\n    });\n\n    return instance\n      .update(fd)\n      .then(({ data }: any) => {\n        onSuccess?.(data);\n        emitter.update(data);\n      })\n      .catch((err: any) => {\n        if (onError) return onError(err);\n        return context.handleError(err);\n      });\n  };\n\n  return (\n    <ProductForm {...rest} onSubmit={handleSubmit}>\n      {children}\n    </ProductForm>\n  );\n}\n\n/**\n *\n */\n\nexport interface ProductCreateFormProps extends IFormCallbackProps {}\n\nexport const ProductCreateForm: React.FC<ProductCreateFormProps> = (props) => {\n  const form = useForm({ name: '', retail_price: '', description: '' });\n\n  const { errors } = form;\n\n  const handleCreate = (e: React.FormEvent) => {\n    e.preventDefault();\n    StaffProduct()\n      .create(form.values)\n      .then((res: any) => props?.onSuccess?.(res))\n      .catch((err: any) => form.handleError(err));\n  };\n\n  return (\n    <ProductForm context={form} onSubmit={handleCreate}>\n      <ProductForm.NameField label=\"Nom du produit\" error={errors.name} />\n      <ProductForm.RetailPriceField required={false} label=\"Prix du produit\" error={errors.retail_price} />\n      <ProductForm.DescriptionField label=\"Description du produit\" error={errors.description} />\n\n      <Form.Submit value=\"Sauvegarder\" className=\"btn-primary-3\" />\n    </ProductForm>\n  );\n};\n\n/**\n *\n */\n\nexport const ProductForm = (props: FormProps) => <Form {...props} />;\n\n/**\n *\n */\n\nProductForm.NameField = (props: TextFieldProps) => (\n  <NameField placeholder=\"Entrez un titre clair et concis ...\" {...props} />\n);\nProductForm.DescriptionField = (props: TextFieldProps) => (\n  <DescriptionField placeholder=\"Dcrivez les caractristiques et les avantages ...\" {...props} />\n);\n\nProductForm.CategoryField = (props: SelectFieldProps & { categories: CategoryChoicesType }) => {\n  const { label, text, error, categories, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Select {...rest} required name=\"category\" nullValue={{ label: 'Slectionnez une catgorie ...' }}>\n        {categories?.items?.map((cat) => {\n          return <Form.Option {...cat} key={cat.value} />;\n        })}\n      </Form.Select>\n    </Form.Field>\n  );\n};\n\nProductForm.SalePriceField = (props: TextFieldProps) => {\n  const { label, text, error, ...rest } = props;\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Text\n        aria-describedby=\"sale_price_label\"\n        min=\"0\"\n        step=\"0.01\"\n        required\n        placeholder=\"Prix rduit\"\n        {...rest}\n        type=\"number\"\n        name=\"sale_price\"\n      />\n    </Form.Field>\n  );\n};\n\nProductForm.OnSaleCheckboxField = (props: CheckboxFieldProps) => {\n  const { label, text, error, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }} checkbox>\n      <Form.Checkbox {...rest} name=\"is_on_sale\" />\n    </Form.Field>\n  );\n};\n\nProductForm.PresaleCheckboxField = (props: CheckboxFieldProps) => {\n  const { label, text, error, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }} checkbox>\n      <Form.Checkbox {...rest} name=\"is_pre_sale\" />\n    </Form.Field>\n  );\n};\n\nProductForm.OosCheckboxField = (props: CheckboxFieldProps) => {\n  const { label = 'En rupture de stock', text, error, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }} checkbox>\n      <Form.Checkbox {...rest} name=\"is_oos\" />\n    </Form.Field>\n  );\n};\n\nProductForm.PresaleTextField = (props: TextFieldProps) => {\n  const { label, text, error, ...rest } = props;\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.TextAreaX placeholder=\"\" {...rest} name=\"is_pre_sale_text\" aria-describedby=\"is_pre_sale_text_label\" />\n    </Form.Field>\n  );\n};\n\nProductForm.RetailPriceField = (props: TextFieldProps) => {\n  const { label, text, error, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Text\n        required\n        placeholder=\"Prix\"\n        aria-describedby=\"retail_price_label\"\n        min=\"0\"\n        step=\"0.01\"\n        {...rest}\n        type=\"number\"\n        name=\"retail_price\"\n      />\n    </Form.Field>\n  );\n};\n\nProductForm.StageSelectField = (props: SelectFieldProps & { stages: TextChoicesType }) => {\n  const { label, text, error, stages, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Select required name={'stage'} nullValue={{ label: 'Select stage' }} {...rest}>\n        {stages?.map?.((stage) => {\n          return <Form.Option {...stage} key={stage.value} />;\n        })}\n      </Form.Select>\n    </Form.Field>\n  );\n};\n\ntype ProductListFilterFormProps = {\n  children?: React.ReactNode;\n  categories?: CategoryChoicesType;\n};\n\nexport const ProductListFilterForm = ({ children, ...props }: ProductListFilterFormProps) => {\n  const [params, setParams] = useSearchParams();\n  const [q, setQ] = React.useState<string>(params.get('q') || '');\n  const { categories, ...rest } = props;\n\n  return (\n    <form\n      {...rest}\n      action=\".\"\n      method=\"GET\"\n      onSubmit={(e) => {\n        e.preventDefault();\n\n        if (!q) params.delete('q');\n        else params.set('q', q);\n        params.delete('page');\n\n        setParams(params);\n      }}\n    >\n      {children || (\n        <>\n          <div className=\"mb-2 d-flex\">\n            <input\n              type=\"text\"\n              name=\"q\"\n              value={q}\n              onChange={(e) => {\n                const { value } = e.target;\n                setQ(value);\n                if (!value && params.get('q')) params.delete('q');\n              }}\n              className=\"miq-form-input flex-1\"\n              placeholder=\"Cherchez un produit par nom, categorie ou numero de serie ...\"\n            />\n            <Form.Submit value={'Search'} className=\"btn-primary-3 ms-1\" />\n          </div>\n\n          {categories && <ProductListFilterForm.Category {...{ params, setParams, categories }} />}\n\n          <ProductListFilterForm.Published {...{ params, setParams }} className=\"mb-1\" />\n          <ProductListFilterForm.Sale {...{ params, setParams }} className=\"mb-1\" />\n          <ProductListFilterForm.PreSale {...{ params, setParams }} className=\"mb-1\" />\n        </>\n      )}\n    </form>\n  );\n};\n\ntype TParamsProps = {\n  params: URLSearchParams;\n  setParams: (\n    nextInit: URLSearchParamsInit,\n    navigateOptions?:\n      | {\n          replace?: boolean | undefined;\n          state?: any;\n        }\n      | undefined\n  ) => void;\n};\n\ntype QuerySelectFieldProps = TParamsProps & {\n  emptyLabel?: string;\n  name: string;\n  children?: React.ReactNode;\n  className?: string;\n};\n\nProductListFilterForm.Category = (props: Omit<QuerySelectFieldProps, 'name'> & { categories: CategoryChoicesType }) => {\n  const { categories, ...rest } = props;\n\n  return (\n    <QuerySelectField emptyLabel=\"Categorie ...\" {...rest} name=\"cat\">\n      {categories.items.map((cat) => {\n        return (\n          <option value={cat.value} key={cat.slug}>\n            {cat.label}\n          </option>\n        );\n      })}\n    </QuerySelectField>\n  );\n};\n\nProductListFilterForm.Published = (props: Omit<QuerySelectFieldProps, 'name'>) => {\n  return (\n    <QuerySelectField emptyLabel=\"Tous les produits ...\" {...props} name=\"published\">\n      <option value=\"include\">Produits publis</option>\n      <option value=\"exclude\">Produits non publis</option>\n    </QuerySelectField>\n  );\n};\n\nconst QuerySelectField = ({ children, ...props }: QuerySelectFieldProps) => {\n  const { name, params, setParams, emptyLabel } = props;\n  return (\n    <select\n      className={getCN(['miq-select', props.className])}\n      name={name}\n      value={params.get(name) || ''}\n      onChange={(e) => {\n        const { value } = e.target;\n\n        if (!value) params.delete(name);\n        else params.set(name, value);\n        params.delete('page');\n\n        setParams(params);\n      }}\n    >\n      {emptyLabel && <option value=\"\">{emptyLabel}</option>}\n      {children}\n    </select>\n  );\n};\n\nProductListFilterForm.PreSale = (props: Omit<QueryToggleFieldProps, 'name' | 'label'>) => {\n  return <QueryToggleField {...props} name=\"presale\" label=\"En pr-vente\" />;\n};\n\nProductListFilterForm.Sale = (props: Omit<QueryToggleFieldProps, 'name' | 'label'>) => {\n  return <QueryToggleField {...props} name=\"sale\" label=\"En promo\" />;\n};\n\ntype QueryToggleFieldProps = Omit<QuerySelectFieldProps, 'emptyLabel'> & { label: string; inputId?: string };\n\nconst QueryToggleField = (props: QueryToggleFieldProps) => {\n  const { label, name, params, setParams, inputId } = props;\n\n  return (\n    <div className={getCN(['miq-query-filter-toggle d-flex align-items-center', props.className])}>\n      <input\n        type=\"checkbox\"\n        className=\"miq-checkbox me-1\"\n        id={inputId}\n        onChange={(e) => {\n          const { checked } = e.target;\n          if (!checked) params.delete(name);\n          else params.set(name, `${checked}`);\n          params.delete('page');\n          setParams(params);\n        }}\n        checked={Boolean(params.get(name)) || false}\n      />\n      <label htmlFor={inputId}>{label}</label>\n    </div>\n  );\n};\n","import { StaffModel, StaffService } from '@miq/staffjs';\nimport { ProductType } from '../types';\n\nclass StaffProductService extends StaffService<ProductType> {\n  publish() {\n    return this.patch(`${this._path}publish/`, { is_published: true });\n  }\n\n  unpublish() {\n    return this.patch(`${this._path}publish/`, { is_published: false });\n  }\n\n  postSize(values: any) {\n    return this.post(`${this._path}size/new/`, values);\n  }\n  patchSize(sizeSlug: string, values: any) {\n    return this.patch(`${this._path}size/${sizeSlug}/`, values);\n  }\n  deleteSize(sizeSlug: string) {\n    return this.delete(`${this._path}size/${sizeSlug}/`);\n  }\n  postAttribute(values: any) {\n    return this.post(`${this._path}attribute/new/`, values);\n  }\n  patchAttribute(attrSlug: string, values: any) {\n    return this.patch(`${this._path}attribute/${attrSlug}/`, values);\n  }\n  deleteAttribute(attrSlug: string) {\n    return this.delete(`${this._path}attribute/${attrSlug}/`);\n  }\n  swapCover(slug: string) {\n    return this.patch(`${this._path}swap-cover/`, { slug });\n  }\n}\n\nexport const StaffProduct = (data: ProductType = {}) => {\n  let { dt_published } = data;\n  if (dt_published) dt_published = new Date(dt_published);\n\n  return StaffModel<ProductType, StaffProductService>({ ...data, dt_published }, 'products', StaffProductService);\n};\n\nexport type TStaffProductInstance = ReturnType<typeof StaffProduct>;\n","import { useSearchParams } from 'react-router-dom';\n\nimport { useRequest } from '@miq/hookjs';\nimport { StaffProduct } from './models';\n\nexport const useProductListRequest = (orderSlug?: string) => {\n  const [params] = useSearchParams();\n\n  const q = params.get('q');\n  const cat = params.get('cat');\n  const page = params.get('page');\n  const published = params.get('published');\n  const presale = params.get('presale');\n  const sale = params.get('sale');\n\n  let searchParams: any = { page, cat, published, presale, sale, q };\n  if (orderSlug) searchParams.supplier_order_slug = orderSlug;\n\n  return useRequest(() => StaffProduct().list({ params: searchParams }), {\n    refreshDeps: [q, page, cat, published, presale, sale, orderSlug],\n  });\n};\n","import * as React from 'react';\nimport Form, {\n  DescriptionField,\n  NameField,\n  FormProps,\n  IFormCallbackProps,\n  IFormUpdateProps,\n  useForm,\n  TextFieldProps,\n  CheckboxFieldProps,\n  SelectFieldProps,\n  TextChoicesType,\n} from '@miq/formjs';\nimport { SupplierOrder } from './models';\n\ninterface ISupplierOrderUpdateFormProps extends IFormUpdateProps {\n  instance: ReturnType<typeof SupplierOrder>;\n  fields: string[];\n}\n\nexport const SupplierOrderUpdateForm: React.FC<ISupplierOrderUpdateFormProps> = ({ instance, fields, ...props }) => {\n  const { onSuccess, onError, ...rest } = props;\n  const { context } = rest;\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const fd: any = {};\n    fields.forEach((field) => {\n      const value = context.values[field];\n      if (value == null) return;\n      fd[field] = value;\n    });\n\n    return instance\n      .update(fd)\n      .then((res: any) => onSuccess?.(res))\n      .catch((err: any) => {\n        if (onError) return onError(err);\n        return context?.handleError?.(err);\n      });\n  };\n  return <SupplierOrderForm {...rest} onSubmit={handleSubmit} />;\n};\n\n//#region ==================================== SUPPLIER ORDER FORM\n\nexport const SupplierOrderForm = (props: FormProps) => <Form {...props} />;\n\nSupplierOrderForm.NameField = (props: TextFieldProps) => {\n  const { label = 'Name', text = 'Write a name to help remember your order.', error, ...rest } = props;\n  return (\n    <Form.Field label={label} text={text} error={error}>\n      <Form.Text placeholder=\"Nom\" maxLength={99} {...rest} name=\"name\" />\n    </Form.Field>\n  );\n};\n\nSupplierOrderForm.OrderIDField = (props: TextFieldProps) => {\n  const { label = 'Order ID', text, error, ...rest } = props;\n  return (\n    <Form.Field label={label} text={text} error={error}>\n      <Form.Text placeholder=\"Order ID\" maxLength={99} {...rest} name=\"order_id\" />\n    </Form.Field>\n  );\n};\n\nSupplierOrderForm.IsPaidField = (props: CheckboxFieldProps) => {\n  const { label = 'Pay', text, error, ...rest } = props;\n  return (\n    <Form.Field label={label} text={text} error={error} checkbox>\n      <Form.Checkbox {...rest} name=\"is_paid\" />\n    </Form.Field>\n  );\n};\n\nSupplierOrderForm.TotalCostField = (props: TextFieldProps) => {\n  const { label = 'Cot total', text, error, ...rest } = props;\n  return (\n    <Form.Field label={label} text={text} error={error}>\n      <Form.Text min=\"0\" step=\"0.01\" {...rest} required type=\"number\" name=\"total_cost\" />\n    </Form.Field>\n  );\n};\n\nSupplierOrderForm.CurrencyField = (props: SelectFieldProps & { currencies: TextChoicesType }) => {\n  const { label, text = 'Select the supplier currency.', error, currencies, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Select {...rest} required name=\"currency\" nullValue={{ label: 'Slectionnez une monnaie ...' }}>\n        {currencies?.map((curr) => {\n          return <Form.Option {...curr} key={curr.value} />;\n        })}\n      </Form.Select>\n    </Form.Field>\n  );\n};\n\nSupplierOrderForm.SupplierField = (props: SelectFieldProps & { suppliers: TextChoicesType }) => {\n  const { label, text = 'Select the supplier.', error, suppliers, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Select {...rest} required name=\"supplier\" nullValue={{ label: 'Slectionnez le supplier ...' }}>\n        {suppliers?.map((supplier) => {\n          return <Form.Option {...supplier} key={supplier.value} />;\n        })}\n      </Form.Select>\n    </Form.Field>\n  );\n};\n\n//#endregion ==================================== SUPPLIER ORDER FORM\n\ninterface ISupplierOrderProductAddFormProps extends IFormCallbackProps {\n  orderInstance: ReturnType<typeof SupplierOrder>;\n  children?: React.ReactNode;\n}\n\nexport const SupplierOrderProductAddForm = ({ children, ...props }: ISupplierOrderProductAddFormProps) => {\n  const { orderInstance, onSuccess, onError } = props;\n  const supplier = orderInstance?.supplier?.toLowerCase();\n\n  const form = useForm({ supplier_name: supplier, url: '' });\n  const [isLoading, setLoading] = React.useState(false);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const { url } = form.values;\n\n    const handleSuccess = (res: any) => {\n      setLoading(false);\n      form.setValue('url', '');\n      return onSuccess?.(res);\n    };\n\n    const handleError = (err: any) => {\n      form.setErrors({ ...form.errors, url: 'Something went wrong.' });\n      setLoading(false);\n      return onError?.(err);\n    };\n\n    const urlErrMsg = `Invalid Url: does not match supplier ${orderInstance.supplier}`;\n\n    switch (supplier) {\n      case 'fnova':\n        if (!url.includes('fashionnova')) return form.setErrors({ url: urlErrMsg });\n\n        setLoading(true);\n        return orderInstance.postFnova(url).then(handleSuccess).catch(handleError);\n      case 'plt':\n        if (!url.includes('prettylittlething')) return form.setErrors({ url: urlErrMsg });\n\n        setLoading(true);\n        return orderInstance.postPlt(url).then(handleSuccess).catch(handleError);\n\n      default:\n        if (!url.includes(supplier)) return form.setErrors({ url: urlErrMsg });\n\n        setLoading(true);\n        return orderInstance.postShein(url).then(handleSuccess).catch(handleError);\n    }\n  };\n\n  return (\n    <Form context={form} onSubmit={handleSubmit} className=\"supplier-product-add-form\">\n      <Form.Field error={form.errors.url}>\n        <div className=\"d-flex flex-column flex-md-row align-items-center\">\n          <Form.Text\n            required\n            autoFocus\n            name=\"url\"\n            type=\"url\"\n            placeholder={`Add ${supplier} product source url ...`}\n            className=\"me-1\"\n            disabled={isLoading}\n          />\n\n          <div className=\"mt-1 mt-md-0\">\n            <Form.Submit value=\"Add product\" className=\"btn btn-primary-3\" disabled={isLoading} />\n          </div>\n        </div>\n      </Form.Field>\n\n      {isLoading && <div className=\"my-3\">Getting product data. Please wait ...</div>}\n    </Form>\n  );\n};\n\nconst u = 'https://www.fashionnova.com/products/jessa-denim-mini-dress-white';\nconst shein404 = 'https://us.shein.com/Clear-Acrylic-Frame-Glasses-p-1792787-cat-2842.html';\nconst fnovavariant = 'https://www.fashionnova.com/products/kayla-seamless-bandeau-olive?variant=12191869272188';\n","import * as React from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport './supplier-product-list.scss';\n\nimport Staff from '@miq/staffjs';\nimport { Button, HorizontalScrollGridLayout, Icons, Pagination, ViewSection } from '@miq/componentjs';\n\nimport { StaffProduct } from '../Product';\nimport { useProductListRequest } from '../Product';\nimport { ProductForm, ProductQuickUpdateForm } from '../Product/forms';\nimport { ProductDeleteButton } from '../Product/components';\nimport { CategoryChoicesType, ProductType } from '../types';\n\nimport { SupplierOrder } from './models';\nimport Form, { useForm } from '@miq/formjs';\n\nexport type SupplierProductListProps = {\n  orderInstance: ReturnType<typeof SupplierOrder>;\n  categories: CategoryChoicesType;\n  refreshOrder: () => Promise<null | undefined>;\n};\n\nexport default function SupplierProductList({ orderInstance, refreshOrder, categories }: SupplierProductListProps) {\n  const { ordSlug } = useParams();\n  const { res = { data: { results: [] } }, refresh } = useProductListRequest(ordSlug);\n  const [selected, setSelected] = React.useState<string[]>([]);\n  const form = useForm({ category: '' });\n\n  const updateCategories = () => {\n    const { category } = form.values;\n    if (!category) return;\n\n    orderInstance\n      .updateCategories(category, selected)\n      .then((r) => {\n        refresh();\n        form.setValue('category', '');\n      })\n      .catch((err) => {});\n  };\n\n  const isSelected = selected.length !== 0;\n\n  return (\n    <Staff.Section\n      actions={\n        isSelected && (\n          <>\n            <span className=\"p-1\" onClick={() => setSelected([])} style={{ cursor: 'pointer' }}>\n              [x]\n            </span>\n          </>\n        )\n      }\n      footer={<Pagination {...res.data} component={Staff.NavLink} to />}\n      className=\"supplier-p-list\"\n    >\n      {res.data?.results.length ? (\n        <>\n          {isSelected && (\n            <div className=\"bg-white p-1\" style={{ position: 'sticky', top: 0, zIndex: 1000 }}>\n              <Form context={form}>\n                <div className=\"d-flex\">\n                  {categories && <ProductForm.CategoryField categories={categories} error={form.errors.category} />}\n                </div>\n              </Form>\n\n              <Button className=\"btn-primary\" onClick={updateCategories}>\n                Publier\n              </Button>\n            </div>\n          )}\n\n          {res.data.results.map((item: ProductType) => (\n            <SupplierProductListItem\n              {...{ orderInstance, categories, selected, setSelected, refreshOrder }}\n              instance={StaffProduct(item)}\n              key={item.slug}\n            />\n          ))}\n        </>\n      ) : null}\n    </Staff.Section>\n  );\n}\n\ntype TSPListItemProps = {\n  orderInstance: ReturnType<typeof SupplierOrder>;\n  categories: CategoryChoicesType;\n  instance: ReturnType<typeof StaffProduct>;\n  selected: string[];\n  setSelected: React.Dispatch<React.SetStateAction<string[]>>;\n  refreshOrder: () => Promise<null | undefined>;\n};\n\nconst ItemCheckBox = ({ instance, selected, setSelected }: TSPListItemProps) => (\n  <input\n    type=\"checkbox\"\n    name=\"selected\"\n    className=\"me-2\"\n    checked={selected.includes(instance.slug!)}\n    onChange={({ target }) => {\n      const { checked } = target;\n      if (checked) setSelected([...selected, instance.slug!]);\n      else setSelected((selected) => selected.filter((i) => i !== instance.slug));\n    }}\n  />\n);\n\nconst SupplierProductListItem = (props: TSPListItemProps) => {\n  const [hide, setHide] = React.useState<boolean>(false);\n  const { instance, categories } = props;\n\n  const [open, setOpen] = React.useState(false);\n\n  if (hide) return null;\n\n  const { supplier_item } = instance;\n  const { orderInstance } = props;\n\n  // console.log(instance.data);\n\n  return (\n    <ViewSection\n      border\n      title={\n        <div className=\"d-flex align-items-center\">\n          <ItemCheckBox {...props} />\n\n          <div style={{ width: 48, height: 48 }} onClick={() => setOpen(!open)}>\n            <Staff.Img.Square slug=\"slug\" src=\"src\" {...instance.cover_data} className=\"rounded\" />\n          </div>\n\n          <div className=\"ms-1\">\n            <div className=\"\">{instance.name}</div>\n            <div className=\"text-sm\">\n              {instance.sale_price && (\n                <span className=\"\">\n                  {instance.sale_price} {`<-`}{' '}\n                </span>\n              )}\n              <span className=\"\">{instance.retail_price}</span>\n              <span className=\"text-muted\">\n                {' | '}\n                {supplier_item.cost} {orderInstance.currency}\n              </span>\n              <span className=\"\">\n                {' - '}\n                {instance.category_data?.name || \"' - '\"}\n                <span className=\"text-muted\">\n                  {' | '}\n                  {supplier_item.category}\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n      }\n      actions={\n        <div className=\"d-flex\">\n          <ProductDeleteButton\n            instance={instance}\n            onSuccess={() => {\n              setHide(true);\n              props?.refreshOrder?.();\n            }}\n            className=\"me-2\"\n          />\n          <Staff.Link to={`./${instance.slug}/`} className=\"btn btn-primary-3\">\n            <Icons.PencilSquare />\n          </Staff.Link>\n        </div>\n      }\n      className=\"suppier-p-list-item bg-white\"\n    >\n      {open && (\n        <HorizontalScrollGridLayout className=\"form-tab no-scroll-bar gap-2\">\n          <ProductQuickUpdateForm instance={instance} categories={categories} orderSlug={orderInstance?.slug} />\n\n          <div className=\"\">\n            <div className=\"mb-1\">\n              {`${supplier_item.item_id ? <span className=\"\">Item ID: {supplier_item.item_id}</span> : ''}`}\n            </div>\n            <ul>\n              {supplier_item.category && (\n                <li className=\"mb-1\">\n                  <div className=\"text-sm\">Supplier Category</div>\n                  <div className=\"text-muted\">{supplier_item.category}</div>\n                </li>\n              )}\n              <li className=\"mb-1\">\n                <div className=\"text-sm\">FOB Cost({orderInstance.currency})</div>\n                <div className=\"text-muted\">{supplier_item.cost}</div>\n              </li>\n\n              {supplier_item.url && (\n                <li className=\"\">\n                  <a href={supplier_item.url} target=\"_blank\" className=\"text-underline\" rel=\"noopener noreferrer\">\n                    View supplier product page\n                  </a>\n                </li>\n              )}\n            </ul>\n          </div>\n        </HorizontalScrollGridLayout>\n      )}\n    </ViewSection>\n  );\n};\n","import * as React from 'react';\n\nimport Form, { useForm } from '@miq/formjs';\nimport { useRequest } from '@miq/hookjs';\nimport Staff from '@miq/staffjs';\nimport { Response } from '@miq/utiljs';\nimport { useParams } from 'react-router-dom';\nimport { SupplierOrder } from './models';\nimport { Icons, Loading, ViewSection, ButtonProps } from '@miq/componentjs';\nimport { SupplierOrderForm, SupplierOrderProductAddForm, SupplierOrderUpdateForm } from './forms';\nimport SupplierProductList from './SupplierProductList';\nimport { SupplierOrderType } from '../types';\nimport { SharedDataCtx } from '@miq/contextjs';\nimport { ProductListFilterForm } from '../Product/forms';\n\nconst formFields: { [key: string]: any } = {\n  name: '',\n  order_id: '',\n  items_stage: '',\n  currency: 'USD',\n  supplier: '',\n  is_paid: false,\n  total_cost: '',\n};\n\nconst mapDataToValues = (data: any = {}): SupplierOrderType => {\n  const values: any = {};\n  Object.keys(formFields).forEach((k) => {\n    values[k] = data[`${k}`] || formFields[`${k}`];\n  });\n  return values;\n};\n\nexport default function OrderUpdateView() {\n  const { ordSlug } = useParams();\n\n  const form = useForm<SupplierOrderType>(mapDataToValues());\n\n  const { suppliers, currencies } = React.useContext(SharedDataCtx) as any;\n\n  const { setValues } = form;\n  const {\n    res,\n    loading,\n    setLoading,\n    setRes: setOrder,\n    refresh: refreshOrder,\n  } = useRequest(() => SupplierOrder({ slug: ordSlug }).retrieve(), {\n    refreshDeps: [ordSlug],\n    onSuccess: (res) => setValues(mapDataToValues(res.data)),\n  });\n\n  const r = new Response(res);\n  if (!r.isSuccess) return null;\n\n  const instance = SupplierOrder(r.data);\n\n  if (!instance.supplier || !instance.currency)\n    return (\n      <Staff.View title=\"Modifier une commande\" back=\"/staff/store/orders/\">\n        <Staff.Section className=\"d-flex justify-content-center mt-4\">\n          <SupplierOrderUpdateForm\n            context={form}\n            instance={instance}\n            fields={['name', 'currency', 'supplier']}\n            onSuccess={(res) => setOrder(res)}\n          >\n            <SupplierOrderForm.NameField required label=\"Nom\" error={form.errors.currency} />\n            <SupplierOrderForm.SupplierField\n              required\n              label=\"Supplier\"\n              suppliers={suppliers}\n              error={form.errors.supplier}\n            />\n            <SupplierOrderForm.CurrencyField\n              required\n              label=\"Supplier Currency\"\n              currencies={currencies}\n              error={form.errors.currency}\n            />\n\n            <Form.Submit value=\"Sauvegarder\" className=\"btn-primary-3\" />\n          </SupplierOrderUpdateForm>\n        </Staff.Section>\n      </Staff.View>\n    );\n\n  return (\n    <Staff.View\n      title={form.values.name}\n      back=\"/staff/store/orders/\"\n      actions={\n        <Staff.NavLink to=\"settings/\">\n          <Icons.Gear />\n        </Staff.NavLink>\n      }\n    >\n      <div className=\"d-flex flex-column flex-xl-row\">\n        <div className=\"w-100\">\n          <Staff.Section header={<Header {...{ instance, setLoading, setOrder, categories: r?.data?.categories }} />}>\n            {loading ? (\n              <Loading icon />\n            ) : (\n              <SupplierProductList\n                orderInstance={instance}\n                categories={r?.data?.categories}\n                refreshOrder={refreshOrder}\n              />\n            )}\n          </Staff.Section>\n        </div>\n\n        <div className=\"min-w-35 ps-md-1\">\n          <DetailDisplaySection {...{ loading, instance }} />\n        </div>\n      </div>\n    </Staff.View>\n  );\n}\n\nconst DetailDisplaySection = ({\n  loading,\n  instance,\n}: {\n  loading: boolean;\n  instance: ReturnType<typeof SupplierOrder>;\n}) => {\n  console.log(instance.by_categories);\n\n  return (\n    <Staff.Section\n      border\n      className=\"bg-white mb-1\"\n      title={`Order Details${!loading && ` (${instance.products?.length})`}`}\n      text={`Supplier: ${instance.supplier} | Currency: ${instance.currency}`}\n    >\n      <div className=\"mb-2\">\n        Categories\n        <ul>\n          {instance.by_categories\n            .filter((i) => i?.category__name)\n            .map(({ category__name: name, ...i }) => (\n              <DetailDisplaySection.Li title={name}>: {i.count}</DetailDisplaySection.Li>\n            ))}\n        </ul>\n      </div>\n\n      <ul className=\"mb-3\">\n        <DetailDisplaySection.Li title=\"Average cost: \">\n          {instance.avg_cost} {instance.currency}\n        </DetailDisplaySection.Li>\n        <DetailDisplaySection.Li title=\"Total cost: \">\n          {`${instance.total_cost || instance?.items_cost?.amountWithSymbol} ${instance.currency}`}\n        </DetailDisplaySection.Li>\n        <DetailDisplaySection.Li title=\"Est. revenue: \">{instance?.items_revenue?.amount}</DetailDisplaySection.Li>\n      </ul>\n    </Staff.Section>\n  );\n};\n\nDetailDisplaySection.Li = ({ children, title }: { children: React.ReactNode; title: string }) => (\n  <li>\n    <span className=\"mr-2 text-muted\">{title}</span>\n    {children}\n  </li>\n);\n\nconst Header = ({ instance, setLoading, setOrder, categories }: any) => {\n  const [tab, setTab] = React.useState<'filter' | 'add'>('filter');\n\n  const render = () => {\n    switch (tab) {\n      case 'add':\n        return (\n          <SupplierOrderProductAddForm\n            orderInstance={instance}\n            onSuccess={(res) => {\n              setLoading();\n              setOrder(res);\n            }}\n          />\n        );\n\n      default:\n        return <ProductListFilterForm categories={categories} />;\n    }\n  };\n\n  return (\n    <Staff.Section\n      border\n      title={\n        <div>\n          <HeaderButton tab={tab} onClick={() => setTab('filter')} active={tab === 'filter'}>\n            <Icons.Funnel />\n          </HeaderButton>\n        </div>\n      }\n      actions={\n        <HeaderButton tab={tab} onClick={() => setTab('add')} active={tab === 'add'}>\n          <Icons.Plus />\n        </HeaderButton>\n      }\n      className=\"bg-white mb-1\"\n    >\n      <div className=\"\" style={{ top: 0, position: 'sticky' }}>\n        {render()}\n      </div>\n    </Staff.Section>\n  );\n};\nconst HeaderButton = ({\n  children,\n  tab,\n  active,\n  ...props\n}: ButtonProps & { tab: string; children: React.ReactNode; active: boolean }) => {\n  return (\n    <Staff.Button\n      className=\"btn-primary-3\"\n      style={{ border: active ? '1px solid var(--blue-600)' : undefined }}\n      {...props}\n    >\n      {children}\n    </Staff.Button>\n  );\n};\n\nexport const OrderSettingUpdateView = () => {\n  const { ordSlug } = useParams();\n  const form = useForm<SupplierOrderType>(mapDataToValues());\n\n  const { setValues } = form;\n  const {\n    res,\n    setRes: setOrder,\n    refresh: refreshOrder,\n  } = useRequest(() => SupplierOrder({ slug: ordSlug }).retrieve(), {\n    refreshDeps: [ordSlug],\n    onSuccess: (res) => setValues(mapDataToValues(res.data)),\n  });\n\n  const r = new Response(res);\n  if (!r.isSuccess) return null;\n\n  const instance = SupplierOrder(r.data);\n\n  return (\n    <Staff.View title={`${instance.name} Order Update`} back={`/staff/store/orders/${ordSlug}/`}>\n      <SupplierOrderUpdateForm\n        {...{ instance, context: form, fields: ['is_paid', 'order_id', 'total_cost'] }}\n        onSuccess={(res) => setOrder(res)}\n      >\n        <ViewSection border footer={<Form.Submit value=\"Sauvegarder\" className=\"btn-primary-3\" />}>\n          <SupplierOrderForm.IsPaidField error={form.errors.is_paid} />\n          {form.values.is_paid && (\n            <>\n              <SupplierOrderForm.OrderIDField required={form.values.is_paid} error={form.errors.order_id} />\n              <SupplierOrderForm.TotalCostField required={form.values.is_paid} error={form.errors.total_cost} />\n            </>\n          )}\n        </ViewSection>\n      </SupplierOrderUpdateForm>\n    </Staff.View>\n  );\n};\n","import * as React from 'react';\n\nimport { Button, ConfirmButton, Icons } from '@miq/componentjs';\nimport { IFormUpdateProps } from '@miq/formjs';\nimport { getCN } from '@miq/utiljs';\nimport { TSupplierOrderInstance } from './models';\n\ntype TSupplierOrderDeleteButtonProps = Omit<IFormUpdateProps<TSupplierOrderInstance>, 'context'> & {\n  label?: string;\n};\n\nexport const SupplierOrderDeleteButton: React.FC<TSupplierOrderDeleteButtonProps> = (props) => {\n  const { instance, onSuccess, onError, label } = props;\n\n  const handleDelete = (setOpen: any) => {\n    instance\n      .destroy()\n      .then((res) => {\n        setOpen?.(false);\n        onSuccess?.(res);\n        // emitter.destroy({ slug: instance.slug });\n      })\n      .catch((err) => onError?.(err));\n  };\n\n  return (\n    <ConfirmButton\n      renderHeader={() => <div>Supprimer '{instance.name}'</div>}\n      renderFooter={({ setOpen }) => (\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <Button onClick={() => setOpen(false)}>Annuler</Button>\n\n          <Button onClick={() => handleDelete(setOpen)} className=\"btn-danger\">\n            Supprimer\n          </Button>\n        </div>\n      )}\n      render={() => <div className=\"p-3\">Are you sure you want to delete this</div>}\n      className={getCN(['s-order-delete-button btn-danger-3', props.className])}\n    >\n      <Icons.Trash />\n      {label && <span className=\"label\">{label}</span>}\n    </ConfirmButton>\n  );\n};\n","import * as React from 'react';\n\nimport { useRequest } from '@miq/hookjs';\nimport Staff from '@miq/staffjs';\nimport { getCN, Response } from '@miq/utiljs';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { SupplierOrder } from './models';\nimport { Pagination, Table } from '@miq/componentjs';\nimport { SupplierOrderType } from '../types';\nimport { SupplierOrderDeleteButton } from './components';\n\nexport default function SupplierOrderIndexView() {\n  const navigate = useNavigate();\n  const [params] = useSearchParams();\n  const page = params.get('page');\n\n  const { res, removeItem } = useRequest(() => SupplierOrder().list({ params: { page } }), { refreshDeps: [page] });\n\n  const r = new Response(res);\n  if (!r.isSuccess) return null;\n\n  return (\n    <Staff.View\n      title=\"Supplier Orders\"\n      back=\"/staff/store/\"\n      actions={\n        <Staff.Button\n          onClick={() => {\n            SupplierOrder()\n              .create({})\n              .then(({ data }: any) => {\n                return navigate(`${data.slug}/`);\n              })\n              .catch((err: any) => {\n                // console.log(err);\n              });\n          }}\n          className=\"btn-primary-3\"\n          requiredPerms={['store.add_supplierorder']}\n          title={'Add a new order'}\n        >\n          Add order\n        </Staff.Button>\n      }\n      requiredPerms={['store.view_supplierorder']}\n    >\n      <Staff.Section footer={<Pagination {...r.data} component={Staff.Link} to />}>\n        <Table\n          border\n          items={r.items}\n          header={\n            <>\n              <Table.Th />\n              <Table.Th>Items</Table.Th>\n              <Table.Th>Supplier</Table.Th>\n\n              <Table.Th>Total Cost</Table.Th>\n              <Table.Th>Est. Revenue</Table.Th>\n              <Table.Th />\n            </>\n          }\n          renderItem={(item: SupplierOrderType) => {\n            const { name = 'New order', slug, is_paid, items, items_revenue, supplier } = item;\n\n            return (\n              <Table.Tr key={slug}>\n                <Table.Td>\n                  <Staff.Link to={`${slug}/`} className=\"\">\n                    <div className={getCN(['fw-bold text-ellipsis', is_paid && 'text-line-through'])}>{name}</div>\n                  </Staff.Link>\n                  <span className=\"text-sm\">{item.avg_cost}</span>\n                </Table.Td>\n\n                <Table.Td>{items?.length}</Table.Td>\n\n                <Table.Td>{supplier}</Table.Td>\n\n                <Table.Td>\n                  <Price {...item.total_cost_data} />\n                </Table.Td>\n                <Table.Td>\n                  <Price {...items_revenue} />\n                </Table.Td>\n\n                <Table.Td>\n                  <SupplierOrderDeleteButton instance={SupplierOrder(item)} onSuccess={() => removeItem?.({ slug })} />\n                </Table.Td>\n              </Table.Tr>\n            );\n          }}\n          className=\"w-100\"\n        />\n      </Staff.Section>\n    </Staff.View>\n  );\n}\n\nconst Price = (props: any) => {\n  const { amountWithSymbol } = props;\n  return <div className=\"miq-price\">{amountWithSymbol}</div>;\n};\n\nexport * from './models';\n\n// <div className=\"miq-container\">\n","import { StaffModel, StaffService } from '@miq/staffjs';\nimport { SupplierOrderType } from '../types';\n\nconst timeout = 10000;\n\nclass SupplierOrderService extends StaffService<SupplierOrderType> {\n  updateCategories(category: string, slugs: string[]) {\n    return this.post(`${this._path}batch/`, { slugs, category }, { timeout });\n  }\n\n  postFnova(url: string) {\n    return this.post(`${this._path}fnova/`, { url }, { timeout });\n  }\n  postPlt(url: string) {\n    return this.post(`${this._path}plt/`, { url }, { timeout });\n  }\n\n  postShein(url: string) {\n    return this.post(`${this._path}shein/`, { url }, { timeout });\n  }\n\n  destroyItem(prodSlug: string) {\n    return this.delete(`${this._path}item/${prodSlug}/`, { timeout });\n  }\n\n  updateItem(prodSlug: string, values: Record<string, any>) {\n    return this.post(`${this._path}item/${prodSlug}/`, { ...values }, { timeout });\n  }\n}\n\nexport const SupplierOrder = (data: SupplierOrderType = {}) =>\n  StaffModel<SupplierOrderType, SupplierOrderService>(data, 'supplierorders', SupplierOrderService);\n\nexport type TSupplierOrderInstance = ReturnType<typeof SupplierOrder>;\n\nexport type SupplierType = {\n  slug?: string;\n  name_choices: any;\n  created: any;\n  updated: any;\n};\n","import React from 'react';\nimport { Button, ButtonProps, Icons, ToastEmitter } from '@miq/componentjs';\n\n// https://www.bennadel.com/blog/3961-having-fun-with-the-horizontal-usage-of-position-sticky-in-angular-11-0-5.htm\n\nimport './component.scss';\n\nimport { StaffCategory } from './Category';\nimport { StaffProduct } from './Product';\nimport { PriceDataType, ProductType } from './types';\nimport { getCN } from '@miq/utiljs';\n\ntype InstanceType = ReturnType<typeof StaffProduct> | ReturnType<typeof StaffCategory>;\n\ninterface UpdateButtonProps extends ButtonProps {\n  instance: InstanceType;\n  onSuccess: (r: any) => void;\n}\n\nexport const PublishButton: React.FC<UpdateButtonProps> = (props) => {\n  const { instance, onClick, onSuccess, onError, ...rest } = props;\n\n  const handleClick = () => {\n    if (instance.is_published) return null;\n    return instance\n      .publish()\n      .then((res: any) => onSuccess?.(res))\n      .catch((err: any) => onError?.(err));\n  };\n\n  return <Button onClick={handleClick} className=\"btn-primary btn-md\" {...rest} disabled={instance.is_published} />;\n};\n\nexport const UnPublishButton: React.FC<UpdateButtonProps> = (props) => {\n  const { instance, onClick, onSuccess, onError, ...rest } = props;\n\n  const handleClick = () => {\n    if (!instance.is_published) return null;\n    return instance\n      .unpublish()\n      .then((res: any) => onSuccess?.(res))\n      .catch((err: any) => onError?.(err));\n  };\n\n  return <Button className=\"btn-danger btn-md\" onClick={handleClick} {...rest} disabled={!instance.is_published} />;\n};\n\n//#region ================================== COMPONENTS =============================================================\n\nexport type PriceDisplayProps = PriceDataType & {\n  className?: string;\n  sale?: string | boolean;\n  lineThrough?: string | boolean;\n};\n\nexport const PriceDisplay = ({ amountWithSymbol, className, sale, lineThrough }: PriceDisplayProps) => (\n  <div className={getCN(['miq-price-display', sale && 'text-danger', lineThrough && 'text-line-through', className])}>\n    {amountWithSymbol}\n  </div>\n);\n\nexport const ProductPriceDisplay = ({\n  retail_price_data,\n  is_on_sale,\n  sale_price_data,\n  ...props\n}: ProductType & { className?: string; style?: any }) => {\n  if (!retail_price_data) return null;\n\n  const isSale = is_on_sale && sale_price_data?.amountWithSymbol != null;\n\n  return (\n    <div className={getCN(['miq-product-price-display', props.className])} style={props.style}>\n      {isSale && <PriceDisplay sale {...sale_price_data} className=\"miq-sale-price me-1\" />}\n      <PriceDisplay {...retail_price_data} lineThrough={isSale} className=\"miq-retail-price\" />\n    </div>\n  );\n};\n\nexport const ProductSupplierData = (props: { instance: InstanceType }) => {\n  // const { instance } = props;\n\n  return (\n    <div className=\"supplier-data\">\n      <div className=\"item\">\n        <span className=\"title\">Supplier</span>\n        {/* <span className=\"value\">{instance.supplier_name}</span> */}\n      </div>\n      <div className=\"item\">\n        <span className=\"title\">Item ID</span>\n        {/* <span className=\"value\">{instance.supplier_item_id}</span> */}\n      </div>\n      <div className=\"item\">\n        <span className=\"title\">Category</span>\n        {/* <span className=\"value\">{instance.supplier_item_category}</span> */}\n      </div>\n      <div className=\"item\">\n        <span className=\"title\"> Item cost</span>\n        <span className=\"value\">{/* {instance.supplier_item_cost} ({instance.supplier_item_cost_currency}) */}</span>\n      </div>\n    </div>\n  );\n};\n\nexport const PublishedIcon = ({ show, ...props }: React.ComponentPropsWithoutRef<'svg'> & { show?: boolean }) =>\n  show ? <Icons.CheckCircle {...props} className=\"published-icon\" /> : null;\n\n//#endregion ===============================================================================================\n\nexport const toast = new ToastEmitter();\n\n{\n  /* <Toaster instance={t}></Toaster> */\n}\n// <button\n//   onClick={() => {\n//     t.info({ message: 'Hello', autoClose: true });\n//   }}\n// >\n//   Click me\n// </button>\n","import * as React from 'react';\nimport EventEmitter from 'events';\n\ninterface IEventStateSyncProps {\n  children?: React.ReactNode;\n}\n\nclass CrudEmitter extends EventEmitter {\n  prefix?: string;\n\n  constructor(...args: any) {\n    const { prefix = '', ...rest } = args;\n    super(rest);\n\n    this.prefix = prefix;\n  }\n\n  create(payload: any) {\n    this.emit(`${this.prefix}-create`, payload);\n  }\n  retrieve(payload: any) {\n    this.emit(`${this.prefix}-retrieve`, payload);\n  }\n  list(payload: any) {\n    this.emit(`${this.prefix}-list`, payload);\n  }\n  update(payload: any) {\n    this.emit(`${this.prefix}-update`, payload);\n  }\n  destroy(payload: any) {\n    this.emit(`${this.prefix}-destroy`, payload);\n  }\n}\n\nexport const emitter = new CrudEmitter();\n\ntype FN<T> = T & { [key: string]: any; slug: string };\n\ntype CallBacksType<T = void> = {\n  onList?: () => void;\n  onRetrieve?: () => void;\n  onCreate?: (payload: FN<T>) => void;\n  onUpdate?: (payload: FN<T>) => void;\n  onDestroy?: (payload: FN<T>) => void;\n};\n\nexport function useCrudEmitter(callbacks: CallBacksType, match?: (p: any) => boolean) {\n  React.useEffect(() => {\n    emitter.on('-create', (payload: any) => {\n      if (match && !match(payload)) return;\n\n      callbacks.onCreate?.(payload);\n    });\n\n    emitter.on('-update', (payload: any) => {\n      if (match && !match(payload)) return;\n\n      callbacks.onUpdate?.(payload);\n    });\n\n    emitter.on('-destroy', (payload: any) => {\n      if (match && !match(payload)) return;\n\n      callbacks.onDestroy?.(payload);\n    });\n  }, []);\n}\n"],"names":["withFormTextInput","Component","args","React","props","ref","ctx","FormCtx","isRequired","name","error","rest","errors","className","getCN","value","values","onChange","e","handleChange","input","FormTextInput","FormTextArea","SearchInput","id","inputClassName","placeholder","minLength","maxLength","type","FormPhoneInput","pattern","onKeyPress","test","key","preventDefault","FormTextAreaX","clearFocus","mirror","style","dangerouslySetInnerHTML","__html","FormSelectInput","children","nullValue","label","Option","FormCheckboxInput","toggleCheck","checked","createContext","FormProvider","Provider","useForm","defaultValues","useState","setValues","setErrors","context","useMemo","setValue","target","Object","keys","includes","setError","handleError","err","log","response","status","IS_DEV","console","newData","data","forEach","Array","isArray","length","message","hasErrors","join","FormLabel","Comp","FormError","NameField","text","Field","DescriptionField","MetaTitleField","required","MetaSlugField","MetaDescriptionField","checkbox","hasLabel","Form","Error","Comps","Label","Submit","Text","Inputs","TextArea","TextAreaX","Phone","Checkbox","Select","ACCEPT","StaffImgAddButton","uploadRef","instance","StaffImg","multiple","accept","func","onUpload","onSuccess","onSuccessMulti","onError","onErrorMulti","onClick","current","click","files","promises","from","splice","file","i","push","create","catch","Promise","all","then","responses","res","StaffImgUpdateButton","field","update","undefined","StaffImgDeleteButton","destroy","StaffImgViewSelect","GeneralSettingUpdateView","IndexSettingUpdateView","PagesSettingUpdateView","SettingLayout","path","element","title","back","requiredPerms","SettingLink","to","AccountStaffLayout","ProfileUpdateView","SharedDataCtx","user","updateUser","apps","employee","formInitData","first_name","last_name","gender","position","form","StaffUser","onSubmit","footer","email","SidebarLink","href","addForwardSlash","icon","fallback","viewProps","isLoaded","site","is_staff","links","sidebarCN","mainCN","mobileNavCN","sidebarLinks","filter","mobileLinks","mobile","routes","prefix","map","v","role","withHasPerms","perms","hasPerms","perm","footerCN","StaffNavLink","NavLink","StaffLink","Link","StaffButton","Button","StaffSection","ViewSection","Month","dt","Date","showWeekDay","short","monthWeeks","getMonthWeeks","WeekDays","w","Week","uuid","endDate","renderDay","weekDates","getWeekDates","d","Day","render","WeekDay","DateNum","wd","WEEKDAYS","find","index","getDay","long","isToday","getDate","DatePickerDay","activeDt","isActive","isSameDay","Calendar","currentDate","assign","DatePicker","onDateClick","getMonthLastDt","YearNum","getFullYear","PrevWeekButton","subDays","NextWeekButton","addDays","Staff","Layout","View","StaffView","Section","Img","_superPropBase","object","property","prototype","hasOwnProperty","call","getPrototypeOf","_get","Reflect","get","receiver","base","desc","getOwnPropertyDescriptor","arguments","apply","this","StaffUserService","StaffService","StaffModel","StaffImgService","url","alt_text","src","config","reject","fd","FormData","append","headers","HorizontalGallery","VerticalGallery","Mobile","Thumb","Square","Picture","Image","axios","API_ENDPOINT","DOMAIN","process","API","baseURL","timeout","withCredentials","endpoint","s","CrudService","TargetServiceClass","SupplierName","ShopStaffIndexView","SupplierOrderIndexView","SupplierOrderProductUpdateView","SupplierOrderUpdateView","CategoryIndexView","CategoryUpdateView","ProductIndexView","ShopSettingUpdateView","ShopStaffRoutes","shopy_settings","OrderSettingUpdateView","FinanceRoutes","StaffLayout","ProductImagesAddButton","productInstance","resArray","imgsArray","slug","images","ProductDeleteButton","renderHeader","renderFooter","setOpen","emitter","handleDelete","ProductCardItem","StaffProduct","name_truncated","show","is_published","cover_data","export","category_data","ProductCardList","items","itempath","useSearchParams","params","item","ProductQuickUpdateForm","categories","orderSlug","category","description","retail_price","is_pre_sale","is_pre_sale_text","fields","ProductUpdateForm","ProductForm","CategoryField","RetailPriceField","PresaleCheckboxField","PresaleTextField","SupplierOrder","destroyItem","isR","onWillSubmit","ProductCreateForm","cat","SalePriceField","min","step","OnSaleCheckboxField","OosCheckboxField","StageSelectField","stages","stage","ProductListFilterForm","setParams","q","setQ","action","method","set","delete","Category","Published","Sale","PreSale","QuerySelectField","emptyLabel","QueryToggleField","inputId","Boolean","htmlFor","StaffProductService","patch","_path","post","sizeSlug","attrSlug","dt_published","useProductListRequest","page","published","presale","sale","searchParams","supplier_order_slug","useRequest","list","refreshDeps","SupplierOrderUpdateForm","SupplierOrderForm","OrderIDField","IsPaidField","TotalCostField","CurrencyField","currencies","curr","SupplierField","suppliers","supplier","SupplierOrderProductAddForm","orderInstance","toLowerCase","supplier_name","isLoading","setLoading","handleSuccess","urlErrMsg","postFnova","postPlt","postShein","autoFocus","disabled","SupplierProductList","refreshOrder","ordSlug","useParams","results","refresh","selected","setSelected","isSelected","actions","cursor","component","top","zIndex","updateCategories","r","SupplierProductListItem","ItemCheckBox","hide","setHide","open","supplier_item","border","width","height","sale_price","cost","currency","item_id","rel","formFields","order_id","items_stage","is_paid","total_cost","mapDataToValues","k","OrderUpdateView","retrieve","loading","setOrder","setRes","Response","isSuccess","header","Header","DetailDisplaySection","by_categories","products","category__name","Li","count","avg_cost","items_cost","amountWithSymbol","items_revenue","amount","tab","setTab","HeaderButton","active","SupplierOrderDeleteButton","navigate","useNavigate","removeItem","renderItem","Price","total_cost_data","SupplierOrderService","slugs","prodSlug","PublishButton","publish","UnPublishButton","unpublish","PriceDisplay","lineThrough","ProductPriceDisplay","retail_price_data","is_on_sale","sale_price_data","isSale","PublishedIcon","ToastEmitter","CrudEmitter","payload","emit","EventEmitter","useCrudEmitter","callbacks","match","on","onCreate","onUpdate","onDestroy"],"sourceRoot":""}