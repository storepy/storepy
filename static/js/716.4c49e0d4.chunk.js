"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[716],{1672:function(e,t,a){a.d(t,{gm:function(){return u},pE:function(){return o}});var n=a(1135),r=a(7411),s=a(2518),i=a(2485),c=a(4636),l=function(e){(0,s.Z)(a,e);var t=(0,i.Z)(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,r.Z)(a,[{key:"updatePages",value:function(e){return this.patch("".concat(this._path,"pages/"),e)}},{key:"updateSite",value:function(e){return this.patch("".concat(this._path,"site/"),e)}}]),a}(c.x5);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.eR)(e,"settings/",l)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.eR)(e,"index/")}},8716:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var n=a(8519),r=a(6009),s=a(8312),i=a(2411),c=a(1408),l=a(3896),o=a(9110),u=a(6676),d=a(9002),m=a(3308),p=a(653),x=a(5525),h=a(1672),b=a(8136),_=["children","back","params"],j=["settingSlug","instance","fields"],f=["onUpdate"],w=i.lazy((function(){return a.e(345).then(a.bind(a,6345))})),v=["contact_number","contact_number_title","contact_number_display","contact_email"],Z=["whatsapp_number","whatsapp_link","whatsapp_link_title"],g=["ga_tracking","fb_pixel"],y=["fb_app_id","fb_app_secret"],k=[].concat(v,Z,g,y),P=function(e){var t=e.children,a=e.back,n=e.params,r=(0,s.Z)(e,_),i=null===n||void 0===n?void 0:n.get("tab");return(0,b.jsxs)(p.Z,{title:"Site General Settings",text:null===r||void 0===r?void 0:r.text,back:a,actions:(0,b.jsx)(x.Aq,{to:"./?tab=privacy",children:(0,b.jsx)(u.PJ.XV,{})}),className:"site-general-setting-view",children:[(0,b.jsxs)("div",{className:"view-menu",children:[(0,b.jsx)(x.xx,{to:"./",className:(0,l.UT)([!i&&"active"]),children:"Site Details"}),(0,b.jsx)(x.xx,{to:"./?tab=contact",className:(0,l.UT)(["contact"===i&&"active"]),children:"Contact"}),(0,b.jsx)(x.xx,{to:"./?tab=analytics",className:(0,l.UT)(["analytics"===i&&"active"]),children:"Analytics"}),(0,b.jsx)(x.xx,{to:"./?tab=social",className:(0,l.UT)(["social"===i&&"active"]),children:"Social"}),(0,b.jsx)(x.xx,{to:"./?tab=apps",className:(0,l.UT)(["apps"===i&&"active"]),children:"Apps"})]}),(0,b.jsx)("div",{className:"view-content",children:t})]})};function N(){var e=(0,c.lr)(),t=(0,r.Z)(e,1)[0],a=i.useContext(d.h2).site,s=a.settings,u=(0,m.cI)(E({})),p=(0,o.QT)((function(){return(0,h.pE)({slug:s}).retrieve()}),{refreshDeps:[s],onSuccess:function(e){var t=e.data;return u.setValues(E(t))}}),_=p.res,j=p.updateData,f=new l.HM(_);if(!f.isSuccess)return null;var k=(0,h.pE)(f.data),N={settingSlug:s,instance:k,context:u,res:_,onUpdate:j,site:a};switch(t.get("tab")){case"privacy":return(0,b.jsx)(P,{back:"./",params:t,children:(0,b.jsx)(w,(0,n.Z)({},N))});case"contact":return(0,b.jsxs)(P,{back:"./",params:t,children:[(0,b.jsx)(x.wX,{text:"What's the best way to contact you?",children:(0,b.jsx)(S,(0,n.Z)((0,n.Z)({},N),{},{fields:v}))}),(0,b.jsx)(x.wX,{title:"Whatsapp",text:"A whatsapp icon will be added to your site.",children:(0,b.jsx)(S,(0,n.Z)((0,n.Z)({},N),{},{fields:Z}))})]});case"analytics":return(0,b.jsx)(P,{back:"./",params:t,children:(0,b.jsx)(x.wX,{text:"Set up third-party analytics.",children:(0,b.jsx)(S,(0,n.Z)((0,n.Z)({},N),{},{fields:g}))})});case"social":return(0,b.jsx)(P,{back:"./",params:t,children:(0,b.jsx)(x.wX,{text:"Display Your social media accounts. Comin Soon ..."})});case"apps":return(0,b.jsx)(P,{back:"./",params:t,children:(0,b.jsx)(x.wX,{title:"Facebook",children:(0,b.jsx)(S,(0,n.Z)((0,n.Z)({},N),{},{fields:y}))})});default:return(0,b.jsx)(P,{back:"../",params:t,children:(0,b.jsx)("div",{className:"d-grid grid-md-5 gap-2",children:(0,b.jsx)(x.wX,{className:"span-md-3",children:(0,b.jsx)(F,(0,n.Z)({},N))})})})}}var S=function(e){e.settingSlug;var t=e.instance,a=e.fields,r=(0,s.Z)(e,j),i=r.context,c=r.onUpdate,l=(0,s.Z)(r,f);return(0,b.jsxs)(m.ZP,(0,n.Z)((0,n.Z)({},l),{},{onSubmit:function(e){e.preventDefault();var n={};return a.forEach((function(e){n[e]=i.values[e]})),t.update(n).then((function(e){var t=e.data;null===c||void 0===c||c(t)})).catch((function(e){i.handleError(e)}))},children:[a.map((function(e,t){return T(e,i,t)})),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)(m.ZP.Submit,{value:"Save",className:"btn-md btn-primary-3 min-w-25"})})]}))},T=function(e,t,a){switch(e){case"contact_number":return(0,b.jsx)(m.ZP.Field,{label:"Phone number",text:"Write your (business) contact number without country extension.",error:t.errors.contact_number,children:(0,b.jsx)(m.kq.EQ,{name:"contact_number",className:"w-100 w-md-50"})},a);case"contact_number_title":return(0,b.jsx)(m.ZP.Field,{label:"Phone number link text",text:"Describe your phone number link (SEO).",error:t.errors.contact_number_title,children:(0,b.jsx)(m.ZP.Text,{name:"contact_number_title",className:"w-100 w-md-50",maxLength:99})},a);case"contact_number_display":return(0,b.jsx)(m.ZP.Field,{label:"Phone number display",text:"Write a call to action for your contact number.",error:t.errors.contact_number_display,children:(0,b.jsx)(m.ZP.Text,{name:"contact_number_display",placeholder:"Call us now",maxLength:99,className:"w-100 w-md-50"})},a);case"contact_email":return(0,b.jsx)(m.ZP.Field,{label:"Email",text:"Write your (business) contact email.",error:t.errors.contact_email,children:(0,b.jsx)(m.ZP.Text,{name:"contact_email",type:"email",className:"w-100 w-md-50",maxLength:99})},a);case"whatsapp_number":return(0,b.jsx)(m.ZP.Field,{label:"Whatsapp number",text:"Write your international whatsapp number.(229 ...)",error:t.errors.whatsapp_number,children:(0,b.jsx)(m.ZP.Phone,{name:"whatsapp_number",className:"w-100 w-md-50"})},a);case"whatsapp_link":return(0,b.jsx)(m.ZP.Field,{label:"Whatsapp link",text:"Write your whatsapp link.",children:(0,b.jsx)(m.ZP.Text,{name:"whatsapp_link",type:"url",maxLength:200,className:"w-100 w-md-50"})},a);case"whatsapp_link_title":return(0,b.jsx)(m.ZP.Field,{label:"Whatsapp link text",text:"Describe your whatsapp link.",error:t.errors.whatsapp_link_title,children:(0,b.jsx)(m.ZP.Text,{name:"whatsapp_link_title",className:"w-100 w-md-50",maxLength:99})},a);case"ga_tracking":return(0,b.jsx)(m.ZP.Field,{label:"Google Analytics Tracking Number",children:(0,b.jsx)(m.ZP.Text,{name:"ga_tracking",className:"w-100 w-md-50",placeholder:"G-"})},a);case"fb_pixel":return(0,b.jsx)(m.ZP.Field,{label:"Facebook Pixel",error:t.errors.fb_pixel,children:(0,b.jsx)(m.ZP.Text,{name:"fb_pixel",className:"w-100 w-md-50"})},a);case"fb_app_id":return(0,b.jsx)(m.ZP.Field,{label:"Facebook App ID",error:t.errors.fb_app_id,children:(0,b.jsx)(m.ZP.Text,{name:"fb_app_id",className:"w-100 w-md-50"})},a);case"fb_app_secret":return(0,b.jsx)(m.ZP.Field,{label:"Facebook App Secret",error:t.errors.fb_app_secret,children:(0,b.jsx)(m.ZP.Text,{name:"fb_app_secret",className:"w-100 w-md-50"})},a);default:return null}},F=function(e){var t=i.useContext(d.h2),a=t.site,n=(0,m.cI)({name:a.name,domain:a.domain}),r=e.instance,s=!Boolean(a.settings);return(0,b.jsxs)(m.ZP,{context:n,onSubmit:function(e){return e.preventDefault(),r.updateSite({name:n.values.name,domain:n.values.domain}).then((function(e){t.updateSite(e.data.site)})).catch((function(e){return n.handleError(e)}))},children:[(0,b.jsx)(m.ZP.Field,{label:"Site name",text:"Give a name to your site. Keep it short and clean.(65 Characters max.)",error:n.errors.name,children:(0,b.jsx)(m.ZP.Text,{required:!0,name:"name",placeholder:"example",maxLength:65,minLength:2,disabled:s,className:"w-100 w-md-50"})}),(0,b.jsx)(m.ZP.Field,{label:"Site domain",text:"Enter your domain name url. Include the http(s) part.",error:n.errors.domain,children:(0,b.jsx)(m.ZP.Text,{required:!0,type:"url",name:"domain",maxLength:99,placeholder:"http(s)://example.com",minLength:3,disabled:s})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(m.ZP.Submit,{value:"Save",className:"btn-md btn-primary-3 min-w-25"})})]})},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return k.forEach((function(a){t[a]=e[a]||""})),t}}}]);
//# sourceMappingURL=716.4c49e0d4.chunk.js.map