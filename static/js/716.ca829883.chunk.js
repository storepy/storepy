"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[716],{1672:function(e,t,a){a.d(t,{gm:function(){return u},pE:function(){return o}});var n=a(1135),r=a(7411),i=a(2518),s=a(2485),l=a(4636),c=function(e){(0,i.Z)(a,e);var t=(0,s.Z)(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,r.Z)(a,[{key:"updatePages",value:function(e){return this.patch("".concat(this._path,"pages/"),e)}},{key:"updateSite",value:function(e){return this.patch("".concat(this._path,"site/"),e)}}]),a}(l.x5);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.eR)(e,"settings/",c)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.eR)(e,"index/")}},8716:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var n=a(8312),r=a(8519),i=a(6009),s=a(2411),l=a(1408),c=a(3896),o=a(2134),u=a(2379),d=a(9002),m=a(3308),p=a(653),h=a(5525),x=a(1672),b=a(8136),_=["settingSlug","instance","fields"],f=["onUpdate"],w=s.lazy((function(){return a.e(345).then(a.bind(a,6345))})),j=["contact_number","contact_number_title","contact_number_display","contact_email"],Z=["whatsapp_number","whatsapp_link","whatsapp_link_title"],g=["ga_tracking","fb_pixel"],v=["fb_app_id","fb_app_secret"],y=[].concat(j,Z,g,v),P=function(e){var t=e.children,a=e.back;return(0,b.jsx)(p.Z,{title:"Site General Settings",back:a,actions:(0,b.jsx)(h.Aq,{to:"./?tab=privacy",children:(0,b.jsx)(u.PJ.XV,{})}),children:t})};function k(){var e=(0,l.lr)(),t=(0,i.Z)(e,1)[0],a=s.useContext(d.h2).site,n=a.settings,u=(0,m.cI)(T({})),p=(0,o.QT)((function(){return(0,x.pE)({slug:n}).retrieve()}),{refreshDeps:[n],onSuccess:function(e){var t=e.data;return u.setValues(T(t))}}),_=p.res,f=p.updateData,y=new c.HM(_);if(!y.isSuccess)return null;var k=(0,x.pE)(y.data),N={settingSlug:n,instance:k,context:u,res:_,onUpdate:f,site:a};return"privacy"===t.get("tab")?(0,b.jsx)(P,{back:"./",children:(0,b.jsx)(w,(0,r.Z)({},N))}):(0,b.jsxs)(P,{back:"../",children:[(0,b.jsx)("div",{className:"d-grid grid-md-5 gap-2",children:(0,b.jsx)(h.wX,{title:"Site Details",className:"span-md-3",children:(0,b.jsx)(F,(0,r.Z)({},N))})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.wX,{title:"Contact",text:"What's the best way to contact you?",children:(0,b.jsx)(S,(0,r.Z)((0,r.Z)({},N),{},{fields:j}))}),(0,b.jsx)(h.wX,{title:"Whatsapp",text:"A whatsapp icon will be added to your site.",children:(0,b.jsx)(S,(0,r.Z)((0,r.Z)({},N),{},{fields:Z}))}),(0,b.jsx)(h.wX,{title:"Analytics",text:"Set up third-party analytics.",children:(0,b.jsx)(S,(0,r.Z)((0,r.Z)({},N),{},{fields:g}))}),(0,b.jsx)(h.wX,{title:"Facebook App",children:(0,b.jsx)(S,(0,r.Z)((0,r.Z)({},N),{},{fields:v}))}),(0,b.jsx)(h.wX,{title:"Social",text:"Display Your social media accounts. Comin Soon ..."})]})]})}var S=function(e){e.settingSlug;var t=e.instance,a=e.fields,i=(0,n.Z)(e,_),s=i.context,l=i.onUpdate,c=(0,n.Z)(i,f);return(0,b.jsxs)(m.ZP,(0,r.Z)((0,r.Z)({},c),{},{onSubmit:function(e){e.preventDefault();var n={};return a.forEach((function(e){n[e]=s.values[e]})),t.update(n).then((function(e){var t=e.data;null===l||void 0===l||l(t)})).catch((function(e){s.handleError(e)}))},children:[a.map((function(e,t){return N(e,s,t)})),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)(m.ZP.Submit,{value:"Save",className:"btn-md btn-primary-3 min-w-25"})})]}))},N=function(e,t,a){switch(e){case"contact_number":return(0,b.jsx)(m.ZP.Field,{label:"Phone number",text:"Write your (business) contact number without country extension.",error:t.errors.contact_number,children:(0,b.jsx)(m.kq.EQ,{name:"contact_number",className:"w-100 w-md-50"})},a);case"contact_number_title":return(0,b.jsx)(m.ZP.Field,{label:"Phone number link text",text:"Describe your phone number link (SEO).",error:t.errors.contact_number_title,children:(0,b.jsx)(m.ZP.Text,{name:"contact_number_title",className:"w-100 w-md-50",maxLength:99})},a);case"contact_number_display":return(0,b.jsx)(m.ZP.Field,{label:"Phone number display",text:"Write a call to action for your contact number.",error:t.errors.contact_number_display,children:(0,b.jsx)(m.ZP.Text,{name:"contact_number_display",placeholder:"Call us now",maxLength:99,className:"w-100 w-md-50"})},a);case"contact_email":return(0,b.jsx)(m.ZP.Field,{label:"Email",text:"Write your (business) contact email.",error:t.errors.contact_email,children:(0,b.jsx)(m.ZP.Text,{name:"contact_email",type:"email",className:"w-100 w-md-50",maxLength:99})},a);case"whatsapp_number":return(0,b.jsx)(m.ZP.Field,{label:"Whatsapp number",text:"Write your international whatsapp number.(229 ...)",error:t.errors.whatsapp_number,children:(0,b.jsx)(m.ZP.Phone,{name:"whatsapp_number",className:"w-100 w-md-50"})},a);case"whatsapp_link":return(0,b.jsx)(m.ZP.Field,{label:"Whatsapp link",text:"Write your whatsapp link.",children:(0,b.jsx)(m.ZP.Text,{name:"whatsapp_link",type:"url",maxLength:200,className:"w-100 w-md-50"})},a);case"whatsapp_link_title":return(0,b.jsx)(m.ZP.Field,{label:"Whatsapp link text",text:"Describe your whatsapp link.",error:t.errors.whatsapp_link_title,children:(0,b.jsx)(m.ZP.Text,{name:"whatsapp_link_title",className:"w-100 w-md-50",maxLength:99})},a);case"ga_tracking":return(0,b.jsx)(m.ZP.Field,{label:"Google Analytics Tracking Number",children:(0,b.jsx)(m.ZP.Text,{name:"ga_tracking",className:"w-100 w-md-50",placeholder:"G-"})},a);case"fb_pixel":return(0,b.jsx)(m.ZP.Field,{label:"Facebook Pixel",error:t.errors.fb_pixel,children:(0,b.jsx)(m.ZP.Text,{name:"fb_pixel",className:"w-100 w-md-50"})},a);case"fb_app_id":return(0,b.jsx)(m.ZP.Field,{label:"Facebook App ID",error:t.errors.fb_app_id,children:(0,b.jsx)(m.ZP.Text,{name:"fb_app_id",className:"w-100 w-md-50"})},a);case"fb_app_secret":return(0,b.jsx)(m.ZP.Field,{label:"Facebook App Secret",error:t.errors.fb_app_secret,children:(0,b.jsx)(m.ZP.Text,{name:"fb_app_secret",className:"w-100 w-md-50"})},a);default:return null}},F=function(e){var t=s.useContext(d.h2),a=t.site,n=(0,m.cI)({name:a.name,domain:a.domain}),r=e.instance,i=!Boolean(a.settings);return(0,b.jsxs)(m.ZP,{context:n,onSubmit:function(e){return e.preventDefault(),r.updateSite({name:n.values.name,domain:n.values.domain}).then((function(e){t.updateSite(e.data.site)})).catch((function(e){return n.handleError(e)}))},children:[(0,b.jsx)(m.ZP.Field,{label:"Site name",text:"Give a name to your site. Keep it short and clean.(65 Characters max.)",error:n.errors.name,children:(0,b.jsx)(m.ZP.Text,{required:!0,name:"name",placeholder:"example",maxLength:65,minLength:2,disabled:i,className:"w-100 w-md-50"})}),(0,b.jsx)(m.ZP.Field,{label:"Site domain",text:"Enter your domain name url. Include the http(s) part.",error:n.errors.domain,children:(0,b.jsx)(m.ZP.Text,{required:!0,type:"url",name:"domain",maxLength:99,placeholder:"http(s)://example.com",minLength:3,disabled:i})}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)(m.ZP.Submit,{value:"Save",className:"btn-md btn-primary-3 min-w-25"})})]})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return y.forEach((function(a){t[a]=e[a]||""})),t}}}]);
//# sourceMappingURL=716.ca829883.chunk.js.map