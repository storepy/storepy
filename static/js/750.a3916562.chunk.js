"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[750],{1750:function(e,n,r){r.r(n),r.d(n,{default:function(){return F}});var t=r(8519),a=r(6113),l=r(7497),u=r(243),s=r(715),i=r(9544),c=r(3448),o=r(8312),d=r(4089),v=r(9009),x=["data","productInstance"],m=["onSuccess","onFailure"];function h(e){var n=e.data,r=e.productInstance,a=(0,o.Z)(e,x);if(null===n||void 0===n||!n.slug||null===r||void 0===r||!r.slug)return null;var l=a.onSuccess,u=a.onFailure,s=(0,o.Z)(a,m);return(0,v.jsx)(i.pu,(0,t.Z)((0,t.Z)({},s),{},{renderHeader:function(){return(0,v.jsx)("div",{children:"Supprimer un attribut"})},renderFooter:function(e){var t=e.setOpen;return(0,v.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,v.jsx)(i.zx,{onClick:function(){return t(!1)},children:"Annuler"}),(0,v.jsx)(i.zx,{onClick:function(){return r.deleteAttribute(n.slug).then((function(e){return t(!1),null===l||void 0===l?void 0:l(e)})).catch((function(e){return null===u||void 0===u?void 0:u(e)}))},className:"btn-danger",children:"Supprimer"})]})},render:function(){return(0,v.jsxs)("div",{className:"p-3",children:["Are you sure you want to delete this attribute:",(0,v.jsx)("div",{className:"fw-bold",children:n.name})]})},className:"attr-delete-button btn-danger-3",children:(0,v.jsx)(i.PJ.rF,{})}))}var j=["data","productInstance"],p=["productInstance"],f=["label","text","error","placeholder"],b=["label","text","error","placeholder"],Z=function(e){var n=e.data,r=e.productInstance,t=(0,o.Z)(e,j),a=(0,d.cI)({name:n.name||"",value:n.value||""});if(null===n||void 0===n||!n.slug||null===r||void 0===r||!r.slug)return null;var l=t.onSuccess,u=t.onFailure;return(0,v.jsx)(d.ZP,{context:a,onSubmit:function(e){e.preventDefault(),r.patchAttribute(n.slug,a.values).then((function(e){return null===l||void 0===l?void 0:l(e)})).catch((function(e){return a.handleError(e),null===u||void 0===u?void 0:u(e)}))},children:(0,v.jsxs)("div",{className:"d-grid grid-md-6 gap-1",children:[(0,v.jsx)("div",{className:"span-md-2",children:(0,v.jsx)(N,{error:a.errors.name})}),(0,v.jsx)("div",{className:"span-md-3",children:(0,v.jsx)(I,{error:a.errors.value,className:""})}),(0,v.jsxs)("div",{className:"span-md-1",children:[(0,v.jsx)(d.ZP.Submit,{value:"Save",className:"btn-primary-2 me-2"}),(0,v.jsx)(h,{productInstance:r,data:n,onSuccess:l,onFailure:u})]})]})})},S={name:"",value:""},g=function(e){var n=e.productInstance,r=(0,o.Z)(e,p),t=(0,d.cI)(S);return null!==n&&void 0!==n&&n.slug?(0,v.jsx)(d.ZP,{context:t,onSubmit:function(e){e.preventDefault(),n.postAttribute(t.values).then((function(e){var n;return t.setValues(S),null===r||void 0===r||null===(n=r.onSuccess)||void 0===n?void 0:n.call(r,e)})).catch((function(e){var n;return t.handleError(e),null===r||void 0===r||null===(n=r.onFailure)||void 0===n?void 0:n.call(r,e)}))},children:(0,v.jsxs)("div",{className:"d-grid grid-md-6 gap-1",children:[(0,v.jsx)("div",{className:"span-md-2",children:(0,v.jsx)(N,{error:t.errors.name})}),(0,v.jsx)("div",{className:"span-md-3",children:(0,v.jsx)(I,{error:t.errors.value,className:""})}),(0,v.jsx)("div",{className:"span-md-1",children:(0,v.jsx)(d.ZP.Submit,{value:"Save",className:"btn-primary-2"})})]})}):null},N=function(e){var n=e.label,r=e.text,a=e.error,l=e.placeholder,u=void 0===l?"Entrez le nom de l'attribut ...":l,s=(0,o.Z)(e,f);return(0,v.jsx)(d.ZP.Field,{label:n,text:r,error:a,children:(0,v.jsx)(d.ZP.Text,(0,t.Z)((0,t.Z)({placeholder:u,maxLength:30,minLength:2},s),{},{required:!0,name:"name"}))})},I=function(e){var n=e.label,r=e.text,a=e.error,l=e.placeholder,u=void 0===l?"Entrez la valuer de l'attribut ...":l,s=(0,o.Z)(e,b);return(0,v.jsx)(d.ZP.Field,{label:n,text:r,error:a,children:(0,v.jsx)(d.ZP.Text,(0,t.Z)((0,t.Z)({placeholder:u,maxLength:99,minLength:2},s),{},{required:!0,name:"value"}))})},P=window.i18n,A=function(e){var n,r=l.useState(!1),t=(0,a.Z)(r,2),u=t[0],o=t[1],d=e.instance,x=e.onUpdate;return(0,v.jsxs)(s.ZP.Section,{title:"Tailles",text:"Ajouter des tailles",actions:(0,v.jsx)(i.zx,{onClick:function(){return o(!u)},className:"btn-primary-3",children:"Ajouter une taille"}),children:[u&&(0,v.jsx)(s.ZP.Section,{text:"Ajouter une taille",children:(0,v.jsx)(c.T9,{productInstance:d,onSuccess:function(e){var n=e.data;return x(n)}})}),null===(n=d.sizes)||void 0===n?void 0:n.map((function(e){return(0,v.jsx)(c.dh,{data:e,productInstance:d,onSuccess:function(e){var n=e.data;return x(n)}},e.slug)}))]})},y=function(e){var n,r=e.instance,t=e.onUpdate,u=l.useState(!1),c=(0,a.Z)(u,2),o=c[0],d=c[1];return(0,v.jsxs)(s.ZP.Section,{title:"Attributs",actions:(0,v.jsx)(i.zx,{onClick:function(){return d(!o)},className:"btn-primary-3",children:"Ajouter un attribut"}),children:[o&&(0,v.jsx)(s.ZP.Section,{text:"Ajouter un attribut au produit.",children:(0,v.jsx)(g,{productInstance:r,onSuccess:function(e){var n=e.data;return t(n)}})}),null===r||void 0===r||null===(n=r.attributes)||void 0===n?void 0:n.map((function(e){return(0,v.jsx)("div",{className:"mb-1",children:(0,v.jsx)(Z,{data:e,productInstance:r,onSuccess:function(e){var n=e.data;return t(n)}})},e.slug)}))]})};function F(e){return(0,v.jsxs)(s.ZP.Section,{title:P(u.Z,"InventoryTab.title"),children:[(0,v.jsx)(A,(0,t.Z)({},e)),(0,v.jsx)(y,(0,t.Z)({},e))]})}}}]);
//# sourceMappingURL=750.a3916562.chunk.js.map