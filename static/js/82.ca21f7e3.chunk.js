"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[82],{474:function(t,e,n){n.d(e,{A:function(){return d}});var s=n(3872),a=n(5561),i=n(1253),r=n(4733),c=n(2562),l=n(5789),o=5e3,u=function(t){(0,r.Z)(n,t);var e=(0,c.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"createdDt",get:function(){var t;return null!==(t=this.data)&&void 0!==t&&t.created?new Date(this.data.created).toLocaleDateString(void 0,{day:"2-digit",weekday:"short",month:"short",year:"2-digit"}):null}},{key:"canDestroy",get:function(){var t,e;return 0===(null===this||void 0===this||null===(t=this.data)||void 0===t||null===(e=t.products)||void 0===e?void 0:e.length)}},{key:"mark_paid",value:function(){return this.post("".concat(this._path,"pay/"),{},{timeout:o})}},{key:"place",value:function(){return this.post("".concat(this._path,"place/"),{},{timeout:o})}},{key:"addItems",value:function(t){return this.post("".concat(this._path,"products/"),t)}},{key:"addItem",value:function(t,e){return this.post("".concat(this._path,"product/").concat(t,"/"),e)}},{key:"updateItem",value:function(t,e){return this.post("".concat(this._path,"item/").concat(t,"/"),(0,s.Z)({},e),{timeout:o})}},{key:"destroyItem",value:function(t){return this.delete("".concat(this._path,"item/").concat(t,"/"),{timeout:o})}}]),n}(l.x5),d=(0,l.QY)("carts",u)},82:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});n(7406);var s=n(5789),a=n(3088),i=n(2050),r=n(9474),c=n(474),l=n(7532),o=n(7457);function u(){var t;(0,r.jr)("Carts - Sales");var e=(0,r.QT)((function(){return(0,c.A)({}).list()})),n=e.res,u=e.loading,d=e.refresh;if(u)return(0,o.jsx)(i.gb,{});var h=new r.F6(n);return h.isSuccess?(0,o.jsx)(s.ZP.View,{title:"Paniers",back:"/staff/sales/",className:"sales-index-view miq-container center",headerCN:"miq-container center",children:null===(t=h.items)||void 0===t?void 0:t.map((function(t){var e=(t||{}).products,n=void 0===e?[]:e,s=(0,c.A)(t);return(0,o.jsx)(i.Zb,{style:{marginBottom:12},actions:(0,o.jsxs)("div",{className:"d-flex",children:[!(null!==s&&void 0!==s&&s.is_placed)&&(0,o.jsx)(l.sA,{instance:s,onSuccess:function(){return d()}}),(0,o.jsx)(l.r2,{reloadDocument:!1,instance:s,className:"btn btn-round btn-primary-3 ms-1",children:(0,o.jsx)(i.PJ.I8,{})})]}),title:(0,o.jsx)("div",{className:"",children:"".concat(s.customer_name)}),className:"cart-list-item-card mb-1",children:(0,o.jsxs)("ul",{className:"text-sm",children:[(0,o.jsxs)("li",{className:"d-flex align-items-center justify-content-between",children:[(0,o.jsxs)("span",{className:"",children:[n.length," produit(s)"]}),n.length>0&&(0,o.jsx)("span",{className:"fw-bold",children:(0,o.jsx)(a._S,{retail_price_data:(null===t||void 0===t?void 0:t.total)||(null===t||void 0===t?void 0:t.subtotal)})})]}),(0,o.jsx)("li",{className:"text-sm text-muted",children:s.createdDt})]})},t.slug)}))}):null}}}]);
//# sourceMappingURL=82.ca21f7e3.chunk.js.map