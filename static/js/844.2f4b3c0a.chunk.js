"use strict";(self.webpackChunk_storepy_clientjs=self.webpackChunk_storepy_clientjs||[]).push([[844],{2844:function(e,s,r){r.r(s),r.d(s,{default:function(){return S}});var t=r(3872),n=r(4384),i=r(3251),l=r(7406),u=r(9157),a=r(5789),c=r(9576),o=r(1340),d=r(9474),h=r(5561),p=r(1253),_=r(4733),x=r(2562),v=function(e){(0,_.Z)(r,e);var s=(0,x.Z)(r);function r(){return(0,h.Z)(this,r),s.apply(this,arguments)}return(0,p.Z)(r,[{key:"updateConfig",value:function(e){var s;return this.update({config:(0,t.Z)((0,t.Z)({},null===(s=this.data)||void 0===s?void 0:s.config),e)})}}]),r}(a.x5),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.eR)(e,"shopy-settings",v)},f=r(7457),g=["context","name","label","text","className"],j=["children","instance","fields"],Z=function(e){var s,r=e.instance,n=e.fields,i=(0,c.cI)({returns:(null===r||void 0===r?void 0:r.returns)||"",returns_html:r.returns_html||"",size_guide:r.size_guide||"",size_guide_html:(null===r||void 0===r?void 0:r.size_guide_html)||""});return(0,f.jsx)(w,(0,t.Z)((0,t.Z)({},e),{},{context:i,fields:["returns","returns_html","size_guide","size_guide_html"],onSubmit:function(e){e.preventDefault(),r.update({returns:i.values.returns,returns_html:i.values.returns}).then((function(e){})).catch((function(e){}))},children:(s="returns",n.includes(s)&&(0,f.jsx)(b,{name:"returns",context:i,label:"Returns Page"}))}))},b=function(e){var s=l.useState(!1),r=(0,i.Z)(s,2),t=r[0],u=r[1],a=e.context,d=e.name,h=e.label,p=e.text,_=e.className,x=((0,n.Z)(e,g),a.values[d]);return(0,f.jsx)(o.Zb,{title:d,text:"This is text",actions:(0,f.jsx)(o.zx,{onClick:function(){return u(!t)},children:"Preview"}),className:"border-0",children:t?(0,f.jsx)("div",{dangerouslySetInnerHTML:{__html:x}}):(0,f.jsx)(c.ZP.Field,{label:h,text:p,className:_,error:a.errors[d],children:(0,f.jsx)(c.ZP.TextAreaX,{name:d,mirror:x})})})},w=function(e){var s=e.children,r=e.instance,i=e.fields,l=(0,n.Z)(e,j),u=e.context,a=function(e){return i.includes(e)},o=u.values,d=u.errors;return(0,f.jsxs)(c.ZP,(0,t.Z)((0,t.Z)({onSubmit:function(e){e.preventDefault(),r.updateConfig(o).then((function(e){})).catch((function(e){}))}},l),{},{children:[s||(0,f.jsxs)(f.Fragment,{children:[a("has_suppliers")&&(0,f.jsx)(c.ZP.Field,{checkbox:!0,label:"Store has suppliers",error:d.has_suppliers,children:(0,f.jsx)(c.ZP.Checkbox,{name:"has_suppliers",className:"me-1"})}),o.has_suppliers&&(0,f.jsxs)(f.Fragment,{children:[a("show_active_suppliers")&&(0,f.jsx)(c.ZP.Field,{checkbox:!0,label:"Show active suppliers on homepage",error:d.show_active_suppliers,children:(0,f.jsx)(c.ZP.Checkbox,{name:"show_active_suppliers",className:"me-1"})}),a("show_product_supplier")&&(0,f.jsx)(c.ZP.Field,{checkbox:!0,label:"Show supplier on product detail page (if any)",error:d.show_product_supplier,children:(0,f.jsx)(c.ZP.Checkbox,{name:"show_product_supplier",className:"me-1"})})]})]}),(0,f.jsx)(c.ZP.Submit,{value:"Save"})]}))},P=["children"];function S(){(0,d.jr)("Store settings");var e=(0,u.lr)(),s=(0,i.Z)(e,1)[0],r=(0,d.QT)((function(){return m({slug:"current"}).retrieve()})).res.data;if(!r)return null;var t=m(r);return"pages"===s.get("tab")?(0,f.jsx)(N,{children:(0,f.jsx)("div",{className:"",children:(0,f.jsx)(Z,{instance:t,fields:["returns","returns_html"]})})}):(0,f.jsx)(N,{children:(0,f.jsx)(k,{config:null===r||void 0===r?void 0:r.config,instance:t})})}var k=function(e){var s=e.config,r=e.instance,t=(0,c.cI)({show_active_suppliers:(null===s||void 0===s?void 0:s.show_active_suppliers)||!1,show_product_supplier:(null===s||void 0===s?void 0:s.show_product_supplier)||!1,has_suppliers:(null===s||void 0===s?void 0:s.has_suppliers)||!1});return(0,f.jsx)(w,{context:t,instance:r,fields:["has_suppliers","show_active_suppliers","show_product_supplier"]})},N=function(e){var s=e.children,r=(0,n.Z)(e,P);return(0,f.jsx)(a.ZP.View,(0,t.Z)((0,t.Z)({title:"Shop Settings",back:"../"},r),{},{requiredPerms:["store.change_shopsetting"],children:(0,f.jsx)(a.ZP.Section,{children:s,header:(0,f.jsxs)("div",{className:"d-flex align-items-center border-bottom pb-2 mb-2",children:[(0,f.jsx)(o.$Q,{index:!0,target:"tab",className:"me-1",children:"Settings"}),(0,f.jsx)(o.$Q,{target:"tab",value:"pages",className:"me-1",children:"Pages"})]})})}))}}}]);
//# sourceMappingURL=844.2f4b3c0a.chunk.js.map