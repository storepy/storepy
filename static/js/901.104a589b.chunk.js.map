{"version":3,"file":"static/js/901.104a589b.chunk.js","mappings":"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","sources":["../../../../shopy/shopy-storejs/src/product/views.Update/tabs.InfoUpdate.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/components.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/tabs.MediaUpdate.tsx","../../../../shopy/shopy-storejs/src/productAttribute/buttons.tsx","../../../../shopy/shopy-storejs/src/productAttribute/index.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/tabs.InventoryUpdate.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/tabs.SettingsUpdate.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/views.Update.tsx","../../../../shopy/shopy-storejs/src/product/views.lang.ts"],"sourcesContent":["import * as React from 'react';\n\nimport lang from '../views.lang';\nimport formLang from '../forms/lang';\n\nimport Staff from '@miq/staffjs';\nimport Form, { MetaDescriptionField, MetaSlugField, MetaTitleField, useForm } from '@miq/formjs';\n\nimport { CategoryChoicesType } from '../../types';\nimport { ProductForm, ProductUpdateForm } from '../forms';\n\nimport { TProductUpdateTabProps } from './utils';\n\nconst { i18n } = window;\n\ntype TProps = TProductUpdateTabProps<{ categories: CategoryChoicesType; form: ReturnType<typeof useForm> }>;\n\nexport default function ProductUpdateInfoTab(props: TProps) {\n  const { form, instance, onUpdate } = props;\n  const { errors } = form;\n\n  return (\n    <>\n      <div className=\"border-bottom mb-4\">\n        <ProductInfoUpdateForm {...props} />\n      </div>\n\n      <Staff.Section title={i18n(lang, 'SeoTab.title')}>\n        <ProductUpdateForm\n          context={form}\n          {...{\n            instance,\n            fields: ['meta_title', 'meta_description', 'meta_slug'],\n            onSuccess: ({ data }) => {\n              console.log('d', data);\n\n              onUpdate(data);\n            },\n          }}\n        >\n          <MetaTitleField error={errors.meta_title} />\n          <MetaSlugField error={errors.meta_slug} />\n          <MetaDescriptionField error={errors.meta_description} />\n\n          <div className=\"d-flex justify-content-center\">\n            <Form.Submit value={i18n(lang, 'Btn.saveLabel')} className=\"btn-primary-3 btn-md min-w-25 fw-bold\" />\n          </div>\n        </ProductUpdateForm>\n      </Staff.Section>\n    </>\n  );\n}\n\nconst fields = [\n  'name',\n  'category',\n  'description',\n  'retail_price',\n  'is_pre_sale',\n  'is_pre_sale_text',\n  'is_pre_sale_dt',\n  'is_on_sale',\n  'sale_price',\n  'is_oos',\n  'is_explicit',\n];\n\nconst ProductInfoUpdateForm = (props: TProps) => {\n  const { form, instance, categories, onUpdate } = props;\n  const { errors } = form;\n  const sectionProps = { title: i18n(lang, 'InfoTab.title'), text: i18n(lang, 'InfoTab.text') };\n\n  return (\n    <ProductUpdateForm\n      context={form}\n      {...{\n        instance,\n        fields,\n        onSuccess: ({ data }) => {\n          onUpdate?.(data);\n        },\n      }}\n    >\n      <Staff.Section\n        {...sectionProps}\n        footer={\n          <div className=\"d-flex justify-content-center\">\n            <Form.Submit value={i18n(lang, 'Btn.saveLabel')} className=\"btn-md btn-primary min-w-25 fw-bold\" />\n          </div>\n        }\n      >\n        <ProductForm.NameField\n          error={errors.name}\n          label={window.i18n(formLang, 'NField.label')}\n          text={window.i18n(formLang, 'NField.text')}\n        />\n\n        <div className=\"d-grid grid-md-2 gap-1\">\n          <ProductForm.CategoryField\n            error={errors.category}\n            categories={categories}\n            label={window.i18n(formLang, 'CatField.label')}\n          />\n          <ProductForm.RetailPriceField\n            label={window.i18n(formLang, 'RetailPField.label')}\n            error={errors.retail_price}\n          />\n        </div>\n\n        <ProductForm.PresaleCheckboxField\n          error={errors.is_pre_sale}\n          label={window.i18n(formLang, 'PresaleField.label')}\n        />\n        {form.values.is_pre_sale && (\n          <ProductForm.PresaleTextField\n            text={window.i18n(formLang, 'PresaleTextField.text')}\n            error={errors.is_pre_sale_text}\n          />\n        )}\n\n        <ProductForm.OnSaleCheckboxField error={errors.is_on_sale} label={window.i18n(formLang, 'OnsaleField.label')} />\n        {form.values.is_on_sale && (\n          <ProductForm.SalePriceField label={window.i18n(formLang, 'SalePField.label')} error={errors.sale_price} />\n        )}\n\n        <ProductForm.DescriptionField\n          error={errors.description}\n          label={window.i18n(formLang, 'DField.label')}\n          text={window.i18n(formLang, 'DField.text')}\n        />\n\n        <div className=\"my-4\">\n          <ProductForm.OosCheckboxField error={errors.is_oos} />\n        </div>\n\n        <div className=\"my-4\">\n          <ProductForm.IsExplicitCheckboxField error={errors.is_explicit} />\n        </div>\n      </Staff.Section>\n    </ProductUpdateForm>\n  );\n};\n","import * as React from 'react';\nimport { Icons, TImg } from '@miq/componentjs';\n\nimport { StaffImg, StaffImgDeleteButton, TImgButtonDeleteProps } from '@miq/staffjs';\n\nexport const ProductImgReorderGridItem = ({\n  img,\n  ...props\n}: {\n  img: TImg;\n  order: TImg | null;\n  setOrder: React.Dispatch<React.SetStateAction<TImg | null>>;\n  onOrderChange: (p: { from: TImg; to: TImg }) => void;\n}) => {\n  const { order, setOrder, onOrderChange } = props;\n\n  return (\n    <div\n      draggable\n      onDragEnter={(e) => setOrder(img)}\n      onDragEnd={(e) => {\n        if (!order || order.slug === img.slug) return;\n\n        StaffImg(img)\n          .swapPosition(order.slug!, order.position)\n          .then(({ data }) => onOrderChange(data))\n          .catch((err) => {\n            console.error(err);\n          });\n      }}\n    >\n      <StaffImg.Square {...img} className=\"rounded\" />\n    </div>\n  );\n};\n\nexport const ProductImgDeleteButton = (props: TImgButtonDeleteProps) => (\n  <StaffImgDeleteButton {...props}>\n    <Icons.Trash />\n  </StaffImgDeleteButton>\n);\n","import * as React from 'react';\n\n// import lang from '../views.lang';\n\nimport Staff, { StaffImg, StaffImgAddButton, TSImgInstance } from '@miq/staffjs';\nimport { getCN } from '@miq/utiljs';\nimport { Button, Icons, TImg, TViewSectionProps } from '@miq/componentjs';\n\nimport { ProductImagesAddButton } from '../buttons';\nimport { TProductUpdateTabProps } from './utils';\nimport { ProductImgDeleteButton, ProductImgReorderGridItem } from './components';\n\nexport default function ProductUpdateMediaTab(props: TProductUpdateTabProps) {\n  const { instance, onUpdate } = props;\n  const { cover_data, images_data } = instance;\n\n  const [isReordering, setReordering] = React.useState<boolean>(false);\n  const [order, setOrder] = React.useState<TImg | null>(null);\n\n  return (\n    <Staff.Section\n      title={\n        <ProductImagesAddButton\n          productInstance={instance}\n          onSuccess={(res: any) => onUpdate?.(res.data)}\n          className=\"d-flex align-items-center\"\n        >\n          <Icons.CloudUpload />\n          <span className=\"ms-1 d-none d-md-block\">Upload images</span>\n        </ProductImagesAddButton>\n      }\n      actions={\n        <>\n          <div className=\"d-none d-md-block\">\n            <Button\n              onClick={() => setReordering(!isReordering)}\n              className={getCN(['btn-round', isReordering ? 'btn-primary' : 'btn-secondary-4'])}\n            >\n              <Icons.DragDrop />\n            </Button>\n          </div>\n        </>\n      }\n    >\n      {isReordering ? (\n        <div className=\"d-grid grid-3 gap-2\">\n          {images_data?.map((img) => (\n            <ProductImgReorderGridItem\n              {...{ img, order, setOrder }}\n              onOrderChange={(data) => {\n                onUpdate?.({\n                  ...instance.export(),\n                  images_data: images_data.map((i) => {\n                    if (i.slug === data?.to?.slug) return data?.from;\n                    if (i.slug === data?.from?.slug) return data?.to;\n                    return i;\n                  }),\n                });\n                setOrder(null);\n              }}\n              key={img.slug}\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"d-grid grid-2 grid-md-3 grid-lg-4 gap-2\">\n          <CoverCard img={StaffImg(cover_data)} productInstance={instance} {...{ onUpdate }} />\n\n          {instance?.images_data?.map((image) => {\n            const img = StaffImg(image);\n            const swapCover = () => instance.swapCover(img.slug!).then(({ data }: any) => onUpdate(data));\n            return (\n              <ImageCard\n                img={img}\n                actions={<Staff.Button onClick={swapCover}>Set as cover</Staff.Button>}\n                onDelete={() =>\n                  onUpdate({\n                    ...instance.export(),\n                    images_data: instance.images_data!.filter((i) => i.slug !== img.slug),\n                    images: instance.images!.filter((i) => i !== img.slug),\n                  })\n                }\n                key={img.slug}\n              />\n            );\n          })}\n        </div>\n      )}\n    </Staff.Section>\n  );\n}\n\ntype TImgCardProps = Omit<TViewSectionProps, 'title'> & { img: TSImgInstance; onDelete: (p: TImg) => void };\n\nconst CoverCard = (\n  props: Omit<TImgCardProps, 'onDelete'> & {\n    productInstance: TProductUpdateTabProps['instance'];\n    onUpdate: TProductUpdateTabProps['onUpdate'];\n  }\n) => {\n  const { img, onUpdate, productInstance } = props;\n\n  if (!img.slug)\n    return (\n      <div className=\"p-cover-add-btn d-flex align-items-center justify-content-center flex-column text-center border-1 rounded p-3\">\n        <p className=\"text-sm text-muted mb-3\">Ce produit n'a pas d'image principale</p>\n        <StaffImgAddButton\n          onSuccess={(r) => {\n            productInstance\n              .update({ cover: r?.data.slug })\n              .then((x) => onUpdate(x?.data))\n              .catch((err) => {});\n          }}\n          label=\"Ajouter une image\"\n          className=\"btn-primary-3 btn-md\"\n        />\n      </div>\n    );\n\n  return (\n    <ImageCard\n      {...props}\n      onDelete={() => onUpdate({ ...productInstance.export(), cover_data: undefined, cover: undefined })}\n    />\n  );\n};\n\nconst ImageCard = ({ img, actions, ...props }: TImgCardProps) => {\n  return (\n    <Staff.Section\n      border\n      title={\n        <ProductImgDeleteButton onSuccess={(r) => props.onDelete(r?.data)} instance={img} className=\"btn-danger-3\" />\n      }\n      actions={actions}\n      className=\"p-image-card\"\n    >\n      <StaffImg.Image {...img.export()} />\n    </Staff.Section>\n  );\n};\n","import * as React from 'react';\n\nimport { TFormCallbackProps } from '@miq/formjs';\nimport { Button, ConfirmButton, Icons } from '@miq/componentjs';\n\nimport { TStaffProductInstance } from '../product/models';\nimport type { TProductAttribute } from '../types';\n\nexport function AttributeDeleteButton({\n  data,\n  productInstance,\n  ...props\n}: { data: TProductAttribute; productInstance: TStaffProductInstance } & TFormCallbackProps) {\n  if (!data?.slug || !productInstance?.slug) return null;\n  const { onSuccess, onFailure, ...rest } = props;\n\n  return (\n    <ConfirmButton\n      {...rest}\n      renderHeader={() => <div>Supprimer un attribut</div>}\n      renderFooter={({ setOpen }) => (\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <Button onClick={() => setOpen(false)}>Annuler</Button>\n\n          <Button\n            onClick={() =>\n              productInstance\n                .deleteAttribute(data.slug)\n                .then((res) => {\n                  setOpen(false);\n                  return onSuccess?.(res);\n                })\n                .catch((err) => onFailure?.(err))\n            }\n            className=\"btn-danger\"\n          >\n            Supprimer\n          </Button>\n        </div>\n      )}\n      render={() => (\n        <div className=\"p-3\">\n          Are you sure you want to delete this attribute:\n          <div className=\"fw-bold\">{data.name}</div>\n        </div>\n      )}\n      className=\"attr-delete-button btn-danger-3\"\n    >\n      <Icons.Trash />\n    </ConfirmButton>\n  );\n}\n","import * as React from 'react';\n\nimport Form, { TextFieldProps, TFormCallbackProps, useForm } from '@miq/formjs';\n\nimport type { TProductAttribute } from '../types';\nimport { StaffProduct } from '../product/models';\n\nimport { AttributeDeleteButton } from './buttons';\n\ntype TAttrFormProps = TFormCallbackProps & {\n  productInstance: ReturnType<typeof StaffProduct>;\n};\n\nexport const AttributeUpdateForm = ({\n  data,\n  productInstance,\n  ...props\n}: TAttrFormProps & { data: TProductAttribute }) => {\n  const form = useForm<TProductAttribute>({ name: data.name || '', value: data.value || '' });\n\n  if (!data?.slug || !productInstance?.slug) return null;\n  const { onSuccess, onFailure } = props;\n\n  return (\n    <Form\n      context={form}\n      onSubmit={(e) => {\n        e.preventDefault();\n\n        productInstance\n          .patchAttribute(data.slug, form.values)\n          .then((res) => onSuccess?.(res))\n          .catch((err) => {\n            form.handleError(err);\n            return onFailure?.(err);\n          });\n      }}\n    >\n      <div className=\"d-grid grid-md-6 gap-1\">\n        <div className=\"span-md-2\">\n          <AttrNameField error={form.errors.name} />\n        </div>\n\n        <div className=\"span-md-3\">\n          <AttrValueField error={form.errors.value} className=\"\" />\n        </div>\n\n        <div className=\"span-md-1\">\n          <Form.Submit value=\"Save\" className=\"btn-primary-2 me-2\" />\n          <AttributeDeleteButton {...{ productInstance, data, onSuccess, onFailure }} />\n        </div>\n      </div>\n    </Form>\n  );\n};\n\nconst formDefaultValues = { name: '', value: '' };\n\nexport const AttributeCreateForm = ({ productInstance, ...props }: TAttrFormProps) => {\n  const form = useForm(formDefaultValues);\n\n  if (!productInstance?.slug) return null;\n\n  return (\n    <Form\n      context={form}\n      onSubmit={(e) => {\n        e.preventDefault();\n\n        productInstance\n          .postAttribute(form.values)\n          .then((res) => {\n            form.setValues(formDefaultValues);\n            return props?.onSuccess?.(res);\n          })\n          .catch((err) => {\n            form.handleError(err);\n            return props?.onFailure?.(err);\n          });\n      }}\n    >\n      <div className=\"d-grid grid-md-6 gap-1\">\n        <div className=\"span-md-2\">\n          <AttrNameField error={form.errors.name} />\n        </div>\n\n        <div className=\"span-md-3\">\n          <AttrValueField error={form.errors.value} className=\"\" />\n        </div>\n\n        <div className=\"span-md-1\">\n          <Form.Submit value=\"Save\" className=\"btn-primary-2\" />\n        </div>\n      </div>\n    </Form>\n  );\n};\n\n// =============================================================================\n//                   FIELDS\n// =============================================================================\n\nconst AttrNameField = (props: TextFieldProps) => {\n  const { label, text, error, placeholder = `Entrez le nom de l'attribut ...`, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Text placeholder={placeholder} maxLength={30} minLength={2} {...rest} required name=\"name\" />\n    </Form.Field>\n  );\n};\n\nconst AttrValueField = (props: TextFieldProps) => {\n  const { label, text, error, placeholder = `Entrez la valuer de l'attribut ...`, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Text placeholder={placeholder} maxLength={99} minLength={2} {...rest} required name=\"value\" />\n    </Form.Field>\n  );\n};\n","import * as React from 'react';\n\nimport lang from '../views.lang';\n\nimport Staff from '@miq/staffjs';\nimport { Button } from '@miq/componentjs';\n\nimport { SizeAddForm, SizeUpdateForm } from '../../productSize';\nimport { AttributeCreateForm, AttributeUpdateForm } from '../../productAttribute';\n\nimport { TProductUpdateTabProps } from './utils';\n\nconst { i18n } = window;\n\nconst SizeSection = (props: TProductUpdateTabProps) => {\n  const [addSize, setAddSize] = React.useState(false);\n  const { instance, onUpdate } = props;\n\n  return (\n    <Staff.Section\n      title=\"Tailles\"\n      text=\"Ajouter des tailles\"\n      actions={\n        <Button onClick={() => setAddSize(!addSize)} className=\"btn-primary-3\">\n          Ajouter une taille\n        </Button>\n      }\n    >\n      {addSize && (\n        <Staff.Section text=\"Ajouter une taille\">\n          <SizeAddForm productInstance={instance} onSuccess={({ data }) => onUpdate(data)} />\n        </Staff.Section>\n      )}\n\n      {instance.sizes?.map((size) => {\n        return (\n          <SizeUpdateForm\n            data={size}\n            productInstance={instance}\n            onSuccess={({ data }) => onUpdate(data)}\n            key={size.slug}\n          />\n        );\n      })}\n    </Staff.Section>\n  );\n};\n\nconst AttributeSection = (props: TProductUpdateTabProps) => {\n  const { instance, onUpdate } = props;\n  const [addAtr, setAddAtr] = React.useState(false);\n\n  return (\n    <Staff.Section\n      title=\"Attributs\"\n      actions={\n        <Button onClick={() => setAddAtr(!addAtr)} className=\"btn-primary-3\">\n          Ajouter un attribut\n        </Button>\n      }\n    >\n      {addAtr && (\n        <Staff.Section text=\"Ajouter un attribut au produit.\">\n          <AttributeCreateForm productInstance={instance} onSuccess={({ data }) => onUpdate(data)} />\n        </Staff.Section>\n      )}\n\n      {instance?.attributes?.map((attr) => (\n        <div className=\"mb-1\" key={attr.slug}>\n          <AttributeUpdateForm data={attr} productInstance={instance} onSuccess={({ data }) => onUpdate(data)} />\n        </div>\n      ))}\n    </Staff.Section>\n  );\n};\n\nexport default function ProductUpdateInventoryTab(props: TProductUpdateTabProps) {\n  return (\n    <Staff.Section title={i18n(lang, 'InventoryTab.title')}>\n      <SizeSection {...props} />\n      <AttributeSection {...props} />\n    </Staff.Section>\n  );\n}\n","import * as React from 'react';\nimport { To, useNavigate } from 'react-router-dom';\n\nimport lang from '../views.lang';\n\nimport Staff from '@miq/staffjs';\n\nimport { ProductDeleteButton } from '../buttons';\n\nimport { TProductUpdateTabProps } from './utils';\n\nconst { i18n } = window;\n\nexport default function ProductUpdateSettingsTab(props: TProductUpdateTabProps<{ to: To }>) {\n  const navigate = useNavigate();\n  const { instance, to } = props;\n\n  return (\n    <Staff.Section title={i18n(lang, 'SettingsTab.title')}>\n      <Staff.Section\n        title={i18n(lang, 'SettingsTab.deleteSectionTitle')}\n        actions={\n          <ProductDeleteButton\n            {...{ instance }}\n            onSuccess={() => navigate(to)}\n            onFailure={(res) => {\n              if (res.status === 404) navigate('../');\n            }}\n          />\n        }\n      />\n    </Staff.Section>\n  );\n}\n","import * as React from 'react';\nimport { useParams, useSearchParams } from 'react-router-dom';\n\nimport './views.update.scss';\nimport lang from '../views.lang';\n\nimport type { TLang } from '@miq/utiljs';\nimport type { TSDState } from '@miq/contextjs';\nimport type { CategoryChoicesType, TProduct } from '../../types';\n\nimport Staff from '@miq/staffjs';\nimport { useForm } from '@miq/formjs';\nimport { QueryTabs } from '@miq/componentjs';\nimport { SharedDataCtx } from '@miq/contextjs';\nimport { addForwardSlash } from '@miq/utiljs';\n\nimport { StaffProduct } from '../models';\nimport { PublishButton, UnPublishButton } from '../../components';\n\nimport { ProductCardItem } from '../components';\n\nimport ProductUpdateInfoTab from './tabs.InfoUpdate';\nimport ProductUpdateMediaTab from './tabs.MediaUpdate';\nimport ProductUpdateInventoryTab from './tabs.InventoryUpdate';\nimport ProductUpdateSettingsTab from './tabs.SettingsUpdate';\n\nconst i18n = (k: keyof TLang) => window.i18n(lang, k);\n\n//#region FIELDS\n\nconst formInfoFields = [\n  'name',\n  'category',\n  'description',\n  'retail_price',\n  'is_pre_sale',\n  'is_pre_sale_text',\n  'is_pre_sale_dt',\n  'is_oos',\n  'is_on_sale',\n  'sale_price',\n  'is_explicit',\n];\nconst configFormFields = ['cost', 'color_group_pk', 'stage'];\nconst supplierFormFields = [\n  'supplier_name',\n  'supplier_item_id',\n  'supplier_item_sn',\n  'supplier_item_category',\n  'supplier_item_url',\n  'supplier_item_cost',\n  'supplier_item_cost_currency',\n  'supplier_order_id',\n];\nconst seoFields = ['meta_title', 'meta_description', 'meta_slug'];\nconst formFields = [...formInfoFields, ...configFormFields, ...supplierFormFields, ...seoFields];\nconst formDefaultValues: any = {\n  retail_price: 0.0,\n  is_pre_sale: false,\n  sale_price: 0.0,\n  is_on_sale: false,\n  is_published: false,\n};\nconst mapData2Values = (data: any = {}) => {\n  const values: any = {};\n  formFields.forEach((f) => {\n    const value = data?.[f];\n    if (value == null) {\n      values[f] = formDefaultValues[f] ?? '';\n      return;\n    }\n    values[f] = value;\n  });\n  return { ...formDefaultValues, ...values };\n};\n\n//#endregion FIELDS\n\n//#region ProductStaffUpdateView\n\ntype TContext = TSDState<{\n  product: TProduct;\n  // stages: TProductStageData[];\n  categories: CategoryChoicesType;\n}>;\n\nexport default function ProductStaffUpdateView(props: any) {\n  let { back } = props;\n  const { prodSlug } = useParams();\n  const [params] = useSearchParams();\n\n  const ctx = React.useContext<TContext>(SharedDataCtx);\n  const { product, categories } = ctx;\n\n  const form = useForm(mapData2Values(product));\n\n  const instance = StaffProduct(product);\n\n  const updateData = (d: TProduct) => {\n    ctx.updateData({ ...ctx, product: { ...product, ...d } });\n  };\n\n  return (\n    <Staff.View\n      className=\"product-staff-update-view\"\n      requiredPerms={['store.change_product']}\n      title={<ProductCardItem data={product} />}\n      back={`${addForwardSlash(back)}${`${params}` ? `?${params}` : ''}`}\n      actions={\n        instance.is_published ? (\n          <UnPublishButton instance={instance} onSuccess={({ data }) => updateData(data)}>\n            Dépublier\n          </UnPublishButton>\n        ) : (\n          <PublishButton\n            instance={instance}\n            onSuccess={({ data }) => updateData(data)}\n            onFailure={(err) => form.handleError(err)}\n          >\n            Publier\n          </PublishButton>\n        )\n      }\n    >\n      <Staff.Section title={<div className=\"mb-1\">{QButtons}</div>}>\n        <QueryTabs>\n          <QueryTabs.Tab index>\n            <ProductUpdateInfoTab {...{ form, instance }} categories={categories} onUpdate={updateData} />\n          </QueryTabs.Tab>\n\n          <QueryTabs.Tab value=\"media\">\n            <ProductUpdateMediaTab {...{ instance }} onUpdate={updateData} />\n          </QueryTabs.Tab>\n\n          <QueryTabs.Tab value=\"inventory\">\n            <ProductUpdateInventoryTab {...{ instance }} onUpdate={updateData} />\n          </QueryTabs.Tab>\n\n          <QueryTabs.Tab value=\"settings\">\n            <ProductUpdateSettingsTab {...{ instance }} onUpdate={updateData} to={back} />\n          </QueryTabs.Tab>\n        </QueryTabs>\n      </Staff.Section>\n    </Staff.View>\n  );\n}\n\n//#endregion ProductStaffUpdateView\n\nconst QButtons = (\n  <div className=\"query-buttons\">\n    <QueryTabs.Button index target=\"__tab\" className=\"btn-md\">\n      Info\n    </QueryTabs.Button>\n    <QueryTabs.Button target=\"__tab\" value=\"media\" className=\"btn-md\">\n      {i18n('MediaTab.title')}\n    </QueryTabs.Button>\n    <QueryTabs.Button target=\"__tab\" value=\"inventory\" className=\"btn-md\">\n      {i18n('InventoryTab.title')}\n    </QueryTabs.Button>\n    <QueryTabs.Button target=\"__tab\" value=\"settings\" className=\"btn-md\">\n      {i18n('SettingsTab.title')}\n    </QueryTabs.Button>\n  </div>\n);\n","import type { TLang } from '@miq/utiljs';\n\nexport default {\n  //\n  'InfoTab.title': { fr: 'Détails', en: 'Details' },\n  'InfoTab.text': { fr: 'Modifier les informations de ce produit', en: \"Update product's info\" },\n\n  //\n  'SeoTab.title': { fr: 'Seo', en: 'Seo' },\n\n  //\n  'InventoryTab.title': { fr: 'Inventaire', en: 'Inventory' },\n\n  //\n  'MediaTab.title': { fr: 'Média', en: 'Media' },\n\n  //\n  'SettingsTab.title': { fr: 'Paramètres', en: 'Settings' },\n  'SettingsTab.deleteSectionTitle': { fr: 'Supprimer ce produit', en: 'Delete product' },\n\n  //\n  'CreateView.title': { fr: 'Ajouter un produit', en: 'Add product' },\n\n  //\n  'ListView.title': { fr: 'Produits', en: 'Products' },\n  'ListView.actionLinkLabel': { fr: 'Ajouter', en: 'Add product' },\n  'ListView.noItemText': { fr: 'Ajouter un produit pour commencer', en: 'Add products to your shop to get started' },\n  'ListView.addProductLinkLabel': { fr: 'Ajouter un produit', en: 'Add a new product' },\n  //\n\n  'Btn.saveLabel': { fr: 'Sauvegarder', en: 'Save' },\n\n  //\n} as TLang;\n"],"names":["i18n","window","ProductUpdateInfoTab","props","form","instance","onUpdate","errors","className","ProductInfoUpdateForm","title","lang","context","fields","onSuccess","data","console","log","error","meta_title","meta_slug","meta_description","value","categories","sectionProps","text","footer","name","label","formLang","category","retail_price","is_pre_sale","values","is_pre_sale_text","is_on_sale","sale_price","description","is_oos","is_explicit","ProductImgReorderGridItem","img","order","setOrder","onOrderChange","draggable","onDragEnter","e","onDragEnd","slug","StaffImg","swapPosition","position","then","catch","err","ProductImgDeleteButton","ProductUpdateMediaTab","cover_data","images_data","React","isReordering","setReordering","productInstance","res","actions","onClick","getCN","map","export","i","to","from","key","CoverCard","image","ImageCard","swapCover","onDelete","filter","images","undefined","cover","r","update","x","border","AttributeDeleteButton","onFailure","rest","renderHeader","renderFooter","setOpen","deleteAttribute","render","AttributeUpdateForm","useForm","onSubmit","preventDefault","patchAttribute","handleError","AttrNameField","AttrValueField","formDefaultValues","AttributeCreateForm","postAttribute","setValues","placeholder","maxLength","minLength","required","SizeSection","addSize","setAddSize","sizes","size","AttributeSection","addAtr","setAddAtr","attributes","attr","ProductUpdateInventoryTab","ProductUpdateSettingsTab","navigate","useNavigate","status","k","formFields","is_published","ProductStaffUpdateView","back","useParams","prodSlug","useSearchParams","params","ctx","SharedDataCtx","product","forEach","f","mapData2Values","StaffProduct","updateData","d","requiredPerms","addForwardSlash","QButtons","index","target","fr","en"],"sourceRoot":""}