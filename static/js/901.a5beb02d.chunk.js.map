{"version":3,"file":"static/js/901.a5beb02d.chunk.js","mappings":"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","sources":["../../../../shopy/shopy-storejs/src/product/views.Update/tabs.InfoUpdate.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/components.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/tabs.MediaUpdate.tsx","../../../../shopy/shopy-storejs/src/productAttribute/buttons.tsx","../../../../shopy/shopy-storejs/src/productAttribute/index.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/tabs.InventoryUpdate.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/tabs.SettingsUpdate.tsx","../../../../shopy/shopy-storejs/src/product/views.Update/views.Update.tsx","../../../../shopy/shopy-storejs/src/product/views.lang.ts"],"sourcesContent":["import * as React from 'react';\n\nimport lang from '../views.lang';\nimport formLang from '../forms/lang';\n\nimport Staff from '@miq/staffjs';\nimport Form, { MetaDescriptionField, MetaSlugField, MetaTitleField, useForm } from '@miq/formjs';\n\nimport { CategoryChoicesType } from '../../types';\nimport { ProductForm, ProductUpdateForm } from '../forms';\n\nimport { TProductUpdateTabProps } from './utils';\n\nconst { i18n } = window;\n\ntype TProps = TProductUpdateTabProps<{ categories: CategoryChoicesType; form: ReturnType<typeof useForm> }>;\n\nexport default function ProductUpdateInfoTab(props: TProps) {\n  const { form, instance, onUpdate } = props;\n  const { errors } = form;\n\n  return (\n    <>\n      <div className=\"border-bottom mb-4\">\n        <ProductInfoUpdateForm {...props} />\n      </div>\n\n      <Staff.Section title={i18n(lang, 'SeoTab.title')}>\n        <ProductUpdateForm\n          context={form}\n          {...{\n            instance,\n            fields: ['meta_title', 'meta_description', 'meta_slug'],\n            onSuccess: ({ data }) => {\n              onUpdate(data);\n            },\n          }}\n        >\n          <MetaTitleField error={errors.meta_title} />\n          <MetaSlugField error={errors.meta_slug} />\n          <MetaDescriptionField error={errors.meta_description} />\n\n          <div className=\"d-flex justify-content-center\">\n            <Form.Submit value={i18n(lang, 'Btn.saveLabel')} className=\"btn-primary-3 btn-md min-w-25 fw-bold\" />\n          </div>\n        </ProductUpdateForm>\n      </Staff.Section>\n    </>\n  );\n}\n\nconst fields = [\n  'name',\n  'category',\n  'description',\n  'retail_price',\n  'is_pre_sale',\n  'is_pre_sale_text',\n  'is_pre_sale_dt',\n  'is_on_sale',\n  'sale_price',\n  'is_oos',\n  'is_explicit',\n];\n\nconst ProductInfoUpdateForm = (props: TProps) => {\n  const { form, instance, categories, onUpdate } = props;\n  const { errors } = form;\n  const sectionProps = { title: i18n(lang, 'InfoTab.title'), text: i18n(lang, 'InfoTab.text') };\n\n  const { supplier_item } = instance;\n\n  return (\n    <ProductUpdateForm\n      context={form}\n      {...{\n        instance,\n        fields,\n        onSuccess: ({ data }) => {\n          onUpdate?.(data);\n        },\n      }}\n    >\n      <Staff.Section\n        {...sectionProps}\n        footer={\n          <div className=\"d-flex justify-content-center\">\n            <Form.Submit value={i18n(lang, 'Btn.saveLabel')} className=\"btn-md btn-primary min-w-25 fw-bold\" />\n          </div>\n        }\n      >\n        <ProductForm.NameField\n          error={errors.name}\n          label={window.i18n(formLang, 'NField.label')}\n          text={window.i18n(formLang, 'NField.text')}\n        />\n\n        <div className=\"d-grid grid-md-2 gap-1\">\n          <ProductForm.CategoryField\n            error={errors.category}\n            categories={categories}\n            // label={window.i18n(formLang, 'CatField.label')}\n            label={\n              <div>\n                <span>{window.i18n(formLang, 'CatField.label')}</span>\n                {supplier_item?.category && (\n                  <span className=\"text-sm text-muted ms-1\">({supplier_item?.category})</span>\n                )}\n              </div>\n            }\n          />\n\n          <div>\n            <ProductForm.RetailPriceField\n              label={\n                <div>\n                  <span>{window.i18n(formLang, 'RetailPField.label')}</span>\n                  {supplier_item?.cost && (\n                    <span className=\"text-sm text-muted ms-1\">\n                      ({supplier_item?.cost_data?.amountWithSymbol}\n                      {' - '}\n                      {supplier_item?.cost_at_rate_data?.amountWithSymbol})\n                    </span>\n                  )}\n                </div>\n              }\n              error={errors.retail_price}\n            />\n          </div>\n        </div>\n\n        <ProductForm.PresaleCheckboxField\n          error={errors.is_pre_sale}\n          label={window.i18n(formLang, 'PresaleField.label')}\n        />\n        {form.values.is_pre_sale && (\n          <ProductForm.PresaleTextField\n            text={window.i18n(formLang, 'PresaleTextField.text')}\n            error={errors.is_pre_sale_text}\n          />\n        )}\n\n        <ProductForm.OnSaleCheckboxField error={errors.is_on_sale} label={window.i18n(formLang, 'OnsaleField.label')} />\n        {form.values.is_on_sale && (\n          <ProductForm.SalePriceField label={window.i18n(formLang, 'SalePField.label')} error={errors.sale_price} />\n        )}\n\n        <ProductForm.DescriptionField\n          error={errors.description}\n          label={window.i18n(formLang, 'DField.label')}\n          text={window.i18n(formLang, 'DField.text')}\n        />\n\n        <div className=\"my-4\">\n          <ProductForm.OosCheckboxField error={errors.is_oos} />\n        </div>\n\n        <div className=\"my-4\">\n          <ProductForm.IsExplicitCheckboxField error={errors.is_explicit} />\n        </div>\n      </Staff.Section>\n    </ProductUpdateForm>\n  );\n};\n","import * as React from 'react';\nimport { Icons, TImg } from '@miq/componentjs';\n\nimport { StaffImg, StaffImgDeleteButton, TImgButtonDeleteProps } from '@miq/staffjs';\n\nexport const ProductImgReorderGridItem = ({\n  img,\n  ...props\n}: {\n  img: TImg;\n  order: TImg | null;\n  setOrder: React.Dispatch<React.SetStateAction<TImg | null>>;\n  onOrderChange: (p: { from: TImg; to: TImg }) => void;\n}) => {\n  const { order, setOrder, onOrderChange } = props;\n\n  return (\n    <div\n      draggable\n      onDragEnter={(e) => setOrder(img)}\n      onDragEnd={(e) => {\n        if (!order || order.slug === img.slug) return;\n\n        StaffImg(img)\n          .swapPosition(order.slug!, order.position)\n          .then(({ data }) => onOrderChange(data))\n          .catch((err) => {\n            console.error(err);\n          });\n      }}\n    >\n      <StaffImg.Square {...img} className=\"rounded\" />\n    </div>\n  );\n};\n\nexport const ProductImgDeleteButton = (props: TImgButtonDeleteProps) => (\n  <StaffImgDeleteButton {...props}>\n    <Icons.Trash />\n  </StaffImgDeleteButton>\n);\n","import * as React from 'react';\n\n// import lang from '../views.lang';\n\nimport Staff, { StaffImg, StaffImgAddButton, TSImgInstance } from '@miq/staffjs';\nimport { getCN } from '@miq/utiljs';\nimport { Button, Icons, TImg, TViewSectionProps } from '@miq/componentjs';\n\nimport { ProductImagesAddButton } from '../buttons';\nimport { TProductUpdateTabProps } from './utils';\nimport { ProductImgDeleteButton, ProductImgReorderGridItem } from './components';\n\nexport default function ProductUpdateMediaTab(props: TProductUpdateTabProps) {\n  const { instance, onUpdate } = props;\n  const { cover_data, images_data } = instance;\n\n  const [isReordering, setReordering] = React.useState<boolean>(false);\n  const [order, setOrder] = React.useState<TImg | null>(null);\n\n  return (\n    <Staff.Section\n      title={\n        <ProductImagesAddButton\n          productInstance={instance}\n          onSuccess={(res: any) => onUpdate?.(res.data)}\n          className=\"d-flex align-items-center\"\n        >\n          <Icons.CloudUpload />\n          <span className=\"ms-1 d-none d-md-block\">Upload images</span>\n        </ProductImagesAddButton>\n      }\n      actions={\n        <>\n          <div className=\"d-none d-md-block\">\n            <Button\n              onClick={() => setReordering(!isReordering)}\n              className={getCN(['btn-round', isReordering ? 'btn-primary' : 'btn-secondary-4'])}\n            >\n              <Icons.DragDrop />\n            </Button>\n          </div>\n        </>\n      }\n    >\n      {isReordering ? (\n        <div className=\"d-grid grid-3 gap-2\">\n          {images_data?.map((img) => (\n            <ProductImgReorderGridItem\n              {...{ img, order, setOrder }}\n              onOrderChange={(data) => {\n                onUpdate?.({\n                  ...instance.export(),\n                  images_data: images_data.map((i) => {\n                    if (i.slug === data?.to?.slug) return data?.from;\n                    if (i.slug === data?.from?.slug) return data?.to;\n                    return i;\n                  }),\n                });\n                setOrder(null);\n              }}\n              key={img.slug}\n            />\n          ))}\n        </div>\n      ) : (\n        <div className=\"d-grid grid-2 grid-md-3 grid-lg-4 gap-2\">\n          <CoverCard img={StaffImg(cover_data)} productInstance={instance} {...{ onUpdate }} />\n\n          {instance?.images_data?.map((image) => {\n            const img = StaffImg(image);\n            const swapCover = () => instance.swapCover(img.slug!).then(({ data }: any) => onUpdate(data));\n            return (\n              <ImageCard\n                img={img}\n                actions={<Staff.Button onClick={swapCover}>Set as cover</Staff.Button>}\n                onDelete={() =>\n                  onUpdate({\n                    ...instance.export(),\n                    images_data: instance.images_data!.filter((i) => i.slug !== img.slug),\n                    images: instance.images!.filter((i) => i !== img.slug),\n                  })\n                }\n                key={img.slug}\n              />\n            );\n          })}\n        </div>\n      )}\n    </Staff.Section>\n  );\n}\n\ntype TImgCardProps = Omit<TViewSectionProps, 'title'> & { img: TSImgInstance; onDelete: (p: TImg) => void };\n\nconst CoverCard = (\n  props: Omit<TImgCardProps, 'onDelete'> & {\n    productInstance: TProductUpdateTabProps['instance'];\n    onUpdate: TProductUpdateTabProps['onUpdate'];\n  }\n) => {\n  const { img, onUpdate, productInstance } = props;\n\n  if (!img.slug)\n    return (\n      <div className=\"p-cover-add-btn d-flex align-items-center justify-content-center flex-column text-center border-1 rounded p-3\">\n        <p className=\"text-sm text-muted mb-3\">Ce produit n'a pas d'image principale</p>\n        <StaffImgAddButton\n          onSuccess={(r) => {\n            productInstance\n              .update({ cover: r?.data.slug })\n              .then((x) => onUpdate(x?.data))\n              .catch((err) => {});\n          }}\n          label=\"Ajouter une image\"\n          className=\"btn-primary-3 btn-md\"\n        />\n      </div>\n    );\n\n  return (\n    <ImageCard\n      {...props}\n      onDelete={() => onUpdate({ ...productInstance.export(), cover_data: undefined, cover: undefined })}\n    />\n  );\n};\n\nconst ImageCard = ({ img, actions, ...props }: TImgCardProps) => {\n  return (\n    <Staff.Section\n      border\n      title={\n        <ProductImgDeleteButton onSuccess={(r) => props.onDelete(r?.data)} instance={img} className=\"btn-danger-3\" />\n      }\n      actions={actions}\n      className=\"p-image-card\"\n    >\n      <StaffImg.Image {...img.export()} />\n    </Staff.Section>\n  );\n};\n","import * as React from 'react';\n\nimport { TFormCallbackProps } from '@miq/formjs';\nimport { Button, ConfirmButton, Icons } from '@miq/componentjs';\n\nimport { TStaffProductInstance } from '../product/models';\nimport type { TProductAttribute } from '../types';\n\nexport function AttributeDeleteButton({\n  data,\n  productInstance,\n  ...props\n}: { data: TProductAttribute; productInstance: TStaffProductInstance } & TFormCallbackProps) {\n  if (!data?.slug || !productInstance?.slug) return null;\n  const { onSuccess, onFailure, ...rest } = props;\n\n  return (\n    <ConfirmButton\n      {...rest}\n      renderHeader={() => <div>Supprimer un attribut</div>}\n      renderFooter={({ setOpen }) => (\n        <div className=\"d-flex justify-content-between align-items-center\">\n          <Button onClick={() => setOpen(false)}>Annuler</Button>\n\n          <Button\n            onClick={() =>\n              productInstance\n                .deleteAttribute(data.slug)\n                .then((res) => {\n                  setOpen(false);\n                  return onSuccess?.(res);\n                })\n                .catch((err) => onFailure?.(err))\n            }\n            className=\"btn-danger\"\n          >\n            Supprimer\n          </Button>\n        </div>\n      )}\n      render={() => (\n        <div className=\"p-3\">\n          Are you sure you want to delete this attribute:\n          <div className=\"fw-bold\">{data.name}</div>\n        </div>\n      )}\n      className=\"attr-delete-button btn-danger-3\"\n    >\n      <Icons.Trash />\n    </ConfirmButton>\n  );\n}\n","import * as React from 'react';\n\nimport Form, { TextFieldProps, TFormCallbackProps, useForm } from '@miq/formjs';\n\nimport type { TProductAttribute } from '../types';\nimport { StaffProduct } from '../product/models';\n\nimport { AttributeDeleteButton } from './buttons';\n\ntype TAttrFormProps = TFormCallbackProps & {\n  productInstance: ReturnType<typeof StaffProduct>;\n};\n\nexport const AttributeUpdateForm = ({\n  data,\n  productInstance,\n  ...props\n}: TAttrFormProps & { data: TProductAttribute }) => {\n  const form = useForm<TProductAttribute>({ name: data.name || '', value: data.value || '' });\n\n  if (!data?.slug || !productInstance?.slug) return null;\n  const { onSuccess, onFailure } = props;\n\n  return (\n    <Form\n      context={form}\n      onSubmit={(e) => {\n        e.preventDefault();\n\n        productInstance\n          .patchAttribute(data.slug, form.values)\n          .then((res) => onSuccess?.(res))\n          .catch((err) => {\n            form.handleError(err);\n            return onFailure?.(err);\n          });\n      }}\n    >\n      <div className=\"d-grid grid-md-6 gap-1\">\n        <div className=\"span-md-2\">\n          <AttrNameField error={form.errors.name} />\n        </div>\n\n        <div className=\"span-md-3\">\n          <AttrValueField error={form.errors.value} className=\"\" />\n        </div>\n\n        <div className=\"span-md-1\">\n          <Form.Submit value=\"Save\" className=\"btn-primary-2 me-2\" />\n          <AttributeDeleteButton {...{ productInstance, data, onSuccess, onFailure }} />\n        </div>\n      </div>\n    </Form>\n  );\n};\n\nconst formDefaultValues = { name: '', value: '' };\n\nexport const AttributeCreateForm = ({ productInstance, ...props }: TAttrFormProps) => {\n  const form = useForm(formDefaultValues);\n\n  if (!productInstance?.slug) return null;\n\n  return (\n    <Form\n      context={form}\n      onSubmit={(e) => {\n        e.preventDefault();\n\n        productInstance\n          .postAttribute(form.values)\n          .then((res) => {\n            form.setValues(formDefaultValues);\n            return props?.onSuccess?.(res);\n          })\n          .catch((err) => {\n            form.handleError(err);\n            return props?.onFailure?.(err);\n          });\n      }}\n    >\n      <div className=\"d-grid grid-md-6 gap-1\">\n        <div className=\"span-md-2\">\n          <AttrNameField error={form.errors.name} />\n        </div>\n\n        <div className=\"span-md-3\">\n          <AttrValueField error={form.errors.value} className=\"\" />\n        </div>\n\n        <div className=\"span-md-1\">\n          <Form.Submit value=\"Save\" className=\"btn-primary-2\" />\n        </div>\n      </div>\n    </Form>\n  );\n};\n\n// =============================================================================\n//                   FIELDS\n// =============================================================================\n\nconst AttrNameField = (props: TextFieldProps) => {\n  const { label, text, error, placeholder = `Entrez le nom de l'attribut ...`, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Text placeholder={placeholder} maxLength={30} minLength={2} {...rest} required name=\"name\" />\n    </Form.Field>\n  );\n};\n\nconst AttrValueField = (props: TextFieldProps) => {\n  const { label, text, error, placeholder = `Entrez la valuer de l'attribut ...`, ...rest } = props;\n\n  return (\n    <Form.Field {...{ label, text, error }}>\n      <Form.Text placeholder={placeholder} maxLength={99} minLength={2} {...rest} required name=\"value\" />\n    </Form.Field>\n  );\n};\n","import * as React from 'react';\n\nimport lang from '../views.lang';\n\nimport Staff from '@miq/staffjs';\nimport { Button } from '@miq/componentjs';\n\nimport { SizeAddForm, SizeUpdateForm } from '../../productSize';\nimport { AttributeCreateForm, AttributeUpdateForm } from '../../productAttribute';\n\nimport { TProductUpdateTabProps } from './utils';\n\nconst { i18n } = window;\n\nconst SizeSection = (props: TProductUpdateTabProps) => {\n  const [addSize, setAddSize] = React.useState(false);\n  const { instance, onUpdate } = props;\n\n  return (\n    <Staff.Section\n      title=\"Tailles\"\n      text=\"Ajouter des tailles\"\n      actions={\n        <Button onClick={() => setAddSize(!addSize)} className=\"btn-primary-3\">\n          Ajouter une taille\n        </Button>\n      }\n    >\n      {addSize && (\n        <Staff.Section text=\"Ajouter une taille\">\n          <SizeAddForm productInstance={instance} onSuccess={({ data }) => onUpdate(data)} />\n        </Staff.Section>\n      )}\n\n      {instance.sizes?.map((size) => {\n        return (\n          <SizeUpdateForm\n            data={size}\n            productInstance={instance}\n            onSuccess={({ data }) => onUpdate(data)}\n            key={size.slug}\n          />\n        );\n      })}\n    </Staff.Section>\n  );\n};\n\nconst AttributeSection = (props: TProductUpdateTabProps) => {\n  const { instance, onUpdate } = props;\n  const [addAtr, setAddAtr] = React.useState(false);\n\n  return (\n    <Staff.Section\n      title=\"Attributs\"\n      actions={\n        <Button onClick={() => setAddAtr(!addAtr)} className=\"btn-primary-3\">\n          Ajouter un attribut\n        </Button>\n      }\n    >\n      {addAtr && (\n        <Staff.Section text=\"Ajouter un attribut au produit.\">\n          <AttributeCreateForm productInstance={instance} onSuccess={({ data }) => onUpdate(data)} />\n        </Staff.Section>\n      )}\n\n      {instance?.attributes?.map((attr) => (\n        <div className=\"mb-1\" key={attr.slug}>\n          <AttributeUpdateForm data={attr} productInstance={instance} onSuccess={({ data }) => onUpdate(data)} />\n        </div>\n      ))}\n    </Staff.Section>\n  );\n};\n\nexport default function ProductUpdateInventoryTab(props: TProductUpdateTabProps) {\n  return (\n    <Staff.Section title={i18n(lang, 'InventoryTab.title')}>\n      <SizeSection {...props} />\n      <AttributeSection {...props} />\n    </Staff.Section>\n  );\n}\n","import * as React from 'react';\nimport { To, useNavigate } from 'react-router-dom';\n\nimport lang from '../views.lang';\n\nimport Staff from '@miq/staffjs';\n\nimport { ProductDeleteButton } from '../buttons';\n\nimport { TProductUpdateTabProps } from './utils';\n\nconst { i18n } = window;\n\nexport default function ProductUpdateSettingsTab(props: TProductUpdateTabProps<{ to: To }>) {\n  const navigate = useNavigate();\n  const { instance, to } = props;\n\n  return (\n    <Staff.Section title={i18n(lang, 'SettingsTab.title')}>\n      <Staff.Section\n        title={i18n(lang, 'SettingsTab.deleteSectionTitle')}\n        actions={\n          <ProductDeleteButton\n            {...{ instance }}\n            onSuccess={() => navigate(to)}\n            onFailure={(res) => {\n              if (res.status === 404) navigate('../');\n            }}\n          />\n        }\n      />\n    </Staff.Section>\n  );\n}\n","import * as React from 'react';\nimport { useParams, useSearchParams } from 'react-router-dom';\n\nimport './views.update.scss';\nimport lang from '../views.lang';\n\nimport type { TLang } from '@miq/utiljs';\nimport type { TSDState } from '@miq/contextjs';\nimport type { CategoryChoicesType, TProduct } from '../../types';\n\nimport Staff from '@miq/staffjs';\nimport { useForm } from '@miq/formjs';\nimport { QueryTabs } from '@miq/componentjs';\nimport { SharedDataCtx } from '@miq/contextjs';\nimport { addForwardSlash } from '@miq/utiljs';\n\nimport { StaffProduct } from '../models';\nimport { PublishButton, UnPublishButton } from '../../components';\n\nimport { ProductCardItem } from '../components';\n\nimport ProductUpdateInfoTab from './tabs.InfoUpdate';\nimport ProductUpdateMediaTab from './tabs.MediaUpdate';\nimport ProductUpdateInventoryTab from './tabs.InventoryUpdate';\nimport ProductUpdateSettingsTab from './tabs.SettingsUpdate';\n\nconst i18n = (k: keyof TLang) => window.i18n(lang, k);\n\n//#region FIELDS\n\nconst formInfoFields = [\n  'name',\n  'category',\n  'description',\n  'retail_price',\n  'is_pre_sale',\n  'is_pre_sale_text',\n  'is_pre_sale_dt',\n  'is_oos',\n  'is_on_sale',\n  'sale_price',\n  'is_explicit',\n];\nconst configFormFields = ['cost', 'color_group_pk', 'stage'];\nconst supplierFormFields = [\n  'supplier_name',\n  'supplier_item_id',\n  'supplier_item_sn',\n  'supplier_item_category',\n  'supplier_item_url',\n  'supplier_item_cost',\n  'supplier_item_cost_currency',\n  'supplier_order_id',\n];\nconst seoFields = ['meta_title', 'meta_description', 'meta_slug'];\nconst formFields = [...formInfoFields, ...configFormFields, ...supplierFormFields, ...seoFields];\nconst formDefaultValues: any = {\n  retail_price: 0.0,\n  is_pre_sale: false,\n  sale_price: 0.0,\n  is_on_sale: false,\n  is_published: false,\n};\nconst mapData2Values = (data: any = {}) => {\n  const values: any = {};\n  formFields.forEach((f) => {\n    const value = data?.[f];\n    if (value == null) {\n      values[f] = formDefaultValues[f] ?? '';\n      return;\n    }\n    values[f] = value;\n  });\n  return { ...formDefaultValues, ...values };\n};\n\n//#endregion FIELDS\n\n//#region ProductStaffUpdateView\n\ntype TContext = TSDState<{\n  product: TProduct;\n  // stages: TProductStageData[];\n  categories: CategoryChoicesType;\n}>;\n\nexport default function ProductStaffUpdateView(props: any) {\n  let { back } = props;\n  const { prodSlug } = useParams();\n  const [params] = useSearchParams();\n\n  const ctx = React.useContext<TContext>(SharedDataCtx);\n  const { product, categories } = ctx;\n\n  const form = useForm(mapData2Values(product));\n\n  const instance = StaffProduct(product);\n\n  const updateData = (d: TProduct) => {\n    ctx.updateData({ ...ctx, product: { ...product, ...d } });\n  };\n\n  return (\n    <Staff.View\n      className=\"product-staff-update-view\"\n      requiredPerms={['store.change_product']}\n      title={<ProductCardItem data={product} />}\n      back={`${addForwardSlash(back)}${`${params}` ? `?${params}` : ''}`}\n      actions={\n        instance.is_published ? (\n          <UnPublishButton instance={instance} onSuccess={({ data }) => updateData(data)}>\n            Dépublier\n          </UnPublishButton>\n        ) : (\n          <PublishButton\n            instance={instance}\n            onSuccess={({ data }) => updateData(data)}\n            onFailure={(err) => form.handleError(err)}\n          >\n            Publier\n          </PublishButton>\n        )\n      }\n    >\n      <Staff.Section title={<div className=\"mb-1\">{QButtons}</div>}>\n        <QueryTabs>\n          <QueryTabs.Tab index>\n            <ProductUpdateInfoTab {...{ form, instance }} categories={categories} onUpdate={updateData} />\n          </QueryTabs.Tab>\n\n          <QueryTabs.Tab value=\"media\">\n            <ProductUpdateMediaTab {...{ instance }} onUpdate={updateData} />\n          </QueryTabs.Tab>\n\n          <QueryTabs.Tab value=\"inventory\">\n            <ProductUpdateInventoryTab {...{ instance }} onUpdate={updateData} />\n          </QueryTabs.Tab>\n\n          <QueryTabs.Tab value=\"settings\">\n            <ProductUpdateSettingsTab {...{ instance }} onUpdate={updateData} to={back} />\n          </QueryTabs.Tab>\n        </QueryTabs>\n      </Staff.Section>\n    </Staff.View>\n  );\n}\n\n//#endregion ProductStaffUpdateView\n\nconst QButtons = (\n  <div className=\"query-buttons\">\n    <QueryTabs.Button index target=\"__tab\" className=\"btn-md\">\n      Info\n    </QueryTabs.Button>\n    <QueryTabs.Button target=\"__tab\" value=\"media\" className=\"btn-md\">\n      {i18n('MediaTab.title')}\n    </QueryTabs.Button>\n    <QueryTabs.Button target=\"__tab\" value=\"inventory\" className=\"btn-md\">\n      {i18n('InventoryTab.title')}\n    </QueryTabs.Button>\n    <QueryTabs.Button target=\"__tab\" value=\"settings\" className=\"btn-md\">\n      {i18n('SettingsTab.title')}\n    </QueryTabs.Button>\n  </div>\n);\n","import type { TLang } from '@miq/utiljs';\n\nexport default {\n  //\n  'InfoTab.title': { fr: 'Détails', en: 'Details' },\n  'InfoTab.text': { fr: 'Modifier les informations de ce produit', en: \"Update product's info\" },\n\n  //\n  'SeoTab.title': { fr: 'Seo', en: 'Seo' },\n\n  //\n  'InventoryTab.title': { fr: 'Inventaire', en: 'Inventory' },\n\n  //\n  'MediaTab.title': { fr: 'Média', en: 'Media' },\n\n  //\n  'SettingsTab.title': { fr: 'Paramètres', en: 'Settings' },\n  'SettingsTab.deleteSectionTitle': { fr: 'Supprimer ce produit', en: 'Delete product' },\n\n  //\n  'CreateView.title': { fr: 'Ajouter un produit', en: 'Add product' },\n\n  //\n  'ListView.title': { fr: 'Produits', en: 'Products' },\n  'ListView.actionLinkLabel': { fr: 'Ajouter', en: 'Add product' },\n  'ListView.noItemText': { fr: 'Ajouter un produit pour commencer', en: 'Add products to your shop to get started' },\n  'ListView.addProductLinkLabel': { fr: 'Ajouter un produit', en: 'Add a new product' },\n  //\n\n  'Btn.saveLabel': { fr: 'Sauvegarder', en: 'Save' },\n\n  //\n} as TLang;\n"],"names":["i18n","window","ProductUpdateInfoTab","props","form","instance","onUpdate","errors","className","ProductInfoUpdateForm","title","lang","context","fields","onSuccess","data","error","meta_title","meta_slug","meta_description","value","categories","sectionProps","text","supplier_item","footer","name","label","formLang","category","cost","cost_data","amountWithSymbol","cost_at_rate_data","retail_price","is_pre_sale","values","is_pre_sale_text","is_on_sale","sale_price","description","is_oos","is_explicit","ProductImgReorderGridItem","img","order","setOrder","onOrderChange","draggable","onDragEnter","e","onDragEnd","slug","StaffImg","swapPosition","position","then","catch","err","console","ProductImgDeleteButton","ProductUpdateMediaTab","cover_data","images_data","React","isReordering","setReordering","productInstance","res","actions","onClick","getCN","map","export","i","to","from","key","CoverCard","image","ImageCard","swapCover","onDelete","filter","images","undefined","cover","r","update","x","border","AttributeDeleteButton","onFailure","rest","renderHeader","renderFooter","setOpen","deleteAttribute","render","AttributeUpdateForm","useForm","onSubmit","preventDefault","patchAttribute","handleError","AttrNameField","AttrValueField","formDefaultValues","AttributeCreateForm","postAttribute","setValues","placeholder","maxLength","minLength","required","SizeSection","addSize","setAddSize","sizes","size","AttributeSection","addAtr","setAddAtr","attributes","attr","ProductUpdateInventoryTab","ProductUpdateSettingsTab","navigate","useNavigate","status","k","formFields","is_published","ProductStaffUpdateView","back","useParams","prodSlug","useSearchParams","params","ctx","SharedDataCtx","product","forEach","f","mapData2Values","StaffProduct","updateData","d","requiredPerms","addForwardSlash","QButtons","index","target","fr","en"],"sourceRoot":""}