{"version":3,"sources":["../../../../packages/miq-sharedjs/src/contexts/src/SharedDataProvider.jsx","../../../../packages/miq-sharedjs/src/editor/src/Section/utils.jsx","../../../../packages/miq-sharedjs/src/utils/src/constants.jsx","../../../../packages/miq-sharedjs/src/utils/src/requests.jsx","../../../../packages/miq-sharedjs/src/utils/src/helpers.jsx","../../../../packages/miq-sharedjs/src/utils/src/services.jsx","../../../../packages/miq-sharedjs/src/utils/src/dates.jsx","../../../../packages/miq-adminjs/src/settings/utils.jsx","../../../../packages/miq-adminjs/src/utils.jsx","../../../../packages/miq-sharedjs/src/editor/src/Section/TextSection/index.jsx","../../../../packages/miq-sharedjs/src/editor/src/Section/index.jsx","../../../../packages/miq-sharedjs/src/editor/src/SectionsEditor/utils.jsx","../../../../packages/miq-sharedjs/src/editor/src/SectionsEditor/index.jsx","../../../../packages/miq-sharedjs/src/editor/src/index.jsx","admin/index.jsx","shop/public/IndexView.jsx","shop/public/index.jsx","index.jsx","../../../../packages/miq-adminjs/src/views/ViewHeader.jsx","../../../../packages/miq-adminjs/src/views/index.jsx","../../../../packages/miq-adminjs/src/views/ViewSection.jsx","../../../../packages/miq-sharedjs/src/editor/src/Section/section-ui.jsx","../../../../packages/miq-sharedjs/src/editor/src/Section/section-renderers.jsx","../../../../packages/miq-adminjs/src/Layout/components.jsx","../../../../packages/miq-sharedjs/src/editor/src/Section/section-components.jsx","../../../../packages/miq-sharedjs/src/components/src/icons.jsx","../../../../packages/miq-sharedjs/src/components/src/inputs/SearchTextInput.jsx","../../../../packages/miq-sharedjs/src/components/src/inputs/TextareaX/index.jsx","../../../../packages/miq-sharedjs/src/components/src/Modal/index.jsx","../../../../packages/miq-sharedjs/src/components/src/Toast/ToastItem.jsx","../../../../packages/miq-sharedjs/src/components/src/Toast/index.jsx","../../../../packages/miq-sharedjs/src/components/src/Toast/useToast.jsx","../../../../packages/miq-sharedjs/src/components/src/Image/ImgPlaceholderDiv.jsx","../../../../packages/miq-sharedjs/src/components/src/Image/Img.jsx","../../../../packages/miq-sharedjs/src/components/src/Image/ImgSquare.jsx","../../../../packages/miq-sharedjs/src/components/src/File/index.jsx","../../../../packages/miq-sharedjs/src/components/src/buttons.jsx","../../../../packages/miq-sharedjs/src/components/src/Image/ImgUpdloadButton.jsx","../../../../packages/miq-sharedjs/src/components/src/Image/ImgDeleteIconButton.jsx","../../../../packages/miq-sharedjs/src/components/src/Image/components.jsx","../../../../packages/miq-sharedjs/src/components/src/User/Avatar.jsx","../../../../packages/miq-sharedjs/src/components/src/Pagination.jsx","../../../../packages/miq-sharedjs/src/components/src/Jumbotron/index.jsx","../../../../packages/miq-sharedjs/src/components/src/Table/index.jsx","../../../../packages/miq-sharedjs/src/components/src/Masonry/index.jsx","../../../../packages/miq-sharedjs/src/components/src/Loaders.jsx","../../../../packages/miq-adminjs/src/images/components.jsx","../../../../packages/miq-adminjs/src/images/utils.jsx","../../../../packages/miq-adminjs/src/settings/GeneralLiveSettingsUpdateSection.jsx","../../../../packages/miq-sharedjs/src/form/src/FormCtx.jsx","../../../../packages/miq-sharedjs/src/form/src/TextInput.jsx","../../../../packages/miq-sharedjs/src/form/src/Label.jsx","../../../../packages/miq-sharedjs/src/form/src/CheckboxInput.jsx","../../../../packages/miq-sharedjs/src/form/src/SelectInput.jsx","../../../../packages/miq-sharedjs/src/form/src/useForm.jsx","../../../../packages/miq-sharedjs/src/form/src/index.jsx","../../../../packages/miq-adminjs/src/Layout/index.jsx","../../../../packages/miq-adminjs/src/components.jsx","../../../../packages/miq-adminjs/src/account/ProfileUpdateView.jsx","../../../../packages/miq-adminjs/src/settings/index.jsx"],"names":["SharedDataCtx","createContext","SharedDataProvider","children","useState","isLoaded","value","setValue","path","window","location","href","useEffect","getSharedData","then","data","catch","err","sharedCtx","useMemo","updateUser","userData","user","updateSite","siteData","site","Provider","sectionServices","PropTypes","shape","slug","string","isRequired","isEdit","bool","docSlug","this","get","StaffService","sectionsReducer","state","results","action","type","payload","addOrUpdateArrayObject","filter","IS_DEV","process","DOMAIN","origin","API_ENDPOINT","STAFF_PATH","REACT_STAFF_PATH","axios","defaults","xsrfCookieName","xsrfHeaderName","headers","post","HTTP","create","baseURL","timeout","withCredentials","onUploadProgress","progressEvt","API","arr","obj","key","append","arrKey","map","i","includes","Promise","resolve","reject","a","sharedData","document","getElementById","console","log","base","URL","pathname","search","res","status","parser","DOMParser","doc","parseFromString","JSON","parse","textContent","getImgUrl","src","domain","getClassName","df","Array","isArray","Boolean","join","addForwardSlash","str","endsWith","name","Error","getService","request","params","postService","values","config","patchService","oldValues","isEqual","isUpdated","patch","services","delete","deleted","Service","deletePath","deleteService","formatDate","date","format","weekday","month","day","locale","Intl","NumberFormat","resolvedOptions","isString","isDate","date_time","DateTimeFormat","Date","siteServices","settingSlug","patchPath","ENDPOINT","hasPerms","perms","requiredPerms","perm","length","baseServices","TxtSectionEdit","props","className","TxtSectionPreview","context","TextSection","forwardRef","ref","id","Icon","Icons","TextareaT","label","displayName","SectionCtx","Section","useRef","setEdit","ctx","SectionComponent","lazy","getSectionComponent","fallback","indexStaffServices","SectionsEditor","Sections","sourceSlug","sourceType","sections","setSections","list","source","source_type","handleSectionChange","newData","item","onDataChange","SectionEditor","EditorSections","useReducer","dispatch","StaffShopRoutes","Dashboard","title","ShopPublicIndexView","useContext","CartPublicView","ProductPublicView","ProductsPublicView","PublicShopRoutes","toastCtx","useToast","component","IndexView","root","ReactDOM","render","StrictMode","match","header","footer","AccountNavLink","SettingsNavLink","DashboardNavLink","NavLink","to","Bookmark","SettingsLayout","AccountProfileUpdateView","ViewHeader","back","text","actions","BackButton","ArrowLeft","AdminView","rest","TabNavLinks","urls","exact","SectionBody","SectionHeader","SectionFooter","marked","setOptions","renderer","Renderer","highlight","code","lang","hljs","require","language","getLanguage","pedantic","gfm","breaks","sanitize","smartLists","smartypants","xhtml","componentToHtml","Component","ReactDOMServer","renderToStaticMarkup","image","images","images_data","AdminNavLink","is_staff","AdminSidebar","House","Person","first_name","Gear","AdminRoute","SectionDeleteButton","Trash","onClick","onSuccess","SectionEditButton","Eye","PencilSquare","SectionImgUploadButton","imgSlug","section","onCreate","onUpdate","handleUpload","imgData","isPatch","push","img","html","sectionData","SectionEditForm","form","TitleInput","TextInput","placeholder","ImgAltTextInput","onSave","alt_text","handleError","required","error","errors","maxLength","Telephone","xmlns","width","height","fill","viewBox","d","Share","ArrowRight","fillRule","ArrowUpCircle","CloudArrowUp","Image","Markdown","PersonCircle","PersonBadge","PersonPlus","Plus","X","ChatLeftText","Search","PaperClip","XCircle","Camera","Building","getFileIcon","ext","FilePdf","FileWord","FileZip","FileImage","File","FileEarmarkText","Files","Archive","FileExcel","FileRichText","FilePpt","SearchTextInput","initialValue","onChange","q","setQ","e","target","isFunction","defaultValues","TextareaX","clearFocus","style","Portal","createPortal","body","Modal","fullscreen","propTypes","node","ToastItem","timeOut","autoClose","remove","removeItem","useCallback","setInterval","interval","clearInterval","Comp","message","level","ToastCtx","ToastProvider","position","ToastPortal","items","setItems","add","toastData","callback","uuid","update","newToastData","toastId","clear","success","info","warning","ImgPlaceholderDiv","ImgIcon","Picture","src_mobile","mobile_data","isMobile","width_mobile","height_mobile","orientation","srcSet","media","alt","aria_label","Img","ariaLabel","ImgSquare","thumb_sq","accept","FileInput","display","Button","IconButton","maxSize","primary","labelFirst","secondary","IconNavLink","ConfirmIconButton","onCancel","isOpen","setOpen","renderHeader","renderFooter","modalId","modalClassName","button","ButtonComponent","IBtnSave","postImage","file","fd","FormData","patchImage","ImgUploadButton","uploadRef","createRef","onError","multiple","click","func","promises","from","files","splice","forEach","args","all","postImageFromUrl","url","ImgDeleteIconButton","ImgsHorizontalGallery","mobileOnly","ImgsVerticalGallery","Avatar","thumb","PersonIcon","AvatarUploadButton","toaster","img_data","Pagination","number","count","next","previous","onNextClick","onPreviousClick","NextAnchor","pagination","is_paginated","has_next","has_next_url","has_next_page_number","PreviousAnchor","has_previous","has_previous_url","has_previous_page_number","range","start","end","_","DOTS","Links","num_pages","page_obj_number","siblingCount","leftLinkIdx","Math","max","rightLinkIdx","min","hasLDots","hasRDots","firstPageIndex","lastPageIndex","leftRange","rightRange","middleRange","linksRange","searchParams","set","Jumbotron","backgroundImage","backgroundPosition","top","right","bottom","left","margin","backgroundSize","ItemTable","renderItem","Table","Header","Tr","Td","ItemDiv","MasonryGrid","rowEnd","setRowEnd","current","handleLoad","r","cWidth","clientWidth","cHeight","floor","addEventListener","removeEventListener","gridRowEnd","Loading","CubeGrid","StaffCoverUpdateTab","tab","btnProps","StaffCoverUpdateForm","setTab","onDelete","ImageAltTextInput","toast","imgServices","defaultProps","ClosePageRender","ct_title","ct_text","ct_image_data","hasText","ClosePageForm","setting","setSetting","useForm","onSubmit","preventDefault","ct_html","settingData","Label","TextAreaX","Submit","ct_image","SiteLiveSettingForm","is_live","FormCtx","FormProvider","withInput","checked","Object","keys","isValid","debounceOnSave","debounce","setErrors","handleChange","disabled","TextArea","shared","htmlFor","CheckboxInput","toggleCheck","Option","SelectInput","nullValue","setValues","response","hasErrors","Form","Field","AdminLayout","AdminMain","role","PublishedStatusSpan","is_published","pill","short","errorMessages","last_name","apps","employee","formInitData","saveAccount","validate","minLength","gender","email","StaffSettingIndexView","StaffSettingsGeneralView","StaffSiteIndexUpdateView","StaffNavSettingsUpdateView"],"mappings":"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","file":"static/js/main.3cc324cb.chunk.js","sourcesContent":["import { useEffect, useState, createContext, useMemo } from 'react';\nimport { getSharedData } from '@miq/utils';\n\nexport const SharedDataCtx = createContext();\n\nexport const SharedDataProvider = ({ children }) => {\n  const [value, setValue] = useState({ isLoaded: false });\n\n  const path = window.location.href;\n\n  useEffect(() => {\n    // setValue({ isLoaded: false });\n\n    getSharedData()\n      .then((data) => {\n        setValue({ ...data, isLoaded: true });\n      })\n      .catch((err) => {\n        setValue({ isLoaded: false });\n      });\n  }, [path]);\n\n  const sharedCtx = useMemo(() => {\n    const updateSite = (siteData) => {\n      setValue({ ...value, site: { ...value.site, ...siteData } });\n    };\n\n    const updateUser = (userData) => {\n      setValue({ ...value, user: { ...value.user, ...userData } });\n    };\n    return { ...value, updateUser, updateSite };\n  }, [value]);\n\n  // if (!value.isLoaded) return <div>Loading ...</div>;\n  if (!value.isLoaded) return null;\n\n  return <SharedDataCtx.Provider value={sharedCtx}>{children}</SharedDataCtx.Provider>;\n};\n\nSharedDataProvider.propTypes = {\n  // children: PropTypes.arrayOf([PropTypes.node]).isRequired,\n};\n","import PropTypes from 'prop-types';\n\nimport { StaffService } from '@miq/utils';\n\nexport const sectionRequiredProps = {\n  data: PropTypes.shape({ slug: PropTypes.string }).isRequired,\n  context: PropTypes.shape({ isEdit: PropTypes.bool }).isRequired,\n};\n\nclass SectionService extends StaffService {\n  constructor(path) {\n    super(path);\n  }\n\n  archive(docSlug) {\n    return this.get(`${this.path}${docSlug}/archive/`);\n  }\n}\n\nexport const sectionServices = new SectionService('sections/');\n\n// export const sectionService = {\n//   path: `sections/`,\n//   list(request, params) {\n//     console.log(params);\n//     return getService(request, this.path, params, 'SET_SECTIONS');\n//   },\n//   get(sectSlug, params, type = 'PREPEND_SECTION') {\n//     return actions.get(`${this.path}${sectSlug}/`, params, type);\n//   },\n//   post(values, type = 'PREPEND_SECTION') {\n//     return actions.post(`${path}`, values, type);\n//   },\n//   patch(sectSlug, values, oldValues) {\n//     return actions.patch(`${path}${sectSlug}/`, values, oldValues, 'UPDATE_SECTION');\n//   },\n//   delete(sectSlug) {\n//     return actions.delete(`${path}${sectSlug}/`, sectSlug, 'REMOVE_SECTION');\n//   },\n// };\n\nexport const sectionsReducer = (state = { results: [] }, action) => {\n  const { type, payload = {} } = action;\n  let { results } = payload;\n\n  switch (type) {\n    case 'SET_SECTIONS':\n      return { ...payload };\n\n    case 'APPEND_SECTION':\n      results = addOrUpdateArrayObject(state.results, payload, 'slug', true);\n      return { ...state, results };\n\n    case 'PREPEND_SECTION':\n      results = addOrUpdateArrayObject(state.results, payload);\n      return { ...state, results };\n\n    case 'UPDATE_SECTION':\n      results = addOrUpdateArrayObject(state.results, payload);\n      return { ...state, results };\n\n    case 'REMOVE_SECTION':\n      results = state.results.filter(({ slug }) => slug !== payload.slug);\n      return { ...state, results };\n\n    default:\n      return { ...state };\n  }\n};\n","export const IS_DEV = process.env.NODE_ENV !== 'production';\n\nexport const DOMAIN = IS_DEV ? process.env.REACT_APP_DOMAIN || `http://127.0.0.1:8000` : `${window.location.origin}`;\n// export const DOMAIN = IS_DEV ? `http://192.168.1.243:8000` : `${window.location.origin}`;\n\nexport const API_ENDPOINT = `${DOMAIN}${process.env.REACT_APP_API_ENDPOINT}`;\nexport const STAFF_PATH = process.env.REACT_STAFF_PATH || '/staff/';\n","import axios from 'axios';\nimport { API_ENDPOINT, DOMAIN } from './constants';\n\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFTOKEN';\naxios.defaults.headers['Content-Type'] = 'text/html; charset=UTF-8';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n// axios.defaults.headers.patch[\"Content-Type\"] = \"application/json\";\n\nexport const HTTP = axios.create({\n  baseURL: DOMAIN,\n  timeout: 3000,\n  withCredentials: true, // To enable cookies\n  headers: { 'X-Requested-With': 'XMLHttpRequest' },\n  onUploadProgress: (progressEvt) => {\n    // console.log(Math.round(progressEvt.loaded / progressEvt.total * 100) + '%')\n  },\n});\n\nexport const API = axios.create({\n  baseURL: API_ENDPOINT,\n  timeout: 3000,\n  withCredentials: true,\n  // headers: { \"X-Requested-With\": \"XMLHttpRequest\" },\n  headers: {\n    'Content-type': 'application/json',\n  },\n  // onUploadProgress: (progressEvt) => {},\n});\n","import { DOMAIN, IS_DEV } from './constants';\nimport { HTTP } from './requests';\n\nexport function addOrUpdateArrayObject(arr, obj, key = 'slug', append = false) {\n  const arrKey = arr.map((i) => i[key]);\n\n  if (!arrKey.includes(obj[key])) {\n    if (append) return [...arr, obj];\n    return [obj, ...arr];\n  }\n\n  return arr.map((i) => {\n    if (i[key] === obj[key]) return obj;\n    return i;\n  });\n}\n\nexport const getSharedData = () =>\n  new Promise(async (resolve, reject) => {\n    let sharedData = document.getElementById('sharedData');\n\n    if (!sharedData && IS_DEV) {\n      // This will not run in production\n      console.log(`Getting page shared data in ${process.env.NODE_ENV} mode`);\n\n      const base = new URL(window.location.href);\n      const path = `${base.pathname}${base.search}`;\n\n      let res;\n      try {\n        res = await HTTP.get(path);\n      } catch (err) {\n        return reject(err);\n      }\n\n      if (!res || res.status !== 200) return reject('No data');\n\n      if (res.headers['content-type'].includes('text')) {\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(res.data, 'text/html');\n        sharedData = doc.getElementById('sharedData');\n      }\n    }\n    if (sharedData) {\n      return resolve(JSON.parse(sharedData.textContent));\n    }\n\n    return resolve({});\n  });\n\nexport const getImgUrl = (src) => {\n  if (IS_DEV && src && !src.includes('http')) {\n    const domain = new URL(DOMAIN);\n    return `${domain.origin}${src}`;\n  }\n  return src;\n};\n\nexport const getClassName = (df = []) => {\n  if (!Array.isArray(df)) return '';\n\n  return df\n    .map((i) => i && `${i}`)\n    .filter(Boolean)\n    .join(' ');\n};\n\nexport const addForwardSlash = (str = isRequired('string param')) => (str.endsWith('/') ? str : `${str}/`);\n\nexport const isRequired = (name = 'Param') => {\n  throw new Error(`${name} is required`);\n};\n","import isEqual from 'lodash.isequal';\nimport { addForwardSlash, isRequired } from './helpers';\nimport { API, HTTP } from './requests';\n\nexport const getService = (request, path, params) =>\n  new Promise((resolve, reject) =>\n    request\n      .get(path, { params })\n      .then(({ data }) => resolve(data))\n      .catch((err) => reject(err))\n  );\n\n/**\n * POST SERVICE\n * @param {*} request\n * @param {String} path\n * @param {Object} values\n * @param {Object} config\n * @returns\n */\nexport const postService = (request, path, values, config) =>\n  new Promise((resolve, reject) => {\n    return request\n      .post(path, values, config)\n      .then(({ data }) => resolve(data))\n      .catch((err) => reject(err));\n  });\n\n/**\n *\n * @param {*} request\n * @param {*} path\n * @param {*} values\n * @param {*} oldValues\n * @param {*} config\n * @returns\n */\n\nexport const patchService = (request, path, values, oldValues, config) =>\n  new Promise((resolve, reject) => {\n    if (oldValues && isEqual(values, oldValues)) {\n      return resolve({ isUpdated: false });\n    }\n\n    return request\n      .patch(path, values, config)\n      .then(({ data }) => resolve({ ...data, isUpdated: true }))\n      .catch((err) => reject(err));\n  });\n\n/**\n *\n * @param {*} request\n * @param {*} path\n * @returns\n */\n\nexport const deleteService = (request, path) =>\n  new Promise((resolve, reject) =>\n    request\n      .delete(path)\n      .then((res) => {\n        if (res.status !== 204 && res.status !== 200) return reject(res);\n        if (res.data) return resolve(res.data);\n        return resolve({ deleted: true });\n      })\n      .catch((err) => reject(err))\n  );\n\n/**\n *\n * @param {*} request\n * @returns\n */\n\nexport const services = (request = HTTP) => ({\n  get(path, params) {\n    return getService(request, path, params);\n  },\n\n  post(path, values, config) {\n    return postService(request, path, values, config);\n  },\n\n  patch(path, values, oldValues, config) {\n    return new Promise((resolve, reject) => {\n      if (oldValues && isEqual(values, oldValues)) {\n        return resolve({ isUpdated: false });\n      }\n\n      request\n        .patch(path, values, config)\n        .then(({ data }) => resolve({ ...data, isUpdated: true }))\n        .catch((err) => reject(err));\n    });\n  },\n  delete(path) {\n    return new Promise((resolve, reject) =>\n      request\n        .delete(path)\n        .then((res) => {\n          if (res.status !== 204) return reject(res);\n          return resolve({ deleted: true });\n        })\n        .catch((err) => reject(err))\n    );\n  },\n});\n\n/**\n *\n */\n\nclass Service {\n  request = HTTP;\n  path = null;\n\n  constructor(path = isRequired('path')) {\n    this.path = addForwardSlash(path);\n  }\n\n  list(params) {\n    return this.get(this.path, params);\n  }\n\n  detail(slug, params) {\n    return this.get(`${this.path}${addForwardSlash(slug)}`, params);\n  }\n\n  get(path, params) {\n    return getService(this.request, path, params);\n  }\n\n  post(values, config, path) {\n    return postService(this.request, path || `${this.path}`, values, config);\n  }\n\n  postPath(path, values, config) {\n    return postService(this.request, path, values, config);\n  }\n\n  patch(slug, values, oldValues, config) {\n    return patchService(this.request, `${this.path}${addForwardSlash(slug)}`, values, oldValues, config);\n  }\n\n  patchPath(path, values, oldValues, config) {\n    return patchService(this.request, path, values, oldValues, config);\n  }\n\n  delete(slug) {\n    return this.deletePath(`${this.path}${addForwardSlash(slug)}`);\n  }\n\n  deletePath(path) {\n    return deleteService(this.request, path);\n  }\n}\n\n/** */\n\nclass StaffService extends Service {\n  request = API;\n\n  constructor(path) {\n    super(path);\n  }\n}\n\nexport { Service, StaffService };\n","import isString from 'lodash.isstring';\nimport isDate from 'lodash.isdate';\n\n/**\n * Formats a date. Returns empty string if date undefined or null.\n * Format options: {weekday: \"short\",month: \"long\",day: \"numeric\",hour: \"numeric\",minute: \"numeric\",year: 'numeric'}\n *\n * @param {*} date\n * @param {*} format\n * @param {*} locale\n * @returns\n */\n\nexport const formatDate = (\n  date,\n  format = { weekday: 'short', month: 'long', day: 'numeric' },\n  locale = new Intl.NumberFormat().resolvedOptions().locale || 'en-US'\n) => {\n  if (!date || (!isString(date) && !isDate(date))) return date;\n\n  const date_time = new Intl.DateTimeFormat(locale, { ...format });\n  return date_time.format(new Date(date));\n};\n\nexport const formatDateToStr = (date) => {\n  if (!isDate(date)) return '';\n\n  var dd = date.getDate();\n  var mm = date.getMonth() + 1; //January is 0!\n  var yyyy = date.getFullYear();\n\n  if (dd < 10) {\n    dd = '0' + dd;\n  }\n  if (mm < 10) {\n    mm = '0' + mm;\n  }\n\n  return yyyy + '-' + mm + '-' + dd;\n};\n\nexport const formatTime = (\n  date,\n  format = { hour: 'numeric', minute: 'numeric' },\n  locale = new Intl.NumberFormat().resolvedOptions().locale\n) => {\n  const date_time = new Intl.DateTimeFormat(locale, { ...format });\n  return date_time.format(new Date(date));\n};\n","import { StaffService } from '@miq/utils';\n\nclass SiteSettingsStaffService extends StaffService {\n  constructor(path) {\n    super(path);\n  }\n\n  patchSite(settingSlug, values, oldValues) {\n    return this.patchPath(`${this.path}${settingSlug}/site/`, values, oldValues);\n  }\n}\n\nexport const siteServices = new SiteSettingsStaffService('settings/');\n","import axios from 'axios';\n\nimport { DOMAIN, services as baseServices, Service } from '@miq/utils';\n\nexport const ENDPOINT = `${DOMAIN}${process.env.REACT_APP_API_ENDPOINT}`;\n\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFTOKEN';\n// axios.defaults.headers[\"Content-Type\"] = \"text/html; charset=UTF-8\";\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nexport const API = axios.create({\n  baseURL: ENDPOINT,\n  timeout: 3000,\n  withCredentials: true,\n  // headers: { \"X-Requested-With\": \"XMLHttpRequest\" },\n  headers: {\n    'Content-type': 'application/json',\n  },\n  // onUploadProgress: (progressEvt) => {},\n});\n\nconst isArray = Array.isArray;\n\nexport const hasPerms = (perms, requiredPerms) => {\n  if (!isArray(perms) || !isArray(requiredPerms)) return false;\n  return perms.filter((perm) => requiredPerms.includes(perm)).length === requiredPerms.length;\n};\n\nexport const services = baseServices(API);\n","import { getClassName, IS_DEV } from \"@miq/utils\";\nimport { forwardRef } from \"react\";\nimport { Icons } from \"@miq/components\";\nimport { SectionDeleteButton, SectionEditButton } from \"../section-components\";\nimport { SectionBody, SectionFooter, SectionHeader } from \"../section-ui\";\n\nimport \"./txt-section.scss\";\n\n/**\n * TEXT SECTION\n */\n\nconst TxtSectionEdit = (props) => {\n    return <div className=\"\">TxtSectionEdit</div>;\n};\n\nconst TxtSectionPreview = (props) => {\n    if (props.context.isEdit) return <TxtSectionEdit {...props} />;\n\n    return <div className=\"\">Prev</div>;\n};\n\nconst TextSection = forwardRef((props, ref) => {\n    return (\n        <div id={props.id} {...{ ref }} className={getClassName([props.className])}>\n            <SectionHeader Icon={Icons.TextareaT} />\n\n            <SectionBody>\n                <TxtSectionPreview {...props} />\n            </SectionBody>\n\n            <SectionFooter>\n                <div className=\"actions\">\n                    <SectionDeleteButton {...props} label=\"Delete\" />\n\n                    <SectionEditButton context={props.context} />\n                </div>\n            </SectionFooter>\n        </div>\n    );\n});\n\nif (IS_DEV) {\n    TextSection.displayName = \"TextSection\";\n}\n\nexport default TextSection;\n","import PropTypes from 'prop-types';\n\nimport { createContext, lazy, Suspense, useMemo, useRef, useState } from 'react';\n\nimport { getClassName, isRequired } from '@miq/utils';\nimport TextSection from './TextSection';\n\nimport './section.scss';\n// import { sectionServices } from './utils';\n\n// const MarkdownSection = lazy(()=>import('./MarkdownSection'))\n// const ImageSection = lazy(() => import(\"./ImageSection\"));\n\nconst getSectionComponent = (type) => {\n  switch (type) {\n    case 'MD':\n      return lazy(() => import('./MarkdownSection'));\n\n    case 'IMG':\n      return lazy(() => import('./ImageSection'));\n\n    case 'HGAL':\n    case 'VGAL':\n      return lazy(() => import('./ImagesSection'));\n\n    case 'JUMB':\n      return lazy(() => import('./JumbotronSection'));\n\n    default:\n      return TextSection;\n  }\n};\n\nconst SectionCtx = createContext();\n\nexport default function Section(props) {\n  const { data = isRequired('section data props') } = props;\n  const { slug, type } = data;\n\n  const ref = useRef();\n  const [isEdit, setEdit] = useState(props.isEdit || false);\n\n  const ctx = useMemo(() => {\n    return { isEdit, setEdit };\n  }, [isEdit]);\n\n  if (!slug) return null;\n\n  const SectionComponent = getSectionComponent(type);\n\n  return (\n    <Suspense fallback={<div>Loading ...</div>}>\n      <SectionCtx.Provider value={ctx}>\n        <SectionComponent\n          {...props}\n          context={ctx}\n          ref={ref}\n          className={getClassName(['section', isEdit && 'active'])}\n        />\n      </SectionCtx.Provider>\n    </Suspense>\n  );\n}\n\nSection.propTypes = {\n  data: PropTypes.shape({ type: PropTypes.string.isRequired, slug: PropTypes.string }).isRequired,\n  onDataChange: PropTypes.func,\n};\n","import { StaffService } from '@miq/utils';\n\nclass IndexSettingStaffService extends StaffService {\n  constructor(path) {\n    super(path);\n  }\n}\nexport const indexStaffServices = new IndexSettingStaffService('index/');\n\nclass PageStaffService extends StaffService {\n  constructor(path) {\n    super(path);\n  }\n}\n\nexport const pageStaffServices = new PageStaffService('pages/');\n","import React, { useEffect, useState } from 'react';\nimport { isRequired } from '@miq/utils';\nimport { indexStaffServices, pageStaffServices } from './utils';\nimport { sectionServices } from '../Section/utils';\nimport { Section } from '..';\n\nexport const SectionsEditor = ({ children, ...props }) => {\n  return <div className=\"miq-page-editor\">{children}</div>;\n};\n\nconst Sections = ({\n  sourceSlug = isRequired('source slug'),\n  sourceType = isRequired('source type(page/index etc)'),\n  ...props\n}) => {\n  const [sections, setSections] = useState({ results: [] });\n  useEffect(() => {\n    if (!sourceSlug) return;\n\n    sectionServices.list({ source: sourceSlug, source_type: sourceType }).then((data) => {\n      setSections(data);\n    });\n  }, [sourceSlug, sourceType]);\n\n  const handleSectionChange = (newData) => {\n    // console.log(newData);\n    setSections({\n      ...sections,\n      results: sections.results.map((item) => {\n        if (item.slug === newData.slug) return newData;\n        return item;\n      }),\n    });\n  };\n\n  return (\n    <div className=\"miq-page-editor-sections\">\n      {sections.results.map((data) => (\n        <Section data={data} key={data.slug} onDataChange={handleSectionChange} />\n      ))}\n    </div>\n  );\n};\n\n//\n\nSectionsEditor.propTypes = {};\nSectionsEditor.Sections = Sections;\n\n//\n\nexport { indexStaffServices, pageStaffServices };\n","import React, { useEffect, useReducer } from 'react';\n\nimport { isRequired } from '@miq/utils';\nimport './index.scss';\n\nimport Section from './Section';\nimport { sectionsReducer, sectionServices } from './Section/utils';\n\nexport default function SectionEditor({ sourceSlug = isRequired('source slug'), children, ...props }) {\n  return <div className=\"\">{children}</div>;\n}\n\nexport const EditorSections = ({\n  sourceSlug = isRequired('source slug'),\n  request = isRequired('request'),\n  ...props\n}) => {\n  const [sections, dispatch] = useReducer(sectionsReducer, { results: [] });\n\n  useEffect(() => {\n    if (!sourceSlug) return;\n\n    sectionServices.list(request, { source: sourceSlug }).then((data) => {\n      dispatch({ type: 'SET_SECTIONS', payload: data });\n      // setLoading(0);\n    });\n  }, [sourceSlug, request]);\n\n  return (\n    <div className=\"editor-panel\">\n      <div className=\"editor-content\">\n        <div className=\"editor-label\">{/* <Form.TextAreaX name=\"label\" tabIndex={1} maxLength={250} /> */}</div>\n\n        <div className=\"editor-sections\">\n          {sections.results.map((data) => (\n            <Section data={data} key={data.slug} />\n          ))}\n        </div>\n\n        <div className=\"editor-actions\">\n          {/* <SectionAddButton sourceSlug={props.sourceSlug} type=\"TXT\" />\n                    <SectionAddButton sourceSlug={props.sourceSlug} type=\"MD\" />\n                    <SectionAddButton sourceSlug={props.sourceSlug} type=\"IMG\" /> */}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n//\n\nexport { Section };\n\nexport { componentToHtml } from './Section/section-renderers';\nexport * from './SectionsEditor';\n","import React, { lazy, Suspense, useContext } from 'react'\nimport { Switch } from 'react-router-dom'\n\nimport { Icons, Loading, ToastProvider, useToast } from '@miq/components'\nimport { AdminLayout as Layout, AdminSidebar, AdminMain, AccountProfileUpdateView } from '@miq/adminjs'\nimport { AdminRoute, AdminView, SettingsLayout } from '@miq/adminjs'\nimport { SharedDataCtx } from '@miq/contexts'\n\nconst StaffShopRoutes = lazy(() => import('../shop'))\n\nconst Dashboard = (props) => <AdminView title=\"Dashboard\"></AdminView>\n\nexport default function AdminLayout(props) {\n  const toastCtx = useToast()\n  const ctx = useContext(SharedDataCtx)\n\n  if (!ctx) return null\n  if (!ctx.isLoaded) return <Loading />\n\n  const { path } = props.match\n  const { site } = ctx\n\n  return (\n    <ToastProvider context={toastCtx}>\n      <Layout {...props}>\n        <AdminSidebar\n          {...{ path, ctx }}\n          header={<h2 className=\"text-md\">{site.name}</h2>}\n          footer={\n            <>\n              <AdminSidebar.AccountNavLink path={path} user={ctx.user} />\n              <AdminSidebar.SettingsNavLink path={path} />\n            </>\n          }\n        >\n          <AdminSidebar.DashboardNavLink path={path} />\n\n          <AdminSidebar.NavLink\n            to={`${path}shop/`}\n            label=\"Shop\"\n            Icon={Icons.Bookmark}\n            requiredPerms={['shop.view_product']}\n          />\n        </AdminSidebar>\n\n        <AdminMain className=\"store-main\">\n          <Suspense fallback={<Loading />}>\n            <Switch>\n              <AdminRoute path={`${path}shop/`} component={StaffShopRoutes} requiredPerms={['shop.view_product']} />\n              <AdminRoute path={`${path}settings/`} component={SettingsLayout} />\n              <AdminRoute path={`${path}account/`} component={AccountProfileUpdateView} />\n              <AdminRoute path={`${path}`} component={Dashboard} />\n            </Switch>\n          </Suspense>\n        </AdminMain>\n\n        {/* <MobileNav /> */}\n      </Layout>\n    </ToastProvider>\n  )\n}\n","import { useContext } from 'react'\nimport { SharedDataCtx } from '@miq/contexts'\n\nexport default function ShopPublicIndexView(props) {\n  const ctx = useContext(SharedDataCtx)\n\n  if (!ctx.isLoaded) {\n    return null\n  }\n\n  return null\n}\n","import React, { lazy } from 'react';\nimport { Suspense } from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport { ToastProvider, useToast, Loading } from '@miq/components';\nimport IndexView from './IndexView';\n\nimport './main.scss';\n\nconst CartPublicView = lazy(() => import('./CartView'));\nconst ProductPublicView = lazy(() => import('./ProductView'));\nconst ProductsPublicView = lazy(() => import('./ProductsView'));\n\nexport default function PublicShopRoutes(props) {\n  const toastCtx = useToast();\n  // const { path } = props.match;\n\n  return (\n    <ToastProvider context={toastCtx}>\n      <Suspense fallback={<Loading />}>\n        <Switch>\n          <Route path=\"/shop/cart/\" component={CartPublicView} />\n          <Route path=\"/shop/:catSlug/:prodPublicSlug/\" component={ProductPublicView} />\n          <Route path=\"/shop/:catPublicSlug/\" component={ProductsPublicView} />\n          <Route path=\"/shop/\" component={ProductsPublicView} />\n\n          <Route path=\"/\" component={IndexView} />\n        </Switch>\n      </Suspense>\n    </ToastProvider>\n  );\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\n\nimport './index.scss'\n\nimport { AdminRoute } from '@miq/adminjs'\nimport { STAFF_PATH } from '@miq/utils'\nimport { SharedDataProvider } from '@miq/contexts'\n\nimport AdminLayout from './admin'\nimport PublicShopRoutes from './shop/public'\n\n// import reportWebVitals from \"./reportWebVitals\";\n\nconst PublicRoutes = (props) => {\n  return (\n    <div className=\"\">\n      <Switch>\n        <Route path={props.match.path} component={PublicShopRoutes} />\n      </Switch>\n    </div>\n  )\n}\n\nconst root = document.getElementById('root')\nif (root) {\n  ReactDOM.render(\n    <React.StrictMode>\n      <BrowserRouter>\n        <SharedDataProvider>\n          <Switch>\n            <AdminRoute path={STAFF_PATH} component={AdminLayout} />\n\n            <Route component={PublicRoutes} />\n          </Switch>\n        </SharedDataProvider>\n      </BrowserRouter>\n    </React.StrictMode>,\n    root\n  )\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n//\n","import React from 'react';\nimport { Icons } from '@miq/components';\nimport { AdminNavLink } from '@miq/adminjs';\n\nexport default function ViewHeader(props) {\n  const { back, title, text, actions } = props;\n  const header = back || title || text || actions;\n\n  if (!header) return null;\n\n  return (\n    <header className={props.className}>\n      <div className=\"miq-view-header-inner d-flex\">\n        <div className=\"d-flex align-items-center\">\n          {back && <BackButton {...props} to={back} />}\n\n          <div className=\"miq-view-title\">\n            {typeof title === 'string' ? <h2 className=\"text-md fw-normal\">{title}</h2> : title}\n          </div>\n        </div>\n\n        {actions && <section className=\"miq-view-actions\">{actions}</section>}\n      </div>\n\n      {text && <div className=\"miq-view-text\">{text}</div>}\n    </header>\n  );\n}\n\nconst BackButton = (props) => {\n  return <AdminNavLink title=\"Retourner derrirere\" to={props.to} Icon={Icons.ArrowLeft} className=\"me-1\" />;\n};\n","import { getClassName } from '@miq/utils';\nimport ViewSection from './ViewSection';\nimport ViewHeader from './ViewHeader';\nimport { AdminNavLink } from '../Layout/components';\n\nimport './views.scss';\n\nconst ViewTabNavLinks = (props) => {\n  const { urls, ...rest } = props;\n\n  return (\n    <div className={getClassName(['admin-view-tab-navlinks', 'd-flex', rest.className])}>\n      {urls?.map((data) => (\n        <AdminNavLink\n          {...data}\n          exact={data.exact}\n          to={data.to}\n          label={data.label}\n          key={data.to}\n          className={getClassName(['admin-view-tab-navlink', 'me-1', data.className])}\n        />\n      ))}\n    </div>\n  );\n};\n\n/**\n *\n * @param {*} param0\n * @returns\n */\n\nexport const AdminView = ({ children, ...props }) => {\n  const { title, actions, back, ...rest } = props;\n\n  return (\n    <div {...rest} className={getClassName(['miq-view', props.className])}>\n      <ViewHeader {...{ title, actions, back }} className=\"miq-view-header\" />\n\n      {children}\n    </div>\n  );\n};\n\nAdminView.Section = ViewSection;\nAdminView.TabNavLinks = ViewTabNavLinks;\n","import React from 'react';\nimport { getClassName } from '@miq/utils';\nimport ViewHeader from './ViewHeader';\n\nexport default function ViewSection({ children, ...props }) {\n  return (\n    <div id={props.id} className={getClassName(['miq-view-section', props.className])}>\n      <ViewHeader {...props} className=\"miq-view-header\" />\n      {children}\n    </div>\n  );\n}\n","import { getClassName } from '@miq/utils';\n\nexport const SectionBody = ({ children, id, className }) => (\n  <div id={id} className={getClassName(['section-body', className])}>\n    {children}\n  </div>\n);\n\nexport const SectionHeader = ({ children, Icon, id, className }) => (\n  <div id={id} className={getClassName(['section-header', className])}>\n    {Icon && (\n      <div className=\"\">\n        <Icon className=\"icon\" />\n      </div>\n    )}\n\n    {children}\n  </div>\n);\n\nexport const SectionFooter = ({ children, id, className }) => (\n  <div id={id} className={getClassName(['section-footer', className])}>\n    {children}\n  </div>\n);\n","import ReactDOMServer from 'react-dom/server';\nimport marked from 'marked';\n\nimport { isRequired } from '@miq/utils';\nimport { Jumbotron, Picture, ImgsHorizontalGallery, ImgsVerticalGallery } from '@miq/components';\n\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  highlight: function (code, lang) {\n    const hljs = require('highlight.js');\n    const language = hljs.getLanguage(lang) ? lang : 'plaintext';\n\n    return hljs.highlight(code, { language }).value;\n  },\n  pedantic: false,\n  gfm: true,\n  breaks: false,\n  sanitize: false,\n  smartLists: true,\n  smartypants: false,\n  xhtml: false,\n});\n\nexport const componentToHtml = (Component) => ReactDOMServer.renderToStaticMarkup(Component);\n\nexport default function render(data) {\n  const { type = isRequired('section type') } = data;\n\n  const className = 'mb-1';\n\n  switch (type) {\n    case 'MD':\n      return marked(data.text);\n\n    case 'IMG':\n      return componentToHtml(<Picture {...data.image} className={className} />);\n\n    case 'HGAL':\n      return componentToHtml(<ImgsHorizontalGallery images={data.images_data} className={className} />);\n\n    case 'VGAL':\n      return componentToHtml(<ImgsVerticalGallery images={data.images_data} className={className} />);\n\n    case 'JUMB':\n      return componentToHtml(<Jumbotron {...data} className={className} />);\n\n    default:\n      return `<div class=\"${className}\">${data.text}</div>`;\n  }\n}\n","import { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route } from 'react-router-dom';\n\nimport { SharedDataCtx } from '@miq/contexts';\nimport { getClassName } from '@miq/utils';\nimport { IconNavLink, Icons, Loading } from '@miq/components';\nimport { hasPerms } from '../utils';\n\n/**\n ******************************** NAVLINKS\n */\n\nconst AdminSettingsNavLink = (props) => {\n  const { path = '', label = 'Settings', Icon = Icons.Gear, ...rest } = props;\n  return (\n    <AdminNavLink\n      Icon={Icon}\n      label={label}\n      {...props}\n      to={`${path}settings/`}\n\n      // requiredPerms={[\"miq.view_setting\"]}\n    />\n  );\n};\n\nconst AdminAccountNavLink = (props) => {\n  const { path = '', user, Icon = Icons.Person, ...rest } = props;\n\n  if (!user || !user.first_name) return null;\n\n  return (\n    <AdminNavLink\n      Icon={Icon}\n      label={user.first_name}\n      {...rest}\n      to={`${path}account/`}\n      // requiredPerms={[\"miq.view_setting\"]}\n    />\n  );\n};\n\nconst AdminDashboardNavLink = (props) => {\n  const { path = '', label = 'Dashboard', Icon = Icons.House, ...rest } = props;\n  return <AdminNavLink {...rest} exact to={path} label={label} Icon={Icon} />;\n};\n\n/**\n * SIDEBAR\n */\n\nexport const AdminNavLink = ({ requiredPerms, ...props }) => {\n  const ctx = useContext(SharedDataCtx);\n  const { user, perms } = ctx;\n\n  if (!user || !user.is_staff || (requiredPerms && !hasPerms(perms.perms, requiredPerms))) return null;\n\n  return <IconNavLink {...props} className={getClassName(['miq-admin-link', props.className])} />;\n};\nAdminNavLink.propTypes = {\n  requiredPerms: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport const AdminSidebar = ({ children, header, footer, ...props }) => {\n  return (\n    <nav {...props} className={getClassName(['miq-admin-aside', props.className])}>\n      {header && <header className=\"miq-admin-aside-header\">{header}</header>}\n\n      <section className=\"miq-admin-aside-body\">\n        <div className=\"miq-admin-aside-body-content\">{children}</div>\n\n        {footer && <div className=\"miq-admin-aside-body-footer\">{footer}</div>}\n      </section>\n    </nav>\n  );\n};\n\nAdminSidebar.NavLink = AdminNavLink;\nAdminSidebar.DashboardNavLink = AdminDashboardNavLink;\nAdminSidebar.AccountNavLink = AdminAccountNavLink;\nAdminSidebar.SettingsNavLink = AdminSettingsNavLink;\n\n/**\n * MOBILE NAVIGATION\n */\n\nexport const AdminMobileNavbar = ({ children, ...props }) => {\n  return (\n    <nav {...props} className={getClassName(['miq-admin-mobile-nav', props.className])}>\n      {children}\n    </nav>\n  );\n};\n\nexport const AdminRoute = ({ requiredPerms, ...props }) => {\n  const ctx = useContext(SharedDataCtx);\n  const { user, perms } = ctx;\n\n  if (!user || !user.is_staff || (requiredPerms && !hasPerms(perms.perms, requiredPerms)))\n    return (\n      <div>\n        <h1>Not allowed...</h1>\n      </div>\n    );\n\n  return <Route {...props} />;\n};\n","import PropTypes from 'prop-types';\n\nimport { IconButton, Icons, ImgUploadButton } from '@miq/components';\n\nimport { isRequired, getClassName, patchService, API } from '@miq/utils';\nimport { sectionRequiredProps, sectionServices } from './utils';\nimport render from './section-renderers';\nimport Form, { FormProvider } from '@miq/form';\n\nexport const SectionAddButton = (props) => {\n  const { sourceSlug = isRequired('section source slug'), type = isRequired('section type') } = props;\n\n  const handleCreate = () => {\n    // pagesActions.postSection(sourceSlug, { type });\n  };\n\n  return <button onClick={handleCreate}>Add {type}</button>;\n};\n\nexport const SectionSaveButton = (props) => {\n  const { form = isRequired('form context') } = props;\n  const { data = isRequired('section data') } = props;\n  const { context = isRequired('section context') } = props;\n\n  const handleSave = (e) => {\n    const shouldSave = data.text !== form.values.text;\n    // console.log('Saving', shouldSave);\n\n    if (!shouldSave) return context.setEdit(!context.isEdit);\n    if (!props.onSave) return;\n\n    props.onSave();\n  };\n\n  return (\n    <IconButton Icon={Icons.ArrowUpCircle} label=\"Save\" className=\"section-btn\" title=\"Save\" onClick={handleSave} />\n  );\n};\n\nSectionSaveButton.propTypes = {\n  ...sectionRequiredProps,\n  form: PropTypes.any.isRequired,\n};\n\nexport const SectionDeleteButton = (props) => {\n  const { data = isRequired('section data') } = props;\n\n  return (\n    <IconButton\n      Icon={Icons.Trash}\n      title=\"Delete\"\n      onClick={() =>\n        sectionServices.delete(data.slug).then((res) => {\n          props.onSuccess && props.onSuccess({ ...res });\n        })\n      }\n      className={getClassName(['section-btn btn-danger', props.className])}\n    />\n  );\n};\n\nexport const SectionEditButton = (props) => {\n  const { context = isRequired('section context') } = props;\n  const { isEdit } = context;\n\n  return (\n    <IconButton\n      Icon={isEdit ? Icons.Eye : Icons.PencilSquare}\n      className=\"section-btn\"\n      title={isEdit ? 'Preview Mode' : 'Edit Mode'}\n      onClick={() => context.setEdit(!isEdit)}\n    />\n  );\n};\n\nSectionEditButton.propTypes = {\n  context: PropTypes.shape({ isEdit: PropTypes.bool }).isRequired,\n};\n\nexport const SectionImgUploadButton = ({ imgSlug, section = isRequired('Section data'), ...props }) => {\n  if (!section.slug) return null;\n\n  const { type } = section;\n  const { onCreate, onUpdate, ...rest } = props;\n\n  const handleUpload = ({ isUpdated, ...imgData }, isPatch = false) => {\n    const { slug } = imgData;\n\n    // TODO\n    let images = section.images || [];\n    if (!images.includes(slug)) {\n      images.push(slug);\n    }\n    let images_data = [...section.images_data, imgData];\n    if (isPatch) {\n      images_data = section.images_data.map((img) => {\n        if (img.slug === imgData.slug) return imgData;\n        return img;\n      });\n    }\n\n    const html = render({ ...section, image: imgData, images, images_data });\n    return sectionServices.patch(section.slug, { type, images, html }).then((sectionData) => {\n      if (sectionData.isUpdated) {\n        if (imgSlug && onUpdate) return onUpdate(sectionData);\n\n        onCreate && onCreate(sectionData);\n      }\n    });\n  };\n\n  return (\n    <ImgUploadButton {...rest} onCreate={handleUpload} onUpdate={(data) => handleUpload(data, true)} slug={imgSlug} />\n  );\n};\n\nSectionImgUploadButton.propTypes = {\n  // section: PropTypes.shape({ ...sectionRequiredProps }).isRequired,\n  imgSlug: PropTypes.string,\n};\n\n/**\n * FORM BUTTONS\n */\n\n/**\n * FORM INPUTS\n */\n\nexport const SectionTitleInput = (props) => {\n  return <Form.TextInput placeholder=\"Write title...\" {...props} name=\"title\" />;\n};\n\nexport const SectionTextInput = (props) => {\n  return <Form.TextInput placeholder=\"Write text...\" {...props} name=\"text\" />;\n};\n\nexport const SectionImgAltTextInput = ({ img = {}, ...props }) => {\n  if (!img || !img.slug) return null;\n\n  const { form = isRequired('form'), onSuccess } = props;\n\n  return (\n    <Form.TextInput\n      placeholder=\"Write alt text...\"\n      onSave={({ value }) => {\n        return patchService(API, `images/${img.slug}/`, { alt_text: value }, {})\n          .catch((err) => form.handleError(err))\n          .then((imgData) => {\n            onSuccess && onSuccess(imgData);\n          });\n      }}\n      required\n      {...props}\n      name=\"alt_text\"\n      error={form.errors.alt_text}\n      maxLength={99}\n    />\n  );\n};\n\n/**\n * FORM\n */\n\nexport const SectionEditForm = ({ form = isRequired('form'), children, ...props }) => {\n  return <FormProvider value={form}>{children}</FormProvider>;\n};\n\nSectionEditForm.TitleInput = SectionTitleInput;\nSectionEditForm.TextInput = SectionTextInput;\nSectionEditForm.ImgAltTextInput = SectionImgAltTextInput;\n","import { forwardRef } from 'react';\n\n// export const Telephone = forwardRef((props, ref) => {\n//   return (\n//     <svg\n//       ref={ref}\n//       xmlns=\"http://www.w3.org/2000/svg\"\n//       width=\"16\"\n//       height=\"16\"\n//       fill=\"currentColor\"\n//       viewBox=\"0 0 16 16\"\n//       {...props}\n//     >\n//       <path d=\"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\" />\n//     </svg>\n//   );\n// });\n\nexport const Telephone = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\" />\n    </svg>\n  );\n});\n\nexport const Share = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z\" />\n    </svg>\n  );\n});\n\nexport const ArrowRight = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"\n      />\n    </svg>\n  );\n});\n\nexport const ArrowLeft = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"\n      />\n    </svg>\n  );\n});\n\nexport const ArrowUpCircle = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z\"\n      />\n    </svg>\n  );\n});\n\nexport const CloudArrowUp = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2z\"\n      />\n      <path d=\"M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z\" />\n    </svg>\n  );\n});\n\nexport const Eye = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\" />\n      <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\" />\n    </svg>\n  );\n});\n\nexport const PencilSquare = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\" />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"\n      />\n    </svg>\n  );\n});\n\nexport const Trash = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\" />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"\n      />\n    </svg>\n  );\n});\n\nexport const Image = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n      <path d=\"M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z\" />\n    </svg>\n  );\n});\n\nexport const Markdown = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z\" />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M9.146 8.146a.5.5 0 0 1 .708 0L11.5 9.793l1.646-1.647a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 0-.708z\"\n      />\n      <path fillRule=\"evenodd\" d=\"M11.5 5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 1 .5-.5z\" />\n      <path d=\"M3.56 11V7.01h.056l1.428 3.239h.774l1.42-3.24h.056V11h1.073V5.001h-1.2l-1.71 3.894h-.039l-1.71-3.894H2.5V11h1.06z\" />\n    </svg>\n  );\n});\n\nexport const TextareaT = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M1.5 2.5A1.5 1.5 0 0 1 3 1h10a1.5 1.5 0 0 1 1.5 1.5v3.563a2 2 0 0 1 0 3.874V13.5A1.5 1.5 0 0 1 13 15H3a1.5 1.5 0 0 1-1.5-1.5V9.937a2 2 0 0 1 0-3.874V2.5zm1 3.563a2 2 0 0 1 0 3.874V13.5a.5.5 0 0 0 .5.5h10a.5.5 0 0 0 .5-.5V9.937a2 2 0 0 1 0-3.874V2.5A.5.5 0 0 0 13 2H3a.5.5 0 0 0-.5.5v3.563zM2 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm12 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z\" />\n      <path d=\"M11.434 4H4.566L4.5 5.994h.386c.21-1.252.612-1.446 2.173-1.495l.343-.011v6.343c0 .537-.116.665-1.049.748V12h3.294v-.421c-.938-.083-1.054-.21-1.054-.748V4.488l.348.01c1.56.05 1.963.244 2.173 1.496h.386L11.434 4z\" />\n    </svg>\n  );\n});\n\n/**\n * PERSON\n */\n\nexport const Person = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\" />\n    </svg>\n  );\n});\n\nexport const PersonCircle = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\" />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"\n      />\n    </svg>\n  );\n});\n\nexport const PersonBadge = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\" />\n      <path d=\"M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5 0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2 0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0 0-.776.492V2.5z\" />\n    </svg>\n  );\n});\n\nexport const PersonPlus = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z\" />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z\"\n      />\n    </svg>\n  );\n});\n\nexport const Bookmark = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z\" />\n    </svg>\n  );\n});\n\nexport const Gear = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z\" />\n      <path d=\"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z\" />\n    </svg>\n  );\n});\n\nexport const House = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M2 13.5V7h1v6.5a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V7h1v6.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5zm11-11V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z\"\n      />\n    </svg>\n  );\n});\n\nexport const Plus = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\" />\n    </svg>\n  );\n});\n\nexport const X = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n    </svg>\n  );\n});\n\nexport const ChatLeftText = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\" />\n      <path d=\"M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\" />\n    </svg>\n  );\n});\n\nexport const Search = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n    </svg>\n  );\n});\n\nexport const PaperClip = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z\" />\n    </svg>\n  );\n});\n\nexport const XCircle = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\n      <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n    </svg>\n  );\n});\n\nexport const Camera = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z\" />\n      <path d=\"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z\" />\n    </svg>\n  );\n});\n\nexport const Building = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z\"\n      />\n      <path d=\"M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z\" />\n    </svg>\n  );\n});\n\n/**\n * DOC FILES\n */\n\nexport const getFileIcon = (ext) => {\n  switch (ext) {\n    case '.pdf':\n      return FilePdf;\n\n    case '.docx':\n      return FileWord;\n\n    case '.zip':\n      return FileZip;\n\n    case '.png':\n    case '.jpg':\n    case '.psd':\n    case '.jpeg':\n      return FileImage;\n\n    default:\n      return File;\n  }\n};\n\nexport const FileEarmarkText = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z\" />\n      <path d=\"M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z\" />\n    </svg>\n  );\n});\n\nexport const File = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\" />\n    </svg>\n  );\n});\n\nexport const Files = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M13 0H6a2 2 0 0 0-2 2 2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 13V4a2 2 0 0 0-2-2H5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1zM3 4a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4z\" />\n    </svg>\n  );\n});\n\nexport const Archive = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\" />\n    </svg>\n  );\n});\n\nexport const FilePdf = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\" />\n      <path d=\"M4.603 12.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.701 19.701 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.187-.012.395-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.065.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.716 5.716 0 0 1-.911-.95 11.642 11.642 0 0 0-1.997.406 11.311 11.311 0 0 1-1.021 1.51c-.29.35-.608.655-.926.787a.793.793 0 0 1-.58.029zm1.379-1.901c-.166.076-.32.156-.459.238-.328.194-.541.383-.647.547-.094.145-.096.25-.04.361.01.022.02.036.026.044a.27.27 0 0 0 .035-.012c.137-.056.355-.235.635-.572a8.18 8.18 0 0 0 .45-.606zm1.64-1.33a12.647 12.647 0 0 1 1.01-.193 11.666 11.666 0 0 1-.51-.858 20.741 20.741 0 0 1-.5 1.05zm2.446.45c.15.162.296.3.435.41.24.19.407.253.498.256a.107.107 0 0 0 .07-.015.307.307 0 0 0 .094-.125.436.436 0 0 0 .059-.2.095.095 0 0 0-.026-.063c-.052-.062-.2-.152-.518-.209a3.881 3.881 0 0 0-.612-.053zM8.078 5.8a6.7 6.7 0 0 0 .2-.828c.031-.188.043-.343.038-.465a.613.613 0 0 0-.032-.198.517.517 0 0 0-.145.04c-.087.035-.158.106-.196.283-.04.192-.03.469.046.822.024.111.054.227.09.346z\" />\n    </svg>\n  );\n});\n\nexport const FileImage = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M8.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\n      <path d=\"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM3 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v8l-2.083-2.083a.5.5 0 0 0-.76.063L8 11 5.835 9.7a.5.5 0 0 0-.611.076L3 12V2z\" />\n    </svg>\n  );\n});\n\nexport const FileExcel = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M5.18 4.616a.5.5 0 0 1 .704.064L8 7.219l2.116-2.54a.5.5 0 1 1 .768.641L8.651 8l2.233 2.68a.5.5 0 0 1-.768.64L8 8.781l-2.116 2.54a.5.5 0 0 1-.768-.641L7.349 8 5.116 5.32a.5.5 0 0 1 .064-.704z\" />\n      <path d=\"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z\" />\n    </svg>\n  );\n});\n\nexport const FileZip = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M5 7.5a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.11 0l-.929-.62a1 1 0 0 1-.415-1.074L5 8.438V7.5zm2 0H6v.938a1 1 0 0 1-.03.243l-.4 1.598.93.62.929-.62-.4-1.598A1 1 0 0 1 7 8.438V7.5z\" />\n      <path d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1h-2v1h-1v1h1v1h-1v1h1v1H6V5H5V4h1V3H5V2h1V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\" />\n    </svg>\n  );\n});\n\nexport const FileWord = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M5.485 6.879a.5.5 0 1 0-.97.242l1.5 6a.5.5 0 0 0 .967.01L8 9.402l1.018 3.73a.5.5 0 0 0 .967-.01l1.5-6a.5.5 0 0 0-.97-.242l-1.036 4.144-.997-3.655a.5.5 0 0 0-.964 0l-.997 3.655L5.485 6.88z\" />\n      <path d=\"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z\" />\n    </svg>\n  );\n});\n\nexport const FileRichText = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\" />\n      <path d=\"M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm1.639-3.708 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V8.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8s1.54-1.274 1.639-1.208zM6.25 6a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z\" />\n    </svg>\n  );\n});\n\nexport const FilePpt = forwardRef((props, ref) => {\n  return (\n    <svg\n      ref={ref}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\"\n      height=\"16\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 16 16\"\n      {...props}\n    >\n      <path d=\"M7 5.5a1 1 0 0 0-1 1V13a.5.5 0 0 0 1 0v-2h1.188a2.75 2.75 0 0 0 0-5.5H7zM8.188 10H7V6.5h1.188a1.75 1.75 0 1 1 0 3.5z\" />\n      <path d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\" />\n    </svg>\n  );\n});\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport isFunction from 'lodash.isfunction';\n\nimport { getClassName } from '@miq/utils';\n\nimport './search-text-input.scss';\n\nimport { Search as SearchIcon } from '../icons';\n\nconst propTypes = {\n  initialValue: PropTypes.string,\n  onChange: PropTypes.func,\n};\n\nexport const SearchTextInput = (props) => {\n  const { id, className, initialValue = '', onChange, ...rest } = props;\n\n  const [q, setQ] = useState(initialValue);\n\n  const handleChange = (e) => {\n    const { value } = e.target;\n    setQ(value);\n\n    if (isFunction(onChange)) onChange({ e });\n\n    // if (!value || value.length < 3) {\n    //   query.delete('q');\n    // } else {\n    //   query.set('q', e.target.value);\n    // }\n\n    // if (!push.current) return;\n\n    // const path = new URL(window.location.href);\n    // push.current(`${path.pathname}?${query}`);\n  };\n\n  return (\n    <div id={id} className={getClassName(['miq-search-input', className])}>\n      <div className=\"icon-wrapper\">\n        <SearchIcon className=\"icon\" />\n      </div>\n      <input\n        placeholder=\"Chercher un document par titre, reference ou description\"\n        {...rest}\n        type=\"text\"\n        name=\"q\"\n        value={q || ''}\n        className=\"miq-input\"\n        onChange={handleChange}\n      />\n    </div>\n  );\n};\n\nSearchTextInput.propTypes = propTypes;\nSearchTextInput.defaultValues = {\n  initialValue: '',\n};\n","import PropTypes from \"prop-types\";\n\nimport \"./textareax.scss\";\nimport { getClassName } from \"@miq/utils\";\n\nconst { forwardRef } = require(\"react\");\n\nconst propTypes = {\n    id: PropTypes.string,\n    className: PropTypes.string,\n    ref: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({ current: PropTypes.any })]),\n\n    value: PropTypes.string,\n    required: PropTypes.bool,\n\n    onChange: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onKeyUp: PropTypes.func,\n\n    style: PropTypes.object,\n    placeholder: PropTypes.string,\n    clearFocus: PropTypes.bool,\n};\n\nconst TextareaX = forwardRef((props, ref) => {\n    const { id, clearFocus, value, onChange, placeholder = \"Start typing ...\", ...rest } = props;\n    const style = props.style;\n\n    return (\n        <div id={id} className={getClassName([\"textareax\", clearFocus && \"clear-focus\"])}>\n            <span className=\"textareax-mirror\" {...{ style }}>{`${value}\\n`}</span>\n\n            <div className=\"textareax-input\">\n                <textarea {...rest} {...{ value, onChange, placeholder, style }} ref={ref} />\n            </div>\n        </div>\n    );\n});\n\nTextareaX.propTypes = propTypes;\n\nexport default TextareaX;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\n\nimport { getClassName } from \"@miq/utils\";\n\nimport \"./modal.scss\";\n\nexport const Portal = ({ children }) => {\n    return ReactDOM.createPortal(children, document.body);\n};\n\nPortal.Modal = Modal;\nPortal.propTypes = { children: PropTypes.node.isRequired };\n\nexport default function Modal({ id, header, children, footer, fullscreen, ...props }) {\n    return (\n        <div id={id} className={getClassName([\"miq-modal-container\", props.className])}>\n            <div className=\"miq-modal-background\" />\n\n            <div className=\"miq-modal-inner\">\n                <div className=\"miq-modal-content\">\n                    <div\n                        className={getClassName([\n                            \"miq-modal-content-inner\",\n                            fullscreen && \"miq-modal-content-inner-fullscreen\",\n                        ])}\n                    >\n                        {header && <div className=\"miq-modal-header\">{header}</div>}\n\n                        <div className=\"miq-modal-body\">{children}</div>\n\n                        {footer && <div className=\"miq-modal-footer\">{footer}</div>}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nModal.propTypes = {\n    id: PropTypes.string,\n    fullscreen: PropTypes.bool,\n\n    header: PropTypes.node,\n    children: PropTypes.node.isRequired,\n    footer: PropTypes.node,\n};\n","import { useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport isFunction from 'lodash.isfunction';\n\nimport { getClassName } from '@miq/utils';\n\nconst propTypes = {\n  level: PropTypes.string,\n  message: PropTypes.string,\n  component: PropTypes.node,\n  render: PropTypes.func,\n  ctx: PropTypes.object.isRequired,\n  id: PropTypes.string.isRequired,\n  timeOut: PropTypes.number,\n  autoClose: PropTypes.bool,\n};\n\nexport function ToastItem({ ctx, ...props }) {\n  const { id, timeOut = 1000, autoClose = true } = props;\n  const { remove } = ctx;\n  const removeItem = useCallback(\n    () =>\n      setInterval(() => {\n        remove(id);\n      }, timeOut),\n    [id, timeOut]\n  );\n\n  useEffect(() => {\n    if (!autoClose) return;\n    const interval = removeItem();\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [removeItem, autoClose]);\n\n  let Comp = props.message || props.component;\n  if (isFunction(props.render)) Comp = props.render(props);\n\n  const { level } = props;\n  const className = getClassName(['miq-toast-item', level && `${level}`, props.className]);\n\n  return <div className={className}>{Comp}</div>;\n}\n\nToastItem.propTypes = propTypes;\n","import { createContext } from 'react';\nimport PropTypes from 'prop-types';\nimport isArray from 'lodash.isarray';\n\nimport { isRequired, getClassName } from '@miq/utils';\nimport { Portal } from '../Modal';\n\nimport './toast.scss';\nimport { ToastItem } from './ToastItem';\n\nexport const ToastCtx = createContext();\n\nconst { Provider } = ToastCtx;\n\nconst propTypes = {\n  context: PropTypes.object.isRequired,\n  autoClose: PropTypes.bool,\n  timeOut: PropTypes.number,\n};\n\nexport const ToastProvider = ({ children, context = isRequired('Toast context'), position }) => {\n  return (\n    <Provider value={context}>\n      {children}\n\n      <ToastPortal ctx={context} position={position} />\n    </Provider>\n  );\n};\n\nToastProvider.propTypes = propTypes;\n\nconst ToastPortal = ({ ctx, position = 'top-center' }) => {\n  const { items } = ctx;\n  if (!(isArray(items) && Boolean(items.length))) return null;\n\n  return (\n    <Portal>\n      <div className={getClassName(['miq-toast-items', position])}>\n        {items.map((item) => (\n          <ToastItem {...item} ctx={ctx} key={item.id} />\n        ))}\n      </div>\n    </Portal>\n  );\n};\n\nToastPortal.propTypes = {\n  ctx: PropTypes.shape({\n    items: PropTypes.array.isRequired,\n  }).isRequired,\n  position: PropTypes.oneOf(['top', 'top-left', 'top-right', 'bottom', 'bottom-left', 'bottom-right']),\n};\n","import { useMemo, useState } from 'react';\nimport { v4 as uuid } from 'uuid';\nimport isFunction from 'lodash.isfunction';\n\nexport const useToast = () => {\n  const [items, setItems] = useState([]);\n\n  const data = useMemo(() => {\n    const add = (toastData, callback) => {\n      setItems((items) => [{ ...toastData, id: uuid() }, ...items]);\n      isFunction(callback) && callback();\n    };\n\n    const update = (newToastData, callback) => {\n      setItems((items) =>\n        items.map((i) => {\n          if (i.id === newToastData.id) return { ...i, ...newToastData };\n          return i;\n        })\n      );\n      isFunction(callback) && callback();\n    };\n\n    const remove = (toastId, callback) => {\n      setItems((items) => items.filter((i) => i.id !== toastId));\n      isFunction(callback) && callback();\n    };\n\n    const clear = (callback) => {\n      setItems([]);\n      isFunction(callback) && callback();\n    };\n\n    const success = (toastData, callback) => add({ ...toastData, level: 'success' }, callback);\n    const info = (toastData, callback) => add({ ...toastData, level: 'info' }, callback);\n    const warning = (toastData, callback) => add({ ...toastData, level: 'warning' }, callback);\n    const error = (toastData, callback) => add({ ...toastData, level: 'error' }, callback);\n    return { items, add, update, remove, clear, success, info, warning, error };\n  }, [items]);\n\n  return data;\n};\n","import PropTypes from 'prop-types';\n\nimport { getClassName } from '@miq/utils';\nimport { Image as ImgIcon } from '../icons';\n\nconst propTypes = {\n  // Icon: PropTypes.t,\n  id: PropTypes.string,\n  className: PropTypes.string,\n};\n\nexport const ImgPlaceholderDiv = (props) => {\n  let { Icon = ImgIcon, ...rest } = props;\n\n  return (\n    <div {...rest} className={getClassName(['miq-img-placeholder', rest.className])}>\n      <Icon className=\"icon\" />\n    </div>\n  );\n};\n\nImgPlaceholderDiv.propTypes = propTypes;\n","import React from 'react';\n\nimport { getClassName, getImgUrl } from '@miq/utils';\n\nimport { ImgPlaceholderDiv } from './ImgPlaceholderDiv';\n\nexport const Picture = (props) => {\n  let { src, src_mobile, isMobile, ...mobile_data } = props;\n  const { width_mobile, height_mobile, ...rest } = mobile_data;\n\n  if (!src) return <ImgPlaceholderDiv {...rest} />;\n\n  src = getImgUrl(src);\n  src_mobile = getImgUrl(src_mobile);\n  const orientation =\n    props?.width < props?.height ? 'portrait' : props?.width === props?.height ? 'square' : 'landscape';\n\n  return (\n    <picture>\n      <source srcSet={src} media={`(min-width: 768px)`} />\n      <img\n        {...rest}\n        src={src_mobile || src}\n        alt={props.alt_text || props.title || ''}\n        className={getClassName(['miq-img miq-img-picture', orientation, rest.className])}\n        title={props.title}\n        aria-label={props.aria_label || props.title}\n      />\n    </picture>\n  );\n};\n\nexport const Img = (props) => {\n  let { src, src_mobile, isMobile, ...mobile_data } = props;\n  const { width_mobile, height_mobile, ...rest } = mobile_data;\n\n  if (!src) return <ImgPlaceholderDiv {...rest} />;\n\n  src = getImgUrl(src);\n  src_mobile = getImgUrl(src_mobile);\n  const orientation =\n    props?.width < props?.height ? 'portrait' : props?.width === props?.height ? 'square' : 'landscape';\n\n  return (\n    <img\n      width={isMobile ? width_mobile : props.width}\n      height={isMobile ? height_mobile : props.height}\n      src={isMobile ? src_mobile : src}\n      alt={props.alt_text || props.title || ''}\n      title={props.title}\n      aria-label={props.ariaLabel || props.title}\n      className={getClassName(['miq-img', isMobile && 'miq-img-mobile', orientation, rest.className])}\n    />\n  );\n};\n","import React from 'react';\nimport { getClassName, getImgUrl } from '@miq/utils';\nimport { ImgPlaceholderDiv } from './ImgPlaceholderDiv';\n\nexport const ImgSquare = (props) => {\n  let { src, thumb_sq, className } = props;\n  if (!src) return <ImgPlaceholderDiv {...props} />;\n\n  return (\n    <div\n      id={props.id}\n      className={getClassName(['miq-img-square', props.className])}\n      onClick={props.onClick}\n      style={props.style}\n    >\n      <img\n        id={props.id}\n        src={getImgUrl(thumb_sq || src)}\n        alt={props.alt_text || ''}\n        className={getClassName(['miq-img-square-content', className])}\n      />\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { forwardRef } from 'react';\n\nconst accept = [\n  `image/*`,\n  `.pdf`,\n  `.md`,\n  `.doc`,\n  `.docx`,\n  `application/msword`,\n  `application/vnd.openxmlformats-officedocument.wordprocessingml.document`,\n].join(',');\n\nexport const FileInput = forwardRef(({ name = 'files', ...props }, ref) => {\n  return ReactDOM.createPortal(\n    <input name={name} accept={accept} {...props} type=\"file\" style={{ ...props.style, display: 'none' }} ref={ref} />,\n    document.body\n  );\n});\n\nFileInput.propTypes = {\n  name: PropTypes.string,\n  onChange: PropTypes.func,\n  accept: PropTypes.string,\n  style: PropTypes.object,\n  multiple: PropTypes.bool,\n};\n","import { forwardRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport isFunction from 'lodash.isfunction';\nimport { NavLink } from 'react-router-dom';\n\nimport './buttons.scss';\n\nimport { getClassName } from '@miq/utils';\nimport { Portal } from './Modal';\nimport { Plus } from './icons';\n\nconst propTypes = {\n  title: PropTypes.string,\n  disabled: PropTypes.bool,\n};\n\n/**\n *\n */\nexport const Button = forwardRef(({ children, ...props }, ref) => {\n  const { type = 'button' } = props;\n  return (\n    <button {...props} {...{ type }} className={getClassName(['btn', props.className])} ref={ref}>\n      {children}\n    </button>\n  );\n});\n\nButton.displayName = 'Button';\nButton.propTypes = propTypes;\n\nconst IBPropTypes = {\n  ...propTypes,\n  label: PropTypes.string,\n  maxSize: PropTypes.number,\n  // Icon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n  Icon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n};\n\n/**\n *\n * @param {*} param0\n * @returns\n */\nexport const IconButton = ({ Icon, label, ...props }) => {\n  if (!Icon) return null;\n\n  const { maxSize, labelFirst, primary, secondary, ...rest } = props;\n\n  return (\n    <button\n      title={props.label}\n      aria-label={props.title || props.label}\n      type=\"button\"\n      {...rest}\n      className={getClassName([\n        'btn',\n        label ? 'btn-icon-label' : 'btn-icon',\n        primary ? 'btn-primary' : secondary && 'btn-secondary',\n        props.className,\n      ])}\n    >\n      <Icon className=\"icon\" height={maxSize} width={maxSize} />\n      {label && <span className=\"label\">{label}</span>}\n    </button>\n  );\n};\nIconButton.propTypes = IBPropTypes;\n\n/**\n *\n * @param {*} param0\n * @returns\n */\nexport const IconNavLink = ({ Icon, label, children, ...props }) => {\n  // if (!Icon || !props.to) return null;\n  const { maxSize, labelFirst, primary, secondary, ...rest } = props;\n\n  return (\n    <NavLink\n      {...rest}\n      className={getClassName([\n        'btn',\n        label ? 'btn-icon-label' : 'btn-icon',\n        primary ? 'btn-primary' : secondary && 'btn-secondary',\n        props.className,\n      ])}\n    >\n      {children}\n      {Icon && <Icon className=\"icon\" />}\n      {label && <span className=\"label\">{label}</span>}\n    </NavLink>\n  );\n};\nIconNavLink.propTypes = IBPropTypes;\n\nexport const ConfirmIconButton = ({ render, onCancel, onSuccess, ...props }) => {\n  const [isOpen, setOpen] = useState(false);\n\n  const { children, renderHeader, renderFooter, fullscreen, modalId, modalClassName, ...button } = props;\n\n  if (!isFunction(render)) return null;\n\n  const ButtonComponent = props.Icon ? IconButton : Button;\n\n  return (\n    <div className=\"\">\n      <ButtonComponent {...button} onClick={() => setOpen(!isOpen)}>\n        {!props.Icon && children}\n      </ButtonComponent>\n\n      <Portal>\n        {isOpen && (\n          <Portal.Modal\n            id={modalId}\n            className={modalClassName}\n            fullscreen={fullscreen}\n            header={isFunction(renderHeader) && renderHeader({ isOpen, setOpen })}\n            footer={isFunction(renderFooter) && renderFooter({ isOpen, setOpen })}\n          >\n            {render({ isOpen, setOpen })}\n          </Portal.Modal>\n        )}\n      </Portal>\n    </div>\n  );\n};\n\n// =======================================================\n\nexport const IBtnSave = (props) => {\n  return <IconButton Icon={Plus} {...props} />;\n};\n","import { forwardRef, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { services, isRequired, getClassName } from '@miq/utils';\n\nimport { FileInput } from '../File';\nimport { Button } from '../buttons';\n\nconst propTypes = {\n  slug: PropTypes.string,\n  multiple: PropTypes.bool,\n\n  onCreate: PropTypes.func,\n  onUpdate: PropTypes.func,\n  onError: PropTypes.func,\n\n  children: PropTypes.any,\n};\n\nconst postImage = (file = isRequired('File'), alt_text = '') => {\n  if (file.name.length > 499) {\n    return Promise.reject('Filename too long');\n  }\n\n  const fd = new FormData();\n  fd.append('src', file, file.name);\n  fd.append('alt_text', alt_text);\n\n  return services().post(`/api/v1/images/`, fd, {\n    headers: { 'content-type': 'multipart/form-data' },\n  });\n};\nconst postImageFromUrl = (url = isRequired('Url'), alt_text = '') => {\n  const fd = new FormData();\n  fd.append('src', url);\n  fd.append('alt_text', alt_text);\n\n  return services().post(`/api/v1/images/`, fd, {\n    headers: { 'content-type': 'multipart/form-data' },\n  });\n};\n\nconst patchImage = (imgSlug, file = isRequired('File'), alt_text = '', isMobile = false) => {\n  if (file.name.length > 499) {\n    return Promise.reject('Filename too long');\n  }\n\n  const fd = new FormData();\n  fd.append(isMobile ? 'src_mobile' : 'src', file, file.name);\n  fd.append('alt_text', alt_text);\n\n  return services().patch(`/api/v1/images/${imgSlug}/`, fd, {\n    headers: { 'content-type': 'multipart/form-data' },\n  });\n};\n\nexport const ImgUploadButton = forwardRef(({ children, ...props }, ref) => {\n  let uploadRef = createRef();\n\n  const { slug, onCreate, onUpdate, onError, alt_text = '', isMobile, multiple, accept = 'image/*', ...rest } = props;\n\n  const uploadFile = (e) => {\n    const func = slug ? patchImage : postImage;\n    const callback = slug ? onUpdate : onCreate;\n    const file = Array.from(e.target.files)[0];\n\n    let args = slug ? [slug, file, alt_text] : [file, alt_text];\n    if (slug && isMobile) args.push(isMobile);\n\n    return func(...args)\n      .then((data) => {\n        if (callback) return callback(data);\n      })\n      .catch((err) => {\n        // console.log(err);\n        if (onError) return onError(err);\n      });\n  };\n\n  function uploadFiles(e) {\n    const func = slug ? patchImage : postImage;\n    const callback = slug ? onUpdate : onCreate;\n    const promises = [];\n\n    const files = Array.from(e.target.files).splice(0, 10);\n    files.forEach((file, i) => {\n      const args = slug ? [slug, file, alt_text] : [file, alt_text];\n      promises.push(func(...args).catch((err) => {}));\n    });\n\n    Promise.all(promises).then((images) => {\n      if (callback) return callback(images);\n    });\n  }\n\n  return (\n    <>\n      <Button\n        {...rest}\n        id={props.id}\n        className={getClassName(['miq-img-upload-btn', props.className])}\n        onClick={() => uploadRef.click()}\n        ref={ref}\n      >\n        {children || `Upload Image${multiple ? 's' : ''}`}\n      </Button>\n      <FileInput\n        accept={accept}\n        multiple={multiple}\n        onChange={multiple ? uploadFiles : uploadFile}\n        ref={(file) => (uploadRef = file)}\n      />\n    </>\n  );\n});\n\nImgUploadButton.propTypes = propTypes;\nImgUploadButton.postImage = postImage;\nImgUploadButton.postImageFromUrl = postImageFromUrl;\n","import { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { services, getClassName } from '@miq/utils';\n\nimport { Trash } from '../icons';\nimport { IconButton } from '../buttons';\n\nconst propTypes = {\n  slug: PropTypes.string,\n\n  onSuccess: PropTypes.func,\n  onError: PropTypes.func,\n\n  children: PropTypes.any,\n};\n\nexport const ImgDeleteIconButton = forwardRef(({ children, ...props }, ref) => {\n  const { slug, onSuccess, onError, ...rest } = props;\n  if (!slug) return null;\n\n  const handleDelete = (e) => {\n    return services()\n      .delete(`/api/v1/images/${slug}/`)\n      .then((data) => {\n        if (onSuccess) return onSuccess(data);\n      })\n      .catch((err) => {\n        if (onError) return onError(err);\n      });\n  };\n\n  return (\n    <IconButton\n      Icon={Trash}\n      label=\"Delete Image\"\n      {...rest}\n      className={getClassName(['miq-img-delete-btn', props.className])}\n      onClick={handleDelete}\n      ref={ref}\n    />\n  );\n});\n\nImgDeleteIconButton.propTypes = propTypes;\n","import { getClassName } from '@miq/utils/';\nimport { Picture } from './Img';\n\nexport const ImgsHorizontalGallery = ({ images = [], mobileOnly, ...props }) => {\n  if (!images) return null;\n\n  return (\n    <div id={props.id} className={getClassName(['imgs-gallery-horizontal', props.className])}>\n      <div className={getClassName(['imgs-gallery-horizontal-inner', mobileOnly && 'md-vertical'])}>\n        {images.map((img) => {\n          return (\n            <div className=\"gallery-item\" key={img.slug || img.src}>\n              <Picture {...img} />\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport const ImgsVerticalGallery = ({ images = [], ...props }) => {\n  return (\n    <div id={props.id} className={getClassName(['imgs-gallery-vertical', props.className])}>\n      {images.map((img) => {\n        return (\n          <div className=\"gallery-item mb-1\" key={img.slug || img.src}>\n            <Picture {...img} />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport isInteger from 'lodash.isinteger';\nimport isArray from 'lodash.isarray';\n\nimport { SharedDataCtx } from '@miq/contexts';\nimport { services, getClassName, getImgUrl } from '@miq/utils';\n\nimport { ToastCtx } from '../Toast';\n\nimport { PersonCircle as PersonIcon } from '../icons';\nimport { ImgSquare } from '../Image';\nimport { ImgUploadButton } from '../Image/ImgUpdloadButton';\n\nimport './Avatar.scss';\n\nexport const Avatar = (props) => {\n  const src = props.thumb_sq || props.thumb || props.src;\n  return (\n    <ImgSquare Icon={PersonIcon} {...props} src={src} className={getClassName(['miq-user-avatar', props.className])} />\n  );\n};\n\nAvatar.propTypes = {};\n\nexport const AvatarGroup = ({ users, count, limit = 4, ...props }) => {\n  if (!isArray(users) || !users.length) return null;\n\n  if (limit < 2 || !isInteger(limit)) limit = 2;\n\n  return (\n    <div className=\"miq-user-avatar-group\">\n      {users.slice(0, limit).map((user) => {\n        let src = user.thumb_sq || user.thumb || user.src;\n        if (src) src = getImgUrl(src);\n        return (\n          <div\n            className={getClassName(['miq-user-avatar-item', !src && 'empty'])}\n            title={user.name}\n            style={{ backgroundImage: `url(${src})` }}\n            key={user.slug}\n          >\n            {!src && <span>{user.initials}</span>}\n          </div>\n        );\n      })}\n      {users.length > limit && (\n        <div className=\"miq-user-avatar-item count\" title={`Ce document est partag avec ${count} personnes.`}>\n          {count}\n        </div>\n      )}\n    </div>\n  );\n};\n\nAvatarGroup.propTypes = {\n  count: PropTypes.number,\n  limit: PropTypes.number,\n  users: PropTypes.arrayOf(\n    PropTypes.shape({\n      thumb_sq: PropTypes.string,\n      thumb: PropTypes.string,\n      src: PropTypes.string,\n      name: PropTypes.string,\n      slug: PropTypes.string,\n      initials: PropTypes.string,\n    })\n  ),\n};\n\nconst UpdateAvatarImg = (imgSlug) =>\n  services().patch(\n    `/api/v1/account/current/`,\n    { img: imgSlug },\n    {},\n    { headers: { 'Content-Type': 'application/json' } }\n  );\n\nexport const AvatarUploadButton = ({ children, ...props }) => {\n  const toaster = useContext(ToastCtx);\n  const { user, updateUser } = useContext(SharedDataCtx);\n\n  const saveImage = ({ slug }) => {\n    UpdateAvatarImg(slug).then((img_data) => {\n      updateUser({ img_data });\n      if (toaster) {\n        toaster.success({ message: 'Avatar updated!', timeOut: 3000 });\n      }\n    });\n  };\n\n  const updateImage = (img_data) => {\n    updateUser({ img_data });\n    if (toaster) {\n      toaster.success({ message: 'Avatar updated!', timeOut: 3000 });\n    }\n  };\n\n  return (\n    <ImgUploadButton\n      id={props.id}\n      className={getClassName(['avatar-upload-btn', props.className])}\n      accept=\".jpg,.jpeg,.png,.gif\"\n      slug={user.img ? user.img_data.slug : null}\n      onCreate={saveImage}\n      onUpdate={updateImage}\n    >\n      {children || <Avatar {...user.img_data} />}\n    </ImgUploadButton>\n  );\n};\n\nAvatarUploadButton.propTypes = {\n  children: PropTypes.any,\n};\n","import { Button } from './buttons';\nimport PropTypes from 'prop-types';\nimport { getClassName } from '@miq/utils';\n\nimport './pagination.scss';\nimport { ArrowLeft, ArrowRight } from './icons';\n\nexport const paginationPropTypes = {\n  count: PropTypes.number,\n  next: PropTypes.string,\n  previous: PropTypes.string,\n  onNextClick: PropTypes.func,\n  onPreviousClick: PropTypes.func,\n};\n\nexport const Pagination = ({ count = 0, next, previous, ...props }) => {\n  if (!count && next) return null;\n\n  const { onNextClick, onPreviousClick } = props;\n\n  return (\n    <div className=\"miq-pagination miq-container d-flex align-items-center justify-content-between\">\n      <div className=\"previous\">\n        {previous && (\n          <Button onClick={onPreviousClick} className=\"btn-previous\">\n            Previous\n          </Button>\n        )}\n      </div>\n\n      <div className=\"next\">\n        {next && (\n          <Button onClick={onNextClick} className=\"btn-next\">\n            Next\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst anchorPropTypes = {\n  pagination: PropTypes.shape({\n    is_paginated: PropTypes.bool,\n    has_next: PropTypes.bool,\n    has_next_page_number: PropTypes.number,\n    has_next_url: PropTypes.string,\n    has_previous: PropTypes.bool,\n    has_previous_page_number: PropTypes.number,\n    has_previous_url: PropTypes.string,\n    num_pages: PropTypes.number,\n    page_obj_number: PropTypes.number,\n    per_page: PropTypes.number,\n    allow_empty_first_page: PropTypes.bool,\n  }),\n  href: PropTypes.string,\n  label: PropTypes.string,\n  children: PropTypes.any,\n  target: PropTypes.oneOf(['_blank', '_parent', '_self', '_top']),\n  id: PropTypes.string,\n  className: PropTypes.string,\n};\n\nconst NextAnchor = ({ pagination, label, children, ...props }) => {\n  if (!pagination || !pagination.is_paginated || !pagination.has_next) return null;\n\n  return (\n    <a {...props} href={pagination.has_next_url}>\n      {children || label || pagination.has_next_page_number}\n    </a>\n  );\n};\n\nNextAnchor.propTypes = anchorPropTypes;\n\nconst PreviousAnchor = ({ pagination, label, children, ...props }) => {\n  if (!pagination || !pagination.is_paginated || !pagination.has_previous) return null;\n\n  return (\n    <a {...props} href={pagination.has_previous_url}>\n      {children || label || pagination.has_previous_page_number}\n    </a>\n  );\n};\n\n// source: https://www.freecodecamp.org/news/build-a-custom-pagination-component-in-react/\n\nconst range = (start, end) => {\n  const length = end - start + 1;\n  return Array.from({ length }, (_, i) => i + start);\n};\nconst DOTS = '...';\n\nconst AnchorLinks = ({ pagination, ...props }) => {\n  if (!pagination || !pagination.is_paginated) return null;\n\n  const { num_pages, page_obj_number } = pagination;\n\n  const linksRange = () => {\n    const siblingCount = props.siblingCount || 1;\n    const totalPageNumbers = siblingCount + 5;\n    if (totalPageNumbers >= num_pages) return range(1, num_pages);\n\n    const leftLinkIdx = Math.max(page_obj_number - siblingCount, 1);\n    const rightLinkIdx = Math.min(page_obj_number + siblingCount, num_pages);\n    const hasLDots = leftLinkIdx > 2;\n    const hasRDots = rightLinkIdx < num_pages - 2;\n\n    const firstPageIndex = 1;\n    const lastPageIndex = num_pages;\n\n    if (!hasLDots && hasRDots) {\n      let leftItemCount = 3 + 2 * siblingCount;\n      let leftRange = range(1, leftItemCount);\n\n      return [...leftRange, DOTS, num_pages];\n    }\n\n    if (hasLDots && !hasRDots) {\n      let rightItemCount = 3 + 2 * siblingCount;\n      let rightRange = range(num_pages - rightItemCount + 1, num_pages);\n      return [firstPageIndex, DOTS, ...rightRange];\n    }\n\n    if (hasLDots && hasRDots) {\n      let middleRange = range(leftLinkIdx, rightLinkIdx);\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\n    }\n    return [];\n  };\n\n  return (\n    <div className=\"miq-pagination-links d-flex align-items-center\">\n      {pagination.has_previous && (\n        <div className=\"item\">\n          <PreviousAnchor pagination={pagination}>\n            <ArrowLeft className=\"icon\" />\n          </PreviousAnchor>\n        </div>\n      )}\n\n      {linksRange().map((item, i) => {\n        if (item === DOTS)\n          return (\n            <div className=\"item empty\" key={`${item}${i}`}>\n              {item}\n            </div>\n          );\n\n        const path = new URL(location.href);\n        path.searchParams.set('page', item);\n\n        return (\n          <div className={getClassName(['item', item === page_obj_number && 'current'])} key={`${item}${i}`}>\n            <a href={`${path.pathname}${path.search}`} className=\"item-link\">\n              {item}\n            </a>\n          </div>\n        );\n      })}\n\n      {pagination.has_next && (\n        <div className=\"item\">\n          <NextAnchor pagination={pagination}>\n            <ArrowRight className=\"icon\" />\n          </NextAnchor>\n        </div>\n      )}\n    </div>\n  );\n};\n\nPreviousAnchor.propTypes = anchorPropTypes;\n\nPagination.propTypes = paginationPropTypes;\n\nPagination.Links = AnchorLinks;\nPagination.NextAnchor = NextAnchor;\nPagination.PreviousAnchor = PreviousAnchor;\n","import './jumbotron.scss';\n\nimport { Img } from '..';\n\nexport const Jumbotron = ({ image, ...props }) => {\n  const { title, text, url } = props;\n\n  return (\n    <div className=\"d-flex align-items-center justify-content-center\" style={{ position: `relative` }}>\n      <div\n        className=\"\"\n        style={{\n          backgroundImage: image && `url(${image.src})`,\n          backgroundPosition: `100% top`,\n          position: `absolute`,\n          top: 0,\n          right: 0,\n          bottom: 0,\n          left: 0,\n          margin: `auto`,\n          backgroundSize: 'cover',\n        }}\n      ></div>\n      {/* <div className=\"\">\n        {title && <h2>{title}</h2>}\n        {text && <h4>{text}</h4>}\n      </div> */}\n\n      {/* <Img {...image} /> */}\n    </div>\n  );\n};\n","import { v4 as uuid } from 'uuid';\nimport PropTypes from 'prop-types';\nimport isFunction from 'lodash.isfunction';\nimport isArray from 'lodash.isarray';\n\nimport { getClassName } from '@miq/utils';\n\nimport './table.scss';\nimport { Pagination, paginationPropTypes } from '../Pagination';\n\nconst propTypes = {\n  items: PropTypes.array,\n  renderItem: PropTypes.func.isRequired,\n  pagination: PropTypes.shape(paginationPropTypes),\n};\n\nexport const ItemTable = ({ items, renderItem, pagination, ...props }) => {\n  if (!isArray(items) || !isFunction(renderItem)) return null;\n\n  return (\n    <>\n      <Table {...props}>{items.map((item) => renderItem(item))}</Table>\n      {pagination && (\n        <div className=\"miq-item-list-pagination\">\n          <Pagination {...pagination} />\n        </div>\n      )}\n    </>\n  );\n};\n\nItemTable.propTypes = propTypes;\n\nconst Header = ({ headers }) => {\n  if (!isArray(headers)) return null;\n\n  return (\n    <thead className=\"miq-table-header\">\n      <tr>\n        {headers.map((header) => {\n          return <th key={uuid()}>{header}</th>;\n        })}\n      </tr>\n    </thead>\n  );\n};\n\nexport default function Table({ children, ...props }) {\n  const { headers, ...rest } = props;\n  return (\n    <table {...rest} className={getClassName(['miq-table', props.className])}>\n      <Header {...props} {...{ headers }} />\n      <tbody>{children}</tbody>\n    </table>\n  );\n}\n\nTable.Tr = ({ children, ...props }) => (\n  <tr {...props} className={getClassName(['miq-table-tr', props.className])}>\n    {children}\n  </tr>\n);\n\nTable.Td = ({ children, ...props }) => (\n  <td {...props} className={getClassName(['miq-table-td', props.className])}>\n    {children}\n  </td>\n);\n","/**\n * NOT WORKING YET\n */\n\nimport { createRef, forwardRef, useEffect, useState } from \"react\";\nimport { getClassName } from \"@miq/utils\";\n\nimport \"./main.scss\";\n\n/**\n *\n * @param {*} param0\n * @returns\n */\n\nconst Img = ({ src, height, width, ...props }) => {\n    const ref = createRef();\n    const [rowEnd, setRowEnd] = useState(0);\n\n    useEffect(() => {\n        const img = ref.current;\n        if (!img) return;\n\n        const handleLoad = () => {\n            const r = width / height;\n            const cWidth = img.clientWidth;\n            const cHeight = Math.floor(cWidth / r);\n            setRowEnd(cHeight);\n        };\n\n        img.addEventListener(\"load\", handleLoad);\n        handleLoad();\n        return () => img.removeEventListener(\"load\", handleLoad);\n    }, []);\n\n    return (\n        <ItemDiv style={{ gridRowEnd: `span ${rowEnd}` }}>\n            <img\n                {...props}\n                src={src}\n                alt={props.alt_text || \"\"}\n                className={getClassName([\"miq-masonry-img\", props.className])}\n                ref={ref}\n            />\n        </ItemDiv>\n    );\n};\n\n/**\n *\n * @param {*} param0\n * @returns\n */\nconst ItemDiv = ({ children, ...props }) => (\n    <div {...props} className={getClassName([\"miq-masonry-item\", props.className])}>\n        {children}\n    </div>\n);\n\n/**\n *\n */\n\nexport const MasonryGrid = forwardRef(({ children, ...props }, ref) => {\n    return (\n        <div className=\"miq-masonry-grid\" ref={ref}>\n            {children}\n        </div>\n    );\n});\n\nMasonryGrid.Img = Img;\nMasonryGrid.ItemDiv = ItemDiv;\n\n/**\n *\n */\nexport const MasonryColumn = forwardRef(({ children, ...props }, ref) => {\n    return (\n        <div className=\"miq-masonry-column\" ref={ref}>\n            {children}\n        </div>\n    );\n});\n","import \"./Loaders.scss\";\n\nexport const Loading = (props) => (\n    <div className=\"miq-loader\">\n        <CubeGrid />\n    </div>\n);\n\nexport const CubeGrid = (props) => (\n    <div className=\"sk-cube-grid\">\n        <div className=\"sk-cube sk-cube1\"></div>\n        <div className=\"sk-cube sk-cube2\"></div>\n        <div className=\"sk-cube sk-cube3\"></div>\n        <div className=\"sk-cube sk-cube4\"></div>\n        <div className=\"sk-cube sk-cube5\"></div>\n        <div className=\"sk-cube sk-cube6\"></div>\n        <div className=\"sk-cube sk-cube7\"></div>\n        <div className=\"sk-cube sk-cube8\"></div>\n        <div className=\"sk-cube sk-cube9\"></div>\n    </div>\n);\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Form from '@miq/form';\nimport { Button, ImgUploadButton, Img, ImgDeleteIconButton } from '@miq/components/';\nimport { getClassName, isRequired } from '@miq/utils/';\nimport { imgServices } from './utils';\n\nconst StaffCoverUpdateTab = ({ tab, data, ...props }) => {\n  const btnProps = {\n    slug: data?.slug,\n    onCreate: props.onCreate,\n    onUpdate: props.onUpdate,\n    accept: props.accept || '.jpg,.jpeg,.png,.gif,.webp',\n  };\n\n  switch (tab) {\n    case 'mobile':\n      return (\n        <div className=\"mobile\">\n          <ImgUploadButton {...btnProps} isMobile>\n            <Img {...data} isMobile />\n          </ImgUploadButton>\n        </div>\n      );\n\n    default:\n      return (\n        <div className=\"desktop\">\n          <ImgUploadButton {...btnProps}>\n            <Img {...data} />\n          </ImgUploadButton>\n          {!props.slug && <p className=\"mt-1\">Add cover</p>}\n        </div>\n      );\n  }\n};\n\nexport const StaffCoverUpdateForm = (props) => {\n  const [tab, setTab] = useState('desktop');\n  const slug = props?.data?.slug || props.slug;\n\n  return (\n    <div className={getClassName(['staff-cover-update-form', props.className])}>\n      {slug && (\n        <div className=\"staff-cover-update-form-nav d-flex flex-row align-items-center justify-content-between mb-1\">\n          <div className=\"\">\n            <Button\n              onClick={() => setTab('desktop')}\n              className={getClassName(['me-1', tab === 'desktop' && 'btn-primary-3'])}\n            >\n              Desktop\n            </Button>\n            <Button onClick={() => setTab('mobile')} className={getClassName([tab === 'mobile' && 'btn-primary-3'])}>\n              Mobile\n            </Button>\n          </div>\n          <div>\n            {slug && <ImgDeleteIconButton label=\"\" className=\"btn-danger-3\" slug={slug} onSuccess={props.onDelete} />}\n          </div>\n        </div>\n      )}\n\n      <StaffCoverUpdateTab {...props} tab={tab} slug={slug} />\n    </div>\n  );\n};\n\nexport const ImageAltTextInput = ({ image, ...props }) => {\n  const slug = image?.slug;\n\n  if (!image || !slug) return null;\n\n  const { form = isRequired('form'), toast, onSuccess, placeholder = 'Write alt text ...', required = true } = props;\n\n  const save = ({ value }) => {\n    if (!image.slug) return null;\n\n    return imgServices\n      .patch(slug, { alt_text: value })\n      .then((data) => {\n        if (onSuccess) return onSuccess(data);\n        if (toast) return toast.success({ message: 'Image updated' });\n      })\n      .catch((err) => {\n        if (form) return form.handleError(err);\n      });\n  };\n\n  return (\n    <Form.TextInput\n      required={required}\n      name=\"alt_text\"\n      onSave={save}\n      error={form ? form.errors.alt_text : null}\n      placeholder={placeholder}\n      maxLength={99}\n    />\n  );\n};\nImageAltTextInput.defaultProps = { form: { errors: {}, handleError: () => {} } };\nImageAltTextInput.propTypes = {\n  image: PropTypes.shape({ slug: PropTypes.string }).isRequired,\n  form: PropTypes.object,\n  toast: PropTypes.object,\n  onSuccess: PropTypes.func,\n};\n","import { StaffService } from '@miq/utils';\n\nclass ImageStaffService extends StaffService {\n  constructor(path) {\n    super(path);\n  }\n}\n\nexport const imgServices = new ImageStaffService('staffimages/');\n","import React from 'react';\n\nimport { componentToHtml } from '@miq/editor';\nimport { StaffCoverUpdateForm } from '@miq/adminjs/';\nimport Form, { useForm } from '@miq/form';\nimport { Picture, Button } from '@miq/components';\n\nimport { AdminView } from '../views';\nimport { siteServices } from './utils';\n\nexport const ClosePageRender = (props) => {\n  const { ct_title, ct_text, ct_image_data } = props;\n  const hasText = ct_title || ct_text;\n\n  return (\n    <div className=\"close-page\">\n      {ct_image_data && <Picture {...ct_image_data} />}\n\n      {hasText && (\n        <div className=\"close-page-inner\">\n          <div className=\"text-center p-3\">\n            {ct_title && <h1 className=\"close-template-title mb-1\">{ct_title}</h1>}\n            {ct_text && <h3 className=\"close-template-text\">{ct_text}</h3>}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst ClosePageForm = ({ setting = {}, ...props }) => {\n  const { toast, setSetting } = props;\n  const form = useForm({ ct_title: setting.ct_title || '', ct_text: setting.ct_text || '' });\n  const { slug } = setting;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const ct_html = componentToHtml(<ClosePageRender {...{ ...setting, ...form.values }} />);\n\n    return siteServices\n      .patch(slug, { ...form.values, ct_html })\n      .then(({ isUpdated, ...settingData }) => {\n        if (isUpdated) {\n          setSetting && setSetting(settingData);\n          toast && toast.success({ message: 'Page updated.' });\n        }\n      })\n      .catch((err) => form.handleError(err));\n  };\n\n  const handleImageCreate = (imgData) => {\n    const data = { ...setting, ct_image_data: imgData };\n\n    const html = componentToHtml(<ClosePageRender {...data} />);\n    return siteServices.patch(slug, { ct_image: imgData.slug, ct_html: html }).then(({ isUpdated, ...res }) => {\n      if (!isUpdated) return;\n      setSetting(res);\n      toast?.success({ message: 'Image added.' });\n    });\n  };\n\n  const handleImageUpdate = ({ isUpdated, ...imgData }) => {\n    const data = { ...setting, ct_image_data: imgData };\n    const html = componentToHtml(<ClosePageRender {...data} />);\n    return siteServices.patch(slug, { ct_html: html }).then(({ isUpdated, ...res }) => {\n      if (!isUpdated) return;\n      setSetting(res);\n      toast?.success({ message: 'Image updated.' });\n    });\n  };\n\n  return (\n    <Form context={form} onSubmit={handleSubmit} className=\"setting-close-page-form\">\n      <div className=\"d-grid grid-md-5 gap-2\">\n        <div className=\"span-md-3\">\n          <div className=\"mb-1\">\n            <Form.Label value=\"Title\" />\n            <Form.TextInput name=\"ct_title\" placeholder=\"Write title ...\" error={form.errors.ct_title} maxLength={50} />\n          </div>\n\n          <div className=\"mb-1\">\n            <Form.Label value=\"Text\" />\n            <Form.TextAreaX name=\"ct_text\" placeholder=\"Write text ...\" error={form.errors.ct_text} maxLength={99} />\n          </div>\n\n          <div className=\"mb-2\">\n            <Form.Submit value=\"Save\" className=\"btn btn-primary-2\" />\n          </div>\n        </div>\n\n        <div className=\"span-md-2\">\n          <StaffCoverUpdateForm\n            slug={setting?.ct_image}\n            data={setting?.ct_image_data}\n            onCreate={handleImageCreate}\n            onUpdate={handleImageUpdate}\n            onDelete={() => {\n              const data = { ...setting, ct_image_data: null, ct_image: null };\n              const html = componentToHtml(<ClosePageRender {...data} />);\n              return siteServices.patch(slug, { ct_html: html }).then(() => {\n                setSetting(data);\n                toast?.success({ message: 'Image deleted.' });\n              });\n            }}\n            className=\"mb-1\"\n          />\n        </div>\n      </div>\n    </Form>\n  );\n};\n\nexport default function SiteLiveSettingForm({ setting = {}, ...props }) {\n  const { toast, setSetting } = props;\n\n  if (!setting?.slug) return null;\n\n  const text = setting.is_live\n    ? 'Your site is published.'\n    : 'Your site is not published. No one but you can see your content.\\nCustomize your landing.';\n\n  return (\n    <AdminView.Section\n      title=\"Site Status\"\n      text={text}\n      actions={\n        <Button\n          onClick={() => {\n            return siteServices\n              .patch(setting.slug, { is_live: !setting.is_live })\n              .then(({ isUpdated, ...data }) => {\n                if (!isUpdated) return;\n\n                setSetting?.(data);\n                toast?.success({\n                  message: data.is_live ? 'Site published.' : 'No one but you can see the content.',\n                });\n              })\n              .catch((err) => {});\n          }}\n          className={setting.is_live ? 'btn-danger-3' : 'btn-primary'}\n        >\n          {setting && setting.is_live ? 'Unpublish site' : 'Publish site'}\n        </Button>\n      }\n    >\n      {!setting.is_live && <ClosePageForm {...props} setting={setting} />}\n    </AdminView.Section>\n  );\n}\n","import { createContext } from 'react';\n\nconst FormCtx = createContext(null);\n\nexport const FormProvider = FormCtx.Provider;\n\nexport default FormCtx;\n","import React, { forwardRef, useContext, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash.debounce';\nimport isFunction from 'lodash.isfunction';\n\nimport { TextareaX } from '@miq/components';\nimport { getClassName, isRequired, IS_DEV } from '@miq/utils';\nimport FormCtx from './FormCtx';\n\nconst withInput = (Component, args = {}) => {\n  return forwardRef((props, ref) => {\n    // props = { ...args, ...props };\n    const ctx = useContext(FormCtx) || isRequired('FormCtx');\n    const { name = isRequired('name prop') } = props;\n    let { value, checked } = props;\n\n    if (Object.keys(ctx.values).includes(name)) {\n      if (props.type === 'checkbox') checked = ctx.values[name];\n      else value = ctx.values[name];\n    }\n\n    let { onSave, error, isValid, ...rest } = props;\n    const debounceOnSave = useRef(\n      debounce((e) => {\n        if (props.required && !e.target.value) return;\n        if (!onSave || !isFunction(onSave)) return;\n        return onSave({ name: e.target.name, value: e.target.value, e });\n      }, 500)\n    );\n\n    const onChange = (e) => {\n      if (error) {\n        ctx.setErrors({ ...ctx.errors, [e.target.name]: null });\n      }\n\n      const func = props.onChange || ctx.handleChange;\n      if (!func) return;\n\n      func(e);\n      if (isFunction(isValid) && !isValid(e.target)) return;\n\n      if (!debounceOnSave.current) return;\n      debounceOnSave.current(e);\n    };\n\n    return (\n      <>\n        <Component\n          {...rest}\n          {...{ value, checked, onChange }}\n          className={getClassName([error && 'form-invalid', args.className, props.className])}\n          ref={ref}\n        />\n        {error && <div className=\"miq-form-error\">{error}</div>}\n      </>\n    );\n  });\n};\n\nexport const TextInput = withInput('input', { className: 'miq-input' });\nTextInput.propTypes = {\n  type: PropTypes.string,\n  id: PropTypes.string,\n  className: PropTypes.string,\n  value: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nexport const TextArea = withInput('textarea', { className: 'miq-textarea' });\nexport const TextAreaX = withInput(TextareaX);\n\nif (IS_DEV) {\n  TextInput.displayName = 'TextInput';\n  TextArea.displayName = 'TextArea';\n  TextAreaX.displayName = 'TextAreaX';\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getClassName } from '@miq/utils';\n\nconst propTypes = {\n  value: PropTypes.string,\n  // children\n\n  id: PropTypes.string,\n  className: PropTypes.string,\n  htmlFor: PropTypes.string,\n};\n\nexport default function Label({ value, children, ...props }) {\n  const shared = {\n    id: props.id,\n    htmlFor: props.htmlFor,\n    className: getClassName(['miq-label', props.className]),\n  };\n\n  if (children) {\n    return (\n      <div {...props} {...shared}>\n        {children}\n      </div>\n    );\n  }\n\n  if (!value) return null;\n\n  return <label {...shared}>{value}</label>;\n}\n\nLabel.propTypes = propTypes;\n","import React, { forwardRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { isRequired, IS_DEV } from '@miq/utils';\nimport FormCtx from './FormCtx';\nimport Label from './Label';\n\nconst CheckboxInput = forwardRef(({ label, ...props }, ref) => {\n  const ctx = useContext(FormCtx) || isRequired('FormCtx');\n  const { name = isRequired('name prop') } = props;\n  let { checked, onChange } = props;\n\n  if (Object.keys(ctx.values).includes(name)) {\n    // props[\"checked\"] = ;\n  }\n\n  onChange = onChange || ctx.toggleCheck;\n\n  return (\n    <div className=\"miq-checkbox\">\n      <input {...props} type=\"checkbox\" {...{ onChange }} checked={checked || ctx.values[name]} ref={ref} />\n\n      <Label value={label} className=\"miq-checkbox-label\" />\n    </div>\n  );\n});\n\nCheckboxInput.defaultProps = {\n  id: '',\n  className: '',\n};\n\nCheckboxInput.propTypes = {\n  id: PropTypes.string,\n  className: PropTypes.string,\n  value: PropTypes.any,\n  checked: PropTypes.bool,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nexport default CheckboxInput;\n\nif (IS_DEV) {\n  CheckboxInput.displayName = 'CheckboxInput';\n}\n","import React, { forwardRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { isRequired, IS_DEV, getClassName } from '@miq/utils';\nimport FormCtx from './FormCtx';\n\nconst optionPropTypes = {\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nconst Option = ({ label, children, ...props }) => (\n  <option {...props} value={props.value}>\n    {children || label}\n  </option>\n);\n\nOption.propTypes = optionPropTypes;\n\nconst SelectInput = forwardRef(({ children, ...props }, ref) => {\n  const ctx = useContext(FormCtx) || isRequired('FormCtx');\n  const { name = isRequired('name prop'), nullValue } = props;\n\n  const error = props?.error || ctx?.errors?.[name];\n\n  return (\n    <>\n      <select\n        required={props.required}\n        name={name}\n        value={props.value || ctx?.values?.[name]}\n        onChange={props.onChange || ctx.handleChange}\n        id={props.id}\n        className={getClassName(['miq-select', error && 'form-invalid', props.className])}\n        ref={ref}\n      >\n        {nullValue?.label && <Option {...nullValue} value={nullValue?.value || ''} />}\n        {children}\n      </select>\n      {error && <div className=\"miq-form-error\">{error}</div>}\n    </>\n  );\n});\n\nSelectInput.Option = Option;\n\nSelectInput.defaultProps = {\n  id: '',\n  className: '',\n};\n\nSelectInput.propTypes = {\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  nullValue: PropTypes.shape(optionPropTypes),\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  name: PropTypes.string.isRequired,\n  error: PropTypes.string,\n  onChange: PropTypes.func,\n  ariaLabel: PropTypes.string,\n  id: PropTypes.string,\n  className: PropTypes.string,\n  required: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nexport default SelectInput;\n\nif (IS_DEV) {\n  SelectInput.displayName = 'SelectInput';\n}\n","import { useState } from 'react';\nimport { IS_DEV } from '@miq/utils';\n\nexport default function useForm(defaultValues = {}) {\n  const [values, setValues] = useState({ ...defaultValues });\n  const [errors, setErrors] = useState({});\n\n  const setValue = (key, value) => {\n    setValues({ ...values, [key]: value });\n  };\n\n  const toggleCheck = (e) => {\n    const { name } = e.target;\n    return setValue(name, !values[name]);\n  };\n\n  const handleChange = (e) => {\n    const { name } = e.target;\n\n    if (Object.keys(errors).includes(name)) {\n      setErrors({ ...errors, [name]: null });\n    }\n\n    switch (e.target.type) {\n      case 'checkbox':\n        return toggleCheck(e);\n\n      default:\n        return setValue(e.target.name, e.target.value);\n    }\n  };\n\n  const handleError = (err, log = true) => {\n    if (!err || !err.response) {\n      return;\n    }\n\n    const { response } = err;\n    if (response.status !== 400) {\n      IS_DEV && log && console.error(`Request error status: ${response.status}`);\n      return err;\n    }\n\n    let newData = {};\n    const { data } = response;\n\n    if (IS_DEV && log) {\n      console.error('ERROR=>', data);\n    }\n\n    Object.keys(data).forEach((key) => {\n      let e = data[key];\n      if (Array.isArray(e) && e.length > 0) {\n        e = e[0];\n      }\n      newData = { ...newData, [key]: e.message || e };\n    });\n\n    setErrors({ ...newData });\n  };\n  return {\n    values,\n    handleChange,\n    toggleCheck,\n    setValue,\n    setValues,\n    errors,\n    setErrors,\n    handleError,\n    hasErrors: () => Object.keys(errors).join() !== '',\n  };\n}\n","import { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './form.scss';\nimport { TextArea, TextAreaX, TextInput } from './TextInput';\nimport Label from './Label';\nimport { getClassName } from '@miq/utils/';\n\nimport { FormProvider } from './FormCtx';\nimport CheckboxInput from './CheckboxInput';\nimport SelectInput from './SelectInput';\n\nconst propTypes = {\n  id: PropTypes.string,\n  className: PropTypes.string,\n\n  children: PropTypes.node,\n  context: PropTypes.object.isRequired,\n  onSubmit: PropTypes.func,\n};\n\nconst FormField = ({ children, label, className = 'mb-1', ...props }) => {\n  return (\n    <div className={getClassName(['form-field', className])} {...props}>\n      {label && <Label value={label} />}\n      {children}\n    </div>\n  );\n};\n\nconst Form = forwardRef(({ children, context, ...props }, ref) => {\n  return (\n    <FormProvider value={context}>\n      <form {...props} ref={ref}>\n        {children}\n      </form>\n    </FormProvider>\n  );\n});\n\nForm.Submit = (props) => <input {...props} type=\"submit\" />;\nForm.Field = FormField;\nForm.Label = Label;\nForm.TextInput = TextInput;\nForm.CheckboxInput = CheckboxInput;\nForm.SelectInput = SelectInput;\nForm.TextArea = TextArea;\nForm.TextAreaX = TextAreaX;\n\nForm.propTypes = propTypes;\n\nexport default Form;\nexport { default as useForm } from './useForm';\nexport { default as FormCtx, FormProvider } from './FormCtx';\n","import { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './layout.scss';\n\nimport { SharedDataCtx } from '@miq/contexts';\nimport { getClassName } from '@miq/utils';\nimport { Loading } from '@miq/components';\n\nexport const AdminLayout = ({ children, ...props }) => {\n  const ctx = useContext(SharedDataCtx);\n\n  if (!ctx) return null;\n  if (!ctx.isLoaded) return <Loading />;\n\n  const { user } = ctx;\n\n  if (!user || !user.is_staff) return <div>Not allowed ...</div>;\n\n  return (\n    <div id={props.id} className={getClassName(['miq-admin', props.className])}>\n      {children}\n    </div>\n  );\n};\n\nAdminLayout.propTypes = {\n  match: PropTypes.object.isRequired,\n};\n\n/**\n * MAIN\n * @param {*} param0\n * @returns\n */\n\nexport const AdminMain = ({ children, ...props }) => {\n  return (\n    <main {...props} className={getClassName(['miq-admin-main', props.className])} role=\"main\">\n      <section className=\"container\">{children}</section>\n    </main>\n  );\n};\n\n/**\n * EXPORTS\n */\n\nexport * from './components';\n","import { getClassName } from '@miq/utils';\n\nimport './components.scss';\n\nexport const PublishedStatusSpan = ({ is_published, pill, short }) => {\n  let label = is_published ? 'Published' : 'Draft';\n  if (short) label = label[0];\n\n  return (\n    <span className={getClassName(['published-status-span', pill && 'pill', is_published ? 'published' : 'draft'])}>\n      {label}\n    </span>\n  );\n};\n","import { useContext } from 'react';\n\nimport Form, { useForm } from '@miq/form';\nimport { services, AdminView } from '@miq/adminjs';\nimport { SharedDataCtx } from '@miq/contexts';\nimport { AvatarUploadButton } from '@miq/components';\n\nconst errorMessages = {\n  first_name: 'Enter a valid first name',\n  last_name: 'Enter a valid last name',\n};\n\nexport const AccountProfileUpdateView = (props) => {\n  const { user, updateUser, apps } = useContext(SharedDataCtx);\n  const { employee } = user;\n\n  const formInitData = { first_name: user.first_name, last_name: user.last_name };\n  if (employee) {\n    formInitData.position = employee.position;\n  }\n  const form = useForm(formInitData);\n\n  const saveAccount = ({ name, value }) => {\n    services\n      .patch(\n        'account/current/',\n        { [name]: value },\n        { [name]: user[name] },\n        { headers: { 'content-type': 'application/json' } }\n      )\n      .then((data) => {\n        updateUser(data);\n      })\n      .catch((err) => {\n        form.handleError(err);\n      });\n  };\n\n  const validate = ({ value, name }) => {\n    if (value.length < 3) {\n      form.setErrors({ ...form.errors, [name]: errorMessages[name] || 'Invalid' });\n      return false;\n    }\n    return true;\n  };\n\n  return (\n    <Form context={form}>\n      <AdminView title={`Account`} className=\"staff-profile-update-view miq-container-fluid\">\n        <div className=\"d-grid grid-md-4 gap-2\">\n          <AdminView.Section title=\"Profile information\" text=\"Update your profile information.\" className=\"span-md-3\">\n            <div className=\"d-grid grid-12 mb-2\">\n              <Form.Label value=\"First name\" className=\"span-12 mb-1\" />\n              <Form.TextInput\n                required\n                name=\"first_name\"\n                onSave={saveAccount}\n                isValid={validate}\n                error={form.errors.first_name}\n                placeholder=\"First name\"\n                className=\"span-12 span-md-6\"\n                minLength={2}\n              />\n            </div>\n\n            <div className=\"d-grid grid-12 mb-2\">\n              <Form.Label value=\"Last name\" className=\"span-12 mb-1\" />\n              <Form.TextInput\n                required\n                name=\"last_name\"\n                onSave={saveAccount}\n                isValid={validate}\n                error={form.errors.last_name}\n                placeholder=\"Last name\"\n                className=\"span-12 span-md-6\"\n                minLength={2}\n              />\n            </div>\n\n            <div className=\"\">\n              <Form.Label value=\"Gender\" className=\"me-2\" />\n              {/* <Form.SelectInput value={form.gender}> */}\n              <select\n                name=\"gender\"\n                value={user.gender}\n                onChange={({ target }) => saveAccount(target)}\n                className=\"miq-select\"\n              >\n                <option value=\"OTHER\">Other</option>\n                <option value=\"MALE\">Male</option>\n                <option value=\"FEMALE\">Female</option>\n              </select>\n              {/* </Form.SelectInput> */}\n            </div>\n\n            {Object.keys(apps).includes('miq_hrm') && (\n              <section className=\"mb-3\">\n                <div className=\"d-grid grid-12 mb-2\">\n                  <Form.Label value=\"Role\" className=\"span-12 mb-1\" />\n                  <Form.TextInput\n                    required\n                    name=\"position\"\n                    onSave={({ value }) =>\n                      services\n                        .patch(\n                          'account/current/position/',\n                          { position: value }\n                          // { position: employee.position }\n                        )\n                        .catch((err) => {\n                          form.handleError(err);\n                        })\n                    }\n                    isValid={validate}\n                    error={form.errors.position}\n                    placeholder=\"Role\"\n                    className=\"span-12 span-md-9\"\n                    minLength={2}\n                  />\n                </div>\n              </section>\n            )}\n          </AdminView.Section>\n          <AdminView.Section\n            title=\"Avatar\"\n            text=\"Update your profile picture. Images must be .png, .jpg or .gif format.\"\n            className=\"span-md-1\"\n          >\n            <div className=\"\">\n              <AvatarUploadButton />\n            </div>\n          </AdminView.Section>\n        </div>\n\n        <AdminView.Section title=\"Email\" text=\"Please contact support to change your email.\">\n          <p className=\"text-muted text-sm\">{user.email}</p>\n        </AdminView.Section>\n\n        <AdminView.Section\n          title=\"Password\"\n          text=\"Please contact support to change your password. Password must be at least 6 characters long.\"\n        />\n      </AdminView>\n    </Form>\n  );\n};\n","import { lazy } from 'react';\n\nimport { Switch } from 'react-router-dom';\n\nimport { AdminRoute } from '@miq/adminjs';\nimport { addForwardSlash } from '@miq/utils/';\n\nimport './style.scss';\n\nconst StaffSettingIndexView = lazy(() => import('./IndexView'));\nconst StaffSettingsGeneralView = lazy(() => import('./GeneralSettingsUpdateView'));\nconst StaffSiteIndexUpdateView = lazy(() => import('./IndexSettingsUpdateView'));\nconst StaffNavSettingsUpdateView = lazy(() => import('./NavSettingsUpdateView'));\n\nexport default function SettingsLayout(props) {\n  const { path } = props.match;\n  const url = addForwardSlash(props.match.url);\n\n  return (\n    <Switch>\n      <AdminRoute\n        path={`${path}general/`}\n        render={(args) => <StaffSettingsGeneralView {...args} back={url} />}\n        // requiredPerms={['shop.view_product']}\n      />\n      <AdminRoute\n        path={`${path}index/`}\n        render={(args) => <StaffSiteIndexUpdateView {...args} back={url} />}\n        // requiredPerms={['shop.view_product']}\n      />\n      <AdminRoute\n        path={`${path}nav/`}\n        render={(args) => <StaffNavSettingsUpdateView {...args} back={url} />}\n        // requiredPerms={['shop.view_product']}\n      />\n      <AdminRoute\n        path={path}\n        render={(args) => <StaffSettingIndexView {...args} back={'/staff/'} />}\n        //  requiredPerms={['shop.view_product']}\n      />\n    </Switch>\n  );\n}\n"],"sourceRoot":""}